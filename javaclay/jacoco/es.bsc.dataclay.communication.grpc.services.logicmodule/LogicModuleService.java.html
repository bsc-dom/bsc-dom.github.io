<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LogicModuleService.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">dataclay</a> &gt; <a href="index.source.html" class="el_package">es.bsc.dataclay.communication.grpc.services.logicmodule</a> &gt; <span class="el_source">LogicModuleService.java</span></div><h1>LogicModuleService.java</h1><pre class="source lang-java linenums">
package es.bsc.dataclay.communication.grpc.services.logicmodule;

import java.util.*;
import java.util.Map.Entry;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import com.google.protobuf.ByteString;

import es.bsc.dataclay.communication.grpc.Utils;
import es.bsc.dataclay.communication.grpc.generated.logicmodule.LogicModuleGrpc;
import es.bsc.dataclay.communication.grpc.messages.common.CommonMessages;
import es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.EmptyMessage;
import es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.ExceptionInfo;
import es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.GetTracesResponse;
import es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.Langs;
import es.bsc.dataclay.communication.grpc.messages.logicmodule.LogicmoduleMessages.*;
import es.bsc.dataclay.logic.LogicModule;
import es.bsc.dataclay.serialization.lib.SerializedParametersOrReturn;
import es.bsc.dataclay.util.Configuration;
import es.bsc.dataclay.util.events.listeners.ECA;
import es.bsc.dataclay.util.events.message.EventMessage;
import es.bsc.dataclay.util.ids.AccountID;
import es.bsc.dataclay.util.ids.ContractID;
import es.bsc.dataclay.util.ids.DataClayInstanceID;
import es.bsc.dataclay.util.ids.DataContractID;
import es.bsc.dataclay.util.ids.DataSetID;
import es.bsc.dataclay.util.ids.ExecutionEnvironmentID;
import es.bsc.dataclay.util.ids.InterfaceID;
import es.bsc.dataclay.util.ids.MetaClassID;
import es.bsc.dataclay.util.ids.NamespaceID;
import es.bsc.dataclay.util.ids.ObjectID;
import es.bsc.dataclay.util.ids.OperationID;
import es.bsc.dataclay.util.ids.PropertyID;
import es.bsc.dataclay.util.ids.StorageLocationID;
import es.bsc.dataclay.util.info.VersionInfo;
import es.bsc.dataclay.util.management.accountmgr.Account;
import es.bsc.dataclay.util.management.classmgr.MetaClass;
import es.bsc.dataclay.util.management.contractmgr.Contract;
import es.bsc.dataclay.util.management.datacontractmgr.DataContract;
import es.bsc.dataclay.util.management.datasetmgr.DataSet;
import es.bsc.dataclay.util.management.interfacemgr.Interface;
import es.bsc.dataclay.util.management.metadataservice.DataClayInstance;
import es.bsc.dataclay.util.management.metadataservice.ExecutionEnvironment;
import es.bsc.dataclay.util.management.metadataservice.MetaDataInfo;
import es.bsc.dataclay.util.management.metadataservice.RegistrationInfo;
import es.bsc.dataclay.util.management.metadataservice.StorageLocation;
import es.bsc.dataclay.util.management.namespacemgr.Namespace;
import es.bsc.dataclay.util.management.sessionmgr.SessionInfo;
import es.bsc.dataclay.util.structs.Triple;
import es.bsc.dataclay.util.structs.Tuple;
import es.bsc.dataclay.util.yaml.CommonYAML;
import io.grpc.stub.StreamObserver;

/**
 * Implements all LogicModule GRPC methods.
 */
public final class LogicModuleService extends LogicModuleGrpc.LogicModuleImplBase {
<span class="nc" id="L61">	private static final Logger logger = LogManager.getLogger(&quot;communication.LogicModule.service&quot;);</span>

	/** Actual logic module implementation. */
	private final LogicModule logicModule;

	/** Indicates if debug is enabled. */
<span class="nc" id="L67">	protected static final boolean DEBUG_ENABLED = Configuration.isDebugEnabled();</span>

	/**
	 * Constructor
	 * 
	 * @param theLogicModule
	 *            Logic module to process calls
	 */
<span class="nc" id="L75">	public LogicModuleService(final LogicModule theLogicModule) {</span>
<span class="nc" id="L76">		this.logicModule = theLogicModule;</span>
<span class="nc" id="L77">		logger.info(&quot;Initialized LogicModuleService&quot;);</span>
<span class="nc" id="L78">	}</span>

	@Override
	public void checkAlive(final es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.EmptyMessage request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L84">			logicModule.checkAlive();</span>

<span class="nc" id="L86">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L87">			responseObserver.onCompleted();</span>

<span class="nc" id="L89">		} catch (final Exception e) {</span>
<span class="nc" id="L90">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L91">			responseObserver.onNext(resp);</span>
<span class="nc" id="L92">			responseObserver.onCompleted();</span>
<span class="nc" id="L93">		}</span>
<span class="nc" id="L94">	}</span>

	@Override
	public void autoregisterEE(final AutoRegisterEERequest request,
			final StreamObserver&lt;AutoRegisterEEResponse&gt; responseObserver) {

		try {
<span class="nc" id="L101">			final StorageLocationID result = logicModule.autoregisterEE(Utils.getExecutionEnvironmentID(request.getExecutionEnvironmentID()),</span>
<span class="nc" id="L102">					request.getEeName(), request.getEeHostname(), request.getEePort(),</span>
<span class="nc" id="L103">					Langs.values()[request.getLangValue()]);</span>
<span class="nc" id="L104">			final AutoRegisterEEResponse resp = AutoRegisterEEResponse.newBuilder()</span>
<span class="nc" id="L105">					.setStorageLocationID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L106">			responseObserver.onNext(resp);</span>
<span class="nc" id="L107">			responseObserver.onCompleted();</span>

<span class="nc" id="L109">		} catch (final Exception e) {</span>
<span class="nc" id="L110">			final AutoRegisterEEResponse.Builder builder = AutoRegisterEEResponse.newBuilder();</span>
<span class="nc" id="L111">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L112">			final AutoRegisterEEResponse resp = builder.build();</span>
<span class="nc" id="L113">			responseObserver.onNext(resp);</span>
<span class="nc" id="L114">			responseObserver.onCompleted();</span>
<span class="nc" id="L115">		}</span>
<span class="nc" id="L116">	}</span>
	
	@Override
	public void autoregisterSL(final AutoRegisterSLRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {

		try {
<span class="nc" id="L123">			logicModule.autoregisterSL(Utils.getStorageLocationID(request.getStorageLocationID()),</span>
<span class="nc" id="L124">					request.getDsName(), request.getDsHostname(), request.getDsPort());</span>
<span class="nc" id="L125">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L126">			responseObserver.onCompleted();</span>
<span class="nc" id="L127">		} catch (final Exception e) {</span>
<span class="nc" id="L128">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L129">			responseObserver.onNext(resp);</span>
<span class="nc" id="L130">			responseObserver.onCompleted();</span>
<span class="nc" id="L131">		}</span>
<span class="nc" id="L132">	}</span>

	@Override
	public void unregisterStorageLocation(final UnregisterStorageLocationRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L138">			logicModule.unregisterStorageLocation(Utils.getStorageLocationID(request.getStorageLocationID()));</span>
<span class="nc" id="L139">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L141">			responseObserver.onCompleted();</span>

<span class="nc" id="L143">		} catch (final Exception e) {</span>
<span class="nc" id="L144">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L145">			responseObserver.onNext(resp);</span>
<span class="nc" id="L146">			responseObserver.onCompleted();</span>
<span class="nc" id="L147">		}</span>
<span class="nc" id="L148">	}</span>

	@Override
	public void unregisterExecutionEnvironment(final UnregisterExecutionEnvironmentRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L154">			logicModule.unregisterExecutionEnvironment(Utils.getExecutionEnvironmentID(request.getExecutionEnvironmentID()));</span>
<span class="nc" id="L155">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L157">			responseObserver.onCompleted();</span>

<span class="nc" id="L159">		} catch (final Exception e) {</span>
<span class="nc" id="L160">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L161">			responseObserver.onNext(resp);</span>
<span class="nc" id="L162">			responseObserver.onCompleted();</span>
<span class="nc" id="L163">		}</span>
<span class="nc" id="L164">	}</span>
	
	@Override
	public void publishAddress(final PublishAddressRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L170">			logicModule.publishAddress(request.getHostname(), request.getPort());</span>
<span class="nc" id="L171">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L172">			responseObserver.onCompleted();</span>
<span class="nc" id="L173">		} catch (final Exception e) {</span>
<span class="nc" id="L174">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L175">			responseObserver.onNext(resp);</span>
<span class="nc" id="L176">			responseObserver.onCompleted();</span>
<span class="nc" id="L177">		}</span>
<span class="nc" id="L178">	}</span>

	@Override
	public void performSetOfNewAccounts(final PerformSetAccountsRequest request,
			final StreamObserver&lt;PerformSetAccountsResponse&gt; responseObserver) {

		try {
<span class="nc" id="L185">			final byte[] result = logicModule.performSetOfNewAccounts(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L186">					Utils.getCredential(request.getCredential()), request.getYaml().getBytes());</span>
<span class="nc" id="L187">			final PerformSetAccountsResponse resp = PerformSetAccountsResponse.newBuilder()</span>
<span class="nc" id="L188">					.setResultYaml(new String(result)).build();</span>

<span class="nc" id="L190">			responseObserver.onNext(resp);</span>
<span class="nc" id="L191">			responseObserver.onCompleted();</span>

<span class="nc" id="L193">		} catch (final Exception e) {</span>
<span class="nc" id="L194">			final PerformSetAccountsResponse.Builder builder = PerformSetAccountsResponse.newBuilder();</span>
<span class="nc" id="L195">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L196">			final PerformSetAccountsResponse resp = builder.build();</span>
<span class="nc" id="L197">			responseObserver.onNext(resp);</span>
<span class="nc" id="L198">			responseObserver.onCompleted();</span>
<span class="nc" id="L199">		}</span>
<span class="nc" id="L200">	}</span>

	@Override
	public void performSetOfOperations(final PerformSetOperationsRequest request,
			final StreamObserver&lt;PerformSetOperationsResponse&gt; responseObserver) {
		try {
<span class="nc" id="L206">			final byte[] result = logicModule.performSetOfOperations(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L207">					Utils.getCredential(request.getCredential()), request.getYaml().getBytes());</span>
<span class="nc" id="L208">			final PerformSetOperationsResponse resp = PerformSetOperationsResponse.newBuilder()</span>
<span class="nc" id="L209">					.setResultYaml(new String(result)).build();</span>

<span class="nc" id="L211">			responseObserver.onNext(resp);</span>
<span class="nc" id="L212">			responseObserver.onCompleted();</span>

<span class="nc" id="L214">		} catch (final Exception ex) {</span>

<span class="nc" id="L216">			logger.debug(&quot;performSetOfOperations error&quot;, ex);</span>

<span class="nc" id="L218">			final PerformSetOperationsResponse.Builder builder = PerformSetOperationsResponse.newBuilder();</span>
<span class="nc" id="L219">			builder.setExcInfo(Utils.serializeException(ex));</span>
<span class="nc" id="L220">			final PerformSetOperationsResponse resp = builder.build();</span>
<span class="nc" id="L221">			responseObserver.onNext(resp);</span>
<span class="nc" id="L222">			responseObserver.onCompleted();</span>
<span class="nc" id="L223">		}</span>

<span class="nc" id="L225">	}</span>

	/**
	 * &lt;pre&gt;
	 * Account Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newAccountNoAdmin(final NewAccountNoAdminRequest request,
			final StreamObserver&lt;NewAccountResponse&gt; responseObserver) {
		try {
			// String yamlStr = CommonYAML.getYamlObject().dump(params[0]);
<span class="nc" id="L237">			final Account acc = (Account) CommonYAML.getYamlObject().load(request.getYamlNewAccount());</span>
<span class="nc" id="L238">			final AccountID result = logicModule.newAccountNoAdmin(acc);</span>
<span class="nc" id="L239">			final NewAccountResponse resp = NewAccountResponse.newBuilder().setNewAccountID(Utils.getMsgID(result))</span>
<span class="nc" id="L240">					.build();</span>

<span class="nc" id="L242">			responseObserver.onNext(resp);</span>
<span class="nc" id="L243">			responseObserver.onCompleted();</span>

<span class="nc" id="L245">		} catch (final Exception e) {</span>
<span class="nc" id="L246">			final NewAccountResponse.Builder builder = NewAccountResponse.newBuilder();</span>
<span class="nc" id="L247">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L248">			final NewAccountResponse resp = builder.build();</span>
<span class="nc" id="L249">			responseObserver.onNext(resp);</span>
<span class="nc" id="L250">			responseObserver.onCompleted();</span>
<span class="nc" id="L251">		}</span>

<span class="nc" id="L253">	}</span>

	/**
	 * &lt;pre&gt;
	 * Account Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newAccount(final NewAccountRequest request, final StreamObserver&lt;NewAccountResponse&gt; responseObserver) {
		try {
			// String yamlStr = CommonYAML.getYamlObject().dump(params[0]);
<span class="nc" id="L264">			final Account acc = (Account) CommonYAML.getYamlObject().load(request.getYamlNewAccount());</span>
<span class="nc" id="L265">			final AccountID result = logicModule.newAccount(Utils.getAccountID(request.getAdminID()),</span>
<span class="nc" id="L266">					Utils.getCredential(request.getAdmincredential()), acc);</span>
<span class="nc" id="L267">			final NewAccountResponse resp = NewAccountResponse.newBuilder().setNewAccountID(Utils.getMsgID(result))</span>
<span class="nc" id="L268">					.build();</span>

<span class="nc" id="L270">			responseObserver.onNext(resp);</span>
<span class="nc" id="L271">			responseObserver.onCompleted();</span>

<span class="nc" id="L273">		} catch (final Exception e) {</span>
<span class="nc" id="L274">			final NewAccountResponse.Builder builder = NewAccountResponse.newBuilder();</span>
<span class="nc" id="L275">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L276">			final NewAccountResponse resp = builder.build();</span>
<span class="nc" id="L277">			responseObserver.onNext(resp);</span>
<span class="nc" id="L278">			responseObserver.onCompleted();</span>
<span class="nc" id="L279">		}</span>

<span class="nc" id="L281">	}</span>

	@Override
	public void getAccountID(final GetAccountIDRequest request,
			final StreamObserver&lt;GetAccountIDResponse&gt; responseObserver) {
		try {
<span class="nc" id="L287">			final AccountID result = logicModule.getAccountID(request.getAccountName());</span>
<span class="nc" id="L288">			final GetAccountIDResponse resp = GetAccountIDResponse.newBuilder().setNewAccountID(Utils.getMsgID(result))</span>
<span class="nc" id="L289">					.build();</span>
<span class="nc" id="L290">			responseObserver.onNext(resp);</span>
<span class="nc" id="L291">			responseObserver.onCompleted();</span>

<span class="nc" id="L293">		} catch (final Exception e) {</span>
<span class="nc" id="L294">			final GetAccountIDResponse.Builder builder = GetAccountIDResponse.newBuilder();</span>
<span class="nc" id="L295">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L296">			final GetAccountIDResponse resp = builder.build();</span>
<span class="nc" id="L297">			responseObserver.onNext(resp);</span>
<span class="nc" id="L298">			responseObserver.onCompleted();</span>
<span class="nc" id="L299">		}</span>
<span class="nc" id="L300">	}</span>

	@Override
	public void getAccountList(final GetAccountListRequest request,
			final StreamObserver&lt;GetAccountListResponse&gt; responseObserver) {
		try {
<span class="nc" id="L306">			final HashSet&lt;AccountID&gt; result = logicModule.getAccountList(Utils.getAccountID(request.getAdminID()),</span>
<span class="nc" id="L307">					Utils.getCredential(request.getAdmincredential()));</span>

<span class="nc" id="L309">			final GetAccountListResponse.Builder builder = GetAccountListResponse.newBuilder();</span>
<span class="nc bnc" id="L310" title="All 2 branches missed.">			for (final AccountID accID : result) {</span>
<span class="nc" id="L311">				builder.addAccountIDs(accID.toString());</span>
<span class="nc" id="L312">			}</span>
<span class="nc" id="L313">			final GetAccountListResponse resp = builder.build();</span>
<span class="nc" id="L314">			responseObserver.onNext(resp);</span>
<span class="nc" id="L315">			responseObserver.onCompleted();</span>

<span class="nc" id="L317">		} catch (final Exception e) {</span>
<span class="nc" id="L318">			final GetAccountListResponse.Builder builder = GetAccountListResponse.newBuilder();</span>
<span class="nc" id="L319">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L320">			final GetAccountListResponse resp = builder.build();</span>
<span class="nc" id="L321">			responseObserver.onNext(resp);</span>
<span class="nc" id="L322">			responseObserver.onCompleted();</span>
<span class="nc" id="L323">		}</span>
<span class="nc" id="L324">	}</span>

	/**
	 * &lt;pre&gt;
	 * Session Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newSession(final NewSessionRequest request, final StreamObserver&lt;NewSessionResponse&gt; responseObserver) {
		try {
<span class="nc" id="L334">			final Set&lt;ContractID&gt; contracts = new HashSet&lt;&gt;();</span>
<span class="nc bnc" id="L335" title="All 2 branches missed.">			for (final String cID : request.getContractIDsList()) {</span>
<span class="nc" id="L336">				contracts.add(Utils.getContractID(cID));</span>
<span class="nc" id="L337">			}</span>
<span class="nc" id="L338">			final Set&lt;DataSetID&gt; dataSetIDs = new HashSet&lt;&gt;();</span>
<span class="nc bnc" id="L339" title="All 2 branches missed.">			for (final String dsID : request.getDataSetIDsList()) {</span>
<span class="nc" id="L340">				dataSetIDs.add(Utils.getDataSetID(dsID));</span>
<span class="nc" id="L341">			}</span>
<span class="nc" id="L342">			final SessionInfo result = logicModule.newSession(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L343">					Utils.getCredential(request.getCredential()), contracts, dataSetIDs,</span>
<span class="nc" id="L344">					Utils.getDataSetID(request.getStoreDataSet()),</span>
<span class="nc" id="L345">					Langs.values()[request.getSessionLangValue()]);</span>

<span class="nc" id="L347">			final NewSessionResponse resp = NewSessionResponse.newBuilder()</span>
<span class="nc" id="L348">					.setSessionInfo(CommonYAML.getYamlObject().dump(result)).build();</span>

<span class="nc" id="L350">			responseObserver.onNext(resp);</span>
<span class="nc" id="L351">			responseObserver.onCompleted();</span>

<span class="nc" id="L353">		} catch (final Exception ex) {</span>
<span class="nc" id="L354">			logger.debug(&quot;newSession error&quot;, ex);</span>

<span class="nc" id="L356">			final NewSessionResponse.Builder builder = NewSessionResponse.newBuilder();</span>
<span class="nc" id="L357">			builder.setExcInfo(Utils.serializeException(ex));</span>
<span class="nc" id="L358">			final NewSessionResponse resp = builder.build();</span>
<span class="nc" id="L359">			responseObserver.onNext(resp);</span>
<span class="nc" id="L360">			responseObserver.onCompleted();</span>
<span class="nc" id="L361">		}</span>
<span class="nc" id="L362">	}</span>

	@Override
	public void closeSession(final CloseSessionRequest request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {

<span class="nc" id="L368">			logicModule.closeSession(Utils.getSessionID(request.getSessionID()));</span>
<span class="nc" id="L369">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L370">			responseObserver.onCompleted();</span>
<span class="nc" id="L371">		} catch (final Exception e) {</span>
<span class="nc" id="L372">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L373">			responseObserver.onNext(resp);</span>
<span class="nc" id="L374">			responseObserver.onCompleted();</span>
<span class="nc" id="L375">		}</span>
<span class="nc" id="L376">	}</span>

	@Override
	public void getInfoOfSessionForDS(final GetInfoOfSessionForDSRequest request,
			final StreamObserver&lt;GetInfoOfSessionForDSResponse&gt; responseObserver) {

		try {
<span class="nc" id="L383">			final Tuple&lt;Tuple&lt;DataSetID, Set&lt;DataSetID&gt;&gt;, Calendar&gt; result = logicModule</span>
<span class="nc" id="L384">					.getInfoOfSessionForDS(Utils.getSessionID(request.getSessionID()));</span>

<span class="nc" id="L386">			final GetInfoOfSessionForDSResponse.Builder builder = GetInfoOfSessionForDSResponse.newBuilder()</span>
<span class="nc" id="L387">					.setDataSetID(Utils.getMsgID(result.getFirst().getFirst()))</span>
<span class="nc" id="L388">					.setDate(result.getSecond().getTimeInMillis());</span>
<span class="nc bnc" id="L389" title="All 2 branches missed.">			for (final DataSetID dsID : result.getFirst().getSecond()) {</span>
<span class="nc" id="L390">				builder.addDataSetIDs(Utils.getMsgID(dsID));</span>
<span class="nc" id="L391">			}</span>
<span class="nc" id="L392">			final GetInfoOfSessionForDSResponse resp = builder.build();</span>
<span class="nc" id="L393">			responseObserver.onNext(resp);</span>
<span class="nc" id="L394">			responseObserver.onCompleted();</span>

<span class="nc" id="L396">		} catch (final Exception e) {</span>
<span class="nc" id="L397">			final GetInfoOfSessionForDSResponse.Builder builder = GetInfoOfSessionForDSResponse.newBuilder();</span>
<span class="nc" id="L398">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L399">			final GetInfoOfSessionForDSResponse resp = builder.build();</span>
<span class="nc" id="L400">			responseObserver.onNext(resp);</span>
<span class="nc" id="L401">			responseObserver.onCompleted();</span>
<span class="nc" id="L402">		}</span>
<span class="nc" id="L403">	}</span>

	/**
	 * &lt;pre&gt;
	 * Namespace Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newNamespace(final NewNamespaceRequest request,
			final StreamObserver&lt;NewNamespaceResponse&gt; responseObserver) {
		try {
<span class="nc" id="L414">			final Namespace newNamespace = (Namespace) CommonYAML.getYamlObject().load(request.getNewNamespaceYaml());</span>
<span class="nc" id="L415">			final NamespaceID domID = logicModule.newNamespace(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L416">					Utils.getCredential(request.getCredential()), newNamespace);</span>

<span class="nc" id="L418">			final NewNamespaceResponse resp = NewNamespaceResponse.newBuilder().setNamespaceID(Utils.getMsgID(domID))</span>
<span class="nc" id="L419">					.build();</span>

<span class="nc" id="L421">			responseObserver.onNext(resp);</span>
<span class="nc" id="L422">			responseObserver.onCompleted();</span>

<span class="nc" id="L424">		} catch (final Exception e) {</span>
<span class="nc" id="L425">			final NewNamespaceResponse.Builder builder = NewNamespaceResponse.newBuilder();</span>
<span class="nc" id="L426">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L427">			final NewNamespaceResponse resp = builder.build();</span>
<span class="nc" id="L428">			responseObserver.onNext(resp);</span>
<span class="nc" id="L429">			responseObserver.onCompleted();</span>
<span class="nc" id="L430">		}</span>
<span class="nc" id="L431">	}</span>

	@Override
	public void removeNamespace(final RemoveNamespaceRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L437">			logicModule.removeNamespace(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L438">					Utils.getCredential(request.getCredential()), request.getNamespaceName());</span>

<span class="nc" id="L440">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L442">			responseObserver.onCompleted();</span>

<span class="nc" id="L444">		} catch (final Exception e) {</span>
<span class="nc" id="L445">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L446">			responseObserver.onNext(resp);</span>
<span class="nc" id="L447">			responseObserver.onCompleted();</span>
<span class="nc" id="L448">		}</span>
<span class="nc" id="L449">	}</span>

	@Override
	public void getNamespaces(final GetNamespacesRequest request,
			final StreamObserver&lt;GetNamespacesResponse&gt; responseObserver) {
		try {
<span class="nc" id="L455">			final Set&lt;String&gt; result = logicModule.getNamespaces(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L456">					Utils.getCredential(request.getCredential()));</span>
<span class="nc" id="L457">			final GetNamespacesResponse resp = GetNamespacesResponse.newBuilder().addAllNamespaces(result).build();</span>
<span class="nc" id="L458">			responseObserver.onNext(resp);</span>
<span class="nc" id="L459">			responseObserver.onCompleted();</span>

<span class="nc" id="L461">		} catch (final Exception e) {</span>
<span class="nc" id="L462">			final GetNamespacesResponse.Builder builder = GetNamespacesResponse.newBuilder();</span>
<span class="nc" id="L463">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L464">			final GetNamespacesResponse resp = builder.build();</span>
<span class="nc" id="L465">			responseObserver.onNext(resp);</span>
<span class="nc" id="L466">			responseObserver.onCompleted();</span>
<span class="nc" id="L467">		}</span>
<span class="nc" id="L468">	}</span>

	@Override
	public void getNamespaceID(final GetNamespaceIDRequest request,
			final StreamObserver&lt;GetNamespaceIDResponse&gt; responseObserver) {
		try {
<span class="nc" id="L474">			final NamespaceID namespaceID = logicModule.getNamespaceID(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L475">					Utils.getCredential(request.getCredential()), request.getNamespaceName());</span>
<span class="nc" id="L476">			final GetNamespaceIDResponse resp = GetNamespaceIDResponse.newBuilder()</span>
<span class="nc" id="L477">					.setNamespaceID(Utils.getMsgID(namespaceID)).build();</span>
<span class="nc" id="L478">			responseObserver.onNext(resp);</span>
<span class="nc" id="L479">			responseObserver.onCompleted();</span>

<span class="nc" id="L481">		} catch (final Exception e) {</span>
<span class="nc" id="L482">			final GetNamespaceIDResponse.Builder builder = GetNamespaceIDResponse.newBuilder();</span>
<span class="nc" id="L483">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L484">			final GetNamespaceIDResponse resp = builder.build();</span>
<span class="nc" id="L485">			responseObserver.onNext(resp);</span>
<span class="nc" id="L486">			responseObserver.onCompleted();</span>
<span class="nc" id="L487">		}</span>
<span class="nc" id="L488">	}</span>

	@Override
	public void getNamespaceLang(final GetNamespaceLangRequest request,
			final StreamObserver&lt;GetNamespaceLangResponse&gt; responseObserver) {
		try {
<span class="nc" id="L494">			final Langs language = logicModule.getNamespaceLang(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L495">					Utils.getCredential(request.getCredential()), request.getNamespaceName());</span>
<span class="nc" id="L496">			final GetNamespaceLangResponse resp = GetNamespaceLangResponse.newBuilder().setLanguage(language).build();</span>
<span class="nc" id="L497">			responseObserver.onNext(resp);</span>
<span class="nc" id="L498">			responseObserver.onCompleted();</span>

<span class="nc" id="L500">		} catch (final Exception e) {</span>
<span class="nc" id="L501">			final GetNamespaceLangResponse.Builder builder = GetNamespaceLangResponse.newBuilder();</span>
<span class="nc" id="L502">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L503">			final GetNamespaceLangResponse resp = builder.build();</span>
<span class="nc" id="L504">			responseObserver.onNext(resp);</span>
<span class="nc" id="L505">			responseObserver.onCompleted();</span>
<span class="nc" id="L506">		}</span>
<span class="nc" id="L507">	}</span>

	@Override
	public void getObjectDataSetID(final GetObjectDataSetIDRequest request,
			final StreamObserver&lt;GetObjectDataSetIDResponse&gt; responseObserver) {
		try {
<span class="nc" id="L513">			final DataSetID result = logicModule.getObjectDataSetID(Utils.getSessionID(request.getSessionID()),</span>
<span class="nc" id="L514">					Utils.getObjectID(request.getObjectID()));</span>
<span class="nc" id="L515">			final GetObjectDataSetIDResponse resp = GetObjectDataSetIDResponse.newBuilder()</span>
<span class="nc" id="L516">					.setDataSetID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L517">			responseObserver.onNext(resp);</span>
<span class="nc" id="L518">			responseObserver.onCompleted();</span>

<span class="nc" id="L520">		} catch (final Exception e) {</span>
<span class="nc" id="L521">			final GetObjectDataSetIDResponse.Builder builder = GetObjectDataSetIDResponse.newBuilder();</span>
<span class="nc" id="L522">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L523">			final GetObjectDataSetIDResponse resp = builder.build();</span>
<span class="nc" id="L524">			responseObserver.onNext(resp);</span>
<span class="nc" id="L525">			responseObserver.onCompleted();</span>
<span class="nc" id="L526">		}</span>
<span class="nc" id="L527">	}</span>

	@Override
	public void importInterface(final ImportInterfaceRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L533">			logicModule.importInterface(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L534">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L535">					Utils.getContractID(request.getContractID()), Utils.getInterfaceID(request.getInterfaceID()));</span>

<span class="nc" id="L537">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L539">			responseObserver.onCompleted();</span>

<span class="nc" id="L541">		} catch (final Exception e) {</span>
<span class="nc" id="L542">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L543">			responseObserver.onNext(resp);</span>
<span class="nc" id="L544">			responseObserver.onCompleted();</span>
<span class="nc" id="L545">		}</span>
<span class="nc" id="L546">	}</span>

	@Override
	public void importContract(final ImportContractRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {

		try {
<span class="nc" id="L553">			logicModule.importContract(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L554">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L555">					Utils.getContractID(request.getContractID()));</span>

<span class="nc" id="L557">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L559">			responseObserver.onCompleted();</span>

<span class="nc" id="L561">		} catch (final Exception e) {</span>
<span class="nc" id="L562">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L563">			responseObserver.onNext(resp);</span>
<span class="nc" id="L564">			responseObserver.onCompleted();</span>
<span class="nc" id="L565">		}</span>
<span class="nc" id="L566">	}</span>

	@Override
	public void getInfoOfClassesInNamespace(final GetInfoOfClassesInNamespaceRequest request,
			final StreamObserver&lt;GetInfoOfClassesInNamespaceResponse&gt; responseObserver) {
		try {
<span class="nc" id="L572">			final Map&lt;MetaClassID, MetaClass&gt; result = logicModule.getInfoOfClassesInNamespace(</span>
<span class="nc" id="L573">					Utils.getAccountID(request.getAccountID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L574">					Utils.getNamespaceID(request.getNamespaceID()));</span>

			final GetInfoOfClassesInNamespaceResponse.Builder builder = GetInfoOfClassesInNamespaceResponse
<span class="nc" id="L577">					.newBuilder();</span>
<span class="nc bnc" id="L578" title="All 2 branches missed.">			for (final Entry&lt;MetaClassID, MetaClass&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L579">				final String yaml = CommonYAML.getYamlObject().dump(entry.getValue());</span>
<span class="nc" id="L580">				builder.putClassesInfo(entry.getKey().toString(), yaml);</span>
<span class="nc" id="L581">			}</span>

<span class="nc" id="L583">			final GetInfoOfClassesInNamespaceResponse resp = builder.build();</span>
<span class="nc" id="L584">			responseObserver.onNext(resp);</span>
<span class="nc" id="L585">			responseObserver.onCompleted();</span>

<span class="nc" id="L587">		} catch (final Exception e) {</span>
			final GetInfoOfClassesInNamespaceResponse.Builder builder = GetInfoOfClassesInNamespaceResponse
<span class="nc" id="L589">					.newBuilder();</span>
<span class="nc" id="L590">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L591">			final GetInfoOfClassesInNamespaceResponse resp = builder.build();</span>
<span class="nc" id="L592">			responseObserver.onNext(resp);</span>
<span class="nc" id="L593">			responseObserver.onCompleted();</span>
<span class="nc" id="L594">		}</span>
<span class="nc" id="L595">	}</span>

	/**
	 * &lt;pre&gt;
	 * DataSet Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newDataSet(final NewDataSetRequest request, final StreamObserver&lt;NewDataSetResponse&gt; responseObserver) {
		try {
<span class="nc" id="L605">			final DataSet newDataSet = (DataSet) CommonYAML.getYamlObject().load(request.getDataSetYaml());</span>
<span class="nc" id="L606">			final DataSetID result = logicModule.newDataSet(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L607">					Utils.getCredential(request.getCredential()), newDataSet);</span>
<span class="nc" id="L608">			final NewDataSetResponse resp = NewDataSetResponse.newBuilder().setDataSetID(Utils.getMsgID(result))</span>
<span class="nc" id="L609">					.build();</span>

<span class="nc" id="L611">			responseObserver.onNext(resp);</span>
<span class="nc" id="L612">			responseObserver.onCompleted();</span>

<span class="nc" id="L614">		} catch (final Exception e) {</span>
<span class="nc" id="L615">			final NewDataSetResponse.Builder builder = NewDataSetResponse.newBuilder();</span>
<span class="nc" id="L616">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L617">			final NewDataSetResponse resp = builder.build();</span>
<span class="nc" id="L618">			responseObserver.onNext(resp);</span>
<span class="nc" id="L619">			responseObserver.onCompleted();</span>
<span class="nc" id="L620">		}</span>
<span class="nc" id="L621">	}</span>

	@Override
	public void removeDataSet(final RemoveDataSetRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L627">			logicModule.removeDataSet(Utils.getAccountID(request.getAccountID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L628">					request.getDataSetName());</span>

<span class="nc" id="L630">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L632">			responseObserver.onCompleted();</span>

<span class="nc" id="L634">		} catch (final Exception e) {</span>
<span class="nc" id="L635">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L636">			responseObserver.onNext(resp);</span>
<span class="nc" id="L637">			responseObserver.onCompleted();</span>
<span class="nc" id="L638">		}</span>
<span class="nc" id="L639">	}</span>

	@Override
	public void getDataSetID(final GetDataSetIDRequest request,
			final StreamObserver&lt;GetDataSetIDResponse&gt; responseObserver) {
		try {
<span class="nc" id="L645">			final DataSetID result = logicModule.getDataSetID(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L646">					Utils.getCredential(request.getCredential()), request.getDataSetName());</span>
<span class="nc" id="L647">			final GetDataSetIDResponse resp = GetDataSetIDResponse.newBuilder().setDataSetID(Utils.getMsgID(result))</span>
<span class="nc" id="L648">					.build();</span>
<span class="nc" id="L649">			responseObserver.onNext(resp);</span>
<span class="nc" id="L650">			responseObserver.onCompleted();</span>

<span class="nc" id="L652">		} catch (final Exception e) {</span>
<span class="nc" id="L653">			final GetDataSetIDResponse.Builder builder = GetDataSetIDResponse.newBuilder();</span>
<span class="nc" id="L654">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L655">			final GetDataSetIDResponse resp = builder.build();</span>
<span class="nc" id="L656">			responseObserver.onNext(resp);</span>
<span class="nc" id="L657">			responseObserver.onCompleted();</span>
<span class="nc" id="L658">		}</span>
<span class="nc" id="L659">	}</span>

	@Override
	public void checkDataSetIsPublic(final CheckDataSetIsPublicRequest request,
			final StreamObserver&lt;CheckDataSetIsPublicResponse&gt; responseObserver) {
		try {
<span class="nc" id="L665">			final boolean result = logicModule.checkDataSetIsPublic(Utils.getDataSetID(request.getDataSetID()));</span>
<span class="nc" id="L666">			final CheckDataSetIsPublicResponse resp = CheckDataSetIsPublicResponse.newBuilder().setIsPublic(result)</span>
<span class="nc" id="L667">					.build();</span>
<span class="nc" id="L668">			responseObserver.onNext(resp);</span>
<span class="nc" id="L669">			responseObserver.onCompleted();</span>

<span class="nc" id="L671">		} catch (final Exception e) {</span>
<span class="nc" id="L672">			final CheckDataSetIsPublicResponse.Builder builder = CheckDataSetIsPublicResponse.newBuilder();</span>
<span class="nc" id="L673">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L674">			final CheckDataSetIsPublicResponse resp = builder.build();</span>
<span class="nc" id="L675">			responseObserver.onNext(resp);</span>
<span class="nc" id="L676">			responseObserver.onCompleted();</span>
<span class="nc" id="L677">		}</span>
<span class="nc" id="L678">	}</span>

	@Override
	public void isPrefetchingEnabled(final es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.EmptyMessage request,
			final StreamObserver&lt;IsPrefetchingEnabledResponse&gt; responseObserver) {
		try {
<span class="nc" id="L684">			final boolean result = logicModule.isPrefetchingEnabled();</span>
<span class="nc" id="L685">			final IsPrefetchingEnabledResponse resp = IsPrefetchingEnabledResponse.newBuilder().setEnabled(result)</span>
<span class="nc" id="L686">					.build();</span>
<span class="nc" id="L687">			responseObserver.onNext(resp);</span>
<span class="nc" id="L688">			responseObserver.onCompleted();</span>

<span class="nc" id="L690">		} catch (final Exception e) {</span>
<span class="nc" id="L691">			final IsPrefetchingEnabledResponse.Builder builder = IsPrefetchingEnabledResponse.newBuilder();</span>
<span class="nc" id="L692">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L693">			final IsPrefetchingEnabledResponse resp = builder.build();</span>
<span class="nc" id="L694">			responseObserver.onNext(resp);</span>
<span class="nc" id="L695">			responseObserver.onCompleted();</span>
<span class="nc" id="L696">		}</span>
<span class="nc" id="L697">	}</span>
	
	@Override
	public void objectExistsInDataClay(final ObjectExistsInDataClayRequest request,
			final StreamObserver&lt;ObjectExistsInDataClayResponse&gt; responseObserver) {
		try {
<span class="nc" id="L703">			final boolean result = logicModule.objectExistsInDataClay(Utils.getObjectID(request.getObjectID()));</span>
<span class="nc" id="L704">			final ObjectExistsInDataClayResponse resp = ObjectExistsInDataClayResponse.newBuilder().setExists(result)</span>
<span class="nc" id="L705">					.build();</span>
<span class="nc" id="L706">			responseObserver.onNext(resp);</span>
<span class="nc" id="L707">			responseObserver.onCompleted();</span>

<span class="nc" id="L709">		} catch (final Exception e) {</span>
<span class="nc" id="L710">			final ObjectExistsInDataClayResponse.Builder builder = ObjectExistsInDataClayResponse.newBuilder();</span>
<span class="nc" id="L711">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L712">			final ObjectExistsInDataClayResponse resp = builder.build();</span>
<span class="nc" id="L713">			responseObserver.onNext(resp);</span>
<span class="nc" id="L714">			responseObserver.onCompleted();</span>
<span class="nc" id="L715">		}</span>
<span class="nc" id="L716">	}</span>
	
	@Override
	public void getPublicDataSets(final GetPublicDataSetsRequest request,
			final StreamObserver&lt;GetPublicDataSetsResponse&gt; responseObserver) {
		try {
<span class="nc" id="L722">			final Set&lt;String&gt; result = logicModule.getPublicDataSets(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L723">					Utils.getCredential(request.getCredential()));</span>
<span class="nc" id="L724">			final GetPublicDataSetsResponse resp = GetPublicDataSetsResponse.newBuilder().addAllDataSets(result)</span>
<span class="nc" id="L725">					.build();</span>
<span class="nc" id="L726">			responseObserver.onNext(resp);</span>
<span class="nc" id="L727">			responseObserver.onCompleted();</span>

<span class="nc" id="L729">		} catch (final Exception e) {</span>
<span class="nc" id="L730">			final GetPublicDataSetsResponse.Builder builder = GetPublicDataSetsResponse.newBuilder();</span>
<span class="nc" id="L731">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L732">			final GetPublicDataSetsResponse resp = builder.build();</span>
<span class="nc" id="L733">			responseObserver.onNext(resp);</span>
<span class="nc" id="L734">			responseObserver.onCompleted();</span>
<span class="nc" id="L735">		}</span>
<span class="nc" id="L736">	}</span>

	@Override
	public void getAccountDataSets(final GetAccountDataSetsRequest request,
			final StreamObserver&lt;GetAccountDataSetsResponse&gt; responseObserver) {
		try {
<span class="nc" id="L742">			final Set&lt;String&gt; result = logicModule.getAccountDataSets(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L743">					Utils.getCredential(request.getCredential()));</span>
<span class="nc" id="L744">			final GetAccountDataSetsResponse resp = GetAccountDataSetsResponse.newBuilder().addAllDataSets(result)</span>
<span class="nc" id="L745">					.build();</span>
<span class="nc" id="L746">			responseObserver.onNext(resp);</span>
<span class="nc" id="L747">			responseObserver.onCompleted();</span>

<span class="nc" id="L749">		} catch (final Exception e) {</span>
<span class="nc" id="L750">			final GetAccountDataSetsResponse.Builder builder = GetAccountDataSetsResponse.newBuilder();</span>
<span class="nc" id="L751">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L752">			final GetAccountDataSetsResponse resp = builder.build();</span>
<span class="nc" id="L753">			responseObserver.onNext(resp);</span>
<span class="nc" id="L754">			responseObserver.onCompleted();</span>
<span class="nc" id="L755">		}</span>
<span class="nc" id="L756">	}</span>

	/**
	 * &lt;pre&gt;
	 * Class Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newClass(final NewClassRequest request, final StreamObserver&lt;NewClassResponse&gt; responseObserver) {

		try {
<span class="nc" id="L767">			final Map&lt;String, MetaClass&gt; newClasses = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L768" title="All 2 branches missed.">			for (final Entry&lt;String, String&gt; clazz : request.getNewClassesMap().entrySet()) {</span>
<span class="nc" id="L769">				final MetaClass mClass = (MetaClass) CommonYAML.getYamlObject().load(clazz.getValue());</span>
<span class="nc" id="L770">				newClasses.put(clazz.getKey(), mClass);</span>
<span class="nc" id="L771">			}</span>
<span class="nc" id="L772">			final Map&lt;String, MetaClass&gt; result = logicModule.newClass(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L773">					Utils.getCredential(request.getCredential()), Langs.values()[request.getLanguageValue()],</span>
					newClasses);

<span class="nc" id="L776">			final NewClassResponse.Builder builder = NewClassResponse.newBuilder();</span>
<span class="nc bnc" id="L777" title="All 2 branches missed.">			for (final Entry&lt;String, MetaClass&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L778">				final String yaml = CommonYAML.getYamlObject().dump(entry.getValue());</span>
<span class="nc" id="L779">				builder.putNewClasses(entry.getKey(), yaml);</span>
<span class="nc" id="L780">			}</span>

<span class="nc" id="L782">			final NewClassResponse resp = builder.build();</span>

<span class="nc" id="L784">			responseObserver.onNext(resp);</span>
<span class="nc" id="L785">			responseObserver.onCompleted();</span>

<span class="nc" id="L787">		} catch (final Exception ex) {</span>
<span class="nc" id="L788">			logger.debug(&quot;newClass error&quot;, ex);</span>

<span class="nc" id="L790">			final NewClassResponse.Builder builder = NewClassResponse.newBuilder();</span>
<span class="nc" id="L791">			builder.setExcInfo(Utils.serializeException(ex));</span>
<span class="nc" id="L792">			final NewClassResponse resp = builder.build();</span>
<span class="nc" id="L793">			responseObserver.onNext(resp);</span>
<span class="nc" id="L794">			responseObserver.onCompleted();</span>
<span class="nc" id="L795">		}</span>

<span class="nc" id="L797">	}</span>

	@Override
	public void removeClass(final RemoveClassRequest request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L802">			logicModule.removeClass(Utils.getAccountID(request.getAccountID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L803">					Utils.getNamespaceID(request.getNamespaceID()), request.getClassName());</span>

<span class="nc" id="L805">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L807">			responseObserver.onCompleted();</span>

<span class="nc" id="L809">		} catch (final Exception e) {</span>
<span class="nc" id="L810">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L811">			responseObserver.onNext(resp);</span>
<span class="nc" id="L812">			responseObserver.onCompleted();</span>
<span class="nc" id="L813">		}</span>
<span class="nc" id="L814">	}</span>

	@Override
	public void removeOperation(final RemoveOperationRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L820">			logicModule.removeOperation(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L821">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L822">					request.getClassName(), request.getOperationNameAndSignature());</span>

<span class="nc" id="L824">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L826">			responseObserver.onCompleted();</span>

<span class="nc" id="L828">		} catch (final Exception e) {</span>
<span class="nc" id="L829">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L830">			responseObserver.onNext(resp);</span>
<span class="nc" id="L831">			responseObserver.onCompleted();</span>
<span class="nc" id="L832">		}</span>
<span class="nc" id="L833">	}</span>

	@Override
	public void removeImplementation(final RemoveImplementationRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L839">			logicModule.removeImplementation(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L840">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L841">					Utils.getImplementationID(request.getImplementationID()));</span>

<span class="nc" id="L843">			Utils.returnExceptionInfoMessage(responseObserver);</span>

<span class="nc" id="L845">			responseObserver.onCompleted();</span>

<span class="nc" id="L847">		} catch (final Exception e) {</span>
<span class="nc" id="L848">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L849">			responseObserver.onNext(resp);</span>
<span class="nc" id="L850">			responseObserver.onCompleted();</span>
<span class="nc" id="L851">		}</span>
<span class="nc" id="L852">	}</span>

	@Override
	public void getOperationID(final GetOperationIDRequest request,
			final StreamObserver&lt;GetOperationIDResponse&gt; responseObserver) {
		try {
<span class="nc" id="L858">			final OperationID opID = logicModule.getOperationID(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L859">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L860">					request.getClassName(), request.getOperationNameAndSignature());</span>

<span class="nc" id="L862">			final GetOperationIDResponse resp = GetOperationIDResponse.newBuilder().setOperationID(Utils.getMsgID(opID))</span>
<span class="nc" id="L863">					.build();</span>
<span class="nc" id="L864">			responseObserver.onNext(resp);</span>
<span class="nc" id="L865">			responseObserver.onCompleted();</span>

<span class="nc" id="L867">		} catch (final Exception e) {</span>
<span class="nc" id="L868">			final GetOperationIDResponse.Builder builder = GetOperationIDResponse.newBuilder();</span>
<span class="nc" id="L869">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L870">			final GetOperationIDResponse resp = builder.build();</span>
<span class="nc" id="L871">			responseObserver.onNext(resp);</span>
<span class="nc" id="L872">			responseObserver.onCompleted();</span>
<span class="nc" id="L873">		}</span>

<span class="nc" id="L875">	}</span>

	@Override
	public void getPropertyID(final GetPropertyIDRequest request,
			final StreamObserver&lt;GetPropertyIDResponse&gt; responseObserver) {
		try {
<span class="nc" id="L881">			final PropertyID result = logicModule.getPropertyID(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L882">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L883">					request.getClassName(), request.getPropertyName());</span>
<span class="nc" id="L884">			final GetPropertyIDResponse resp = GetPropertyIDResponse.newBuilder().setPropertyID(Utils.getMsgID(result))</span>
<span class="nc" id="L885">					.build();</span>
<span class="nc" id="L886">			responseObserver.onNext(resp);</span>
<span class="nc" id="L887">			responseObserver.onCompleted();</span>

<span class="nc" id="L889">		} catch (final Exception e) {</span>
<span class="nc" id="L890">			final GetPropertyIDResponse.Builder builder = GetPropertyIDResponse.newBuilder();</span>
<span class="nc" id="L891">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L892">			final GetPropertyIDResponse resp = builder.build();</span>
<span class="nc" id="L893">			responseObserver.onNext(resp);</span>
<span class="nc" id="L894">			responseObserver.onCompleted();</span>
<span class="nc" id="L895">		}</span>
<span class="nc" id="L896">	}</span>

	@Override
	public void getClassID(final GetClassIDRequest request, final StreamObserver&lt;GetClassIDResponse&gt; responseObserver) {

		try {
<span class="nc" id="L902">			final MetaClassID result = logicModule.getClassID(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L903">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L904">					request.getClassName());</span>
<span class="nc" id="L905">			final GetClassIDResponse resp = GetClassIDResponse.newBuilder().setClassID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L906">			responseObserver.onNext(resp);</span>
<span class="nc" id="L907">			responseObserver.onCompleted();</span>

<span class="nc" id="L909">		} catch (final Exception e) {</span>
<span class="nc" id="L910">			final GetClassIDResponse.Builder builder = GetClassIDResponse.newBuilder();</span>
<span class="nc" id="L911">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L912">			final GetClassIDResponse resp = builder.build();</span>
<span class="nc" id="L913">			responseObserver.onNext(resp);</span>
<span class="nc" id="L914">			responseObserver.onCompleted();</span>
<span class="nc" id="L915">		}</span>
<span class="nc" id="L916">	}</span>

	@Override
	public void getClassInfo(final GetClassInfoRequest request,
			final StreamObserver&lt;GetClassInfoResponse&gt; responseObserver) {
		try {
<span class="nc" id="L922">			final MetaClass result = logicModule.getClassInfo(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L923">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L924">					request.getClassName());</span>
<span class="nc" id="L925">			final String yaml = CommonYAML.getYamlObject().dump(result);</span>
<span class="nc" id="L926">			final GetClassInfoResponse resp = GetClassInfoResponse.newBuilder().setMetaClassYaml(yaml).build();</span>
<span class="nc" id="L927">			responseObserver.onNext(resp);</span>
<span class="nc" id="L928">			responseObserver.onCompleted();</span>

<span class="nc" id="L930">		} catch (final Exception e) {</span>
<span class="nc" id="L931">			final GetClassInfoResponse.Builder builder = GetClassInfoResponse.newBuilder();</span>
<span class="nc" id="L932">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L933">			final GetClassInfoResponse resp = builder.build();</span>
<span class="nc" id="L934">			responseObserver.onNext(resp);</span>
<span class="nc" id="L935">			responseObserver.onCompleted();</span>
<span class="nc" id="L936">		}</span>
<span class="nc" id="L937">	}</span>
	
	/**
	 * &lt;pre&gt;
	 * Contract Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newContract(final NewContractRequest request,
			final StreamObserver&lt;NewContractResponse&gt; responseObserver) {
		try {
<span class="nc" id="L948">			final Contract newContract = (Contract) CommonYAML.getYamlObject().load(request.getNewContractYaml());</span>
<span class="nc" id="L949">			final ContractID cID = logicModule.newContract(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L950">					Utils.getCredential(request.getCredential()), newContract);</span>

<span class="nc" id="L952">			final NewContractResponse resp = NewContractResponse.newBuilder().setContractID(Utils.getMsgID(cID))</span>
<span class="nc" id="L953">					.build();</span>

<span class="nc" id="L955">			responseObserver.onNext(resp);</span>
<span class="nc" id="L956">			responseObserver.onCompleted();</span>

<span class="nc" id="L958">		} catch (final Exception ex) {</span>
<span class="nc" id="L959">			logger.debug(&quot;newContract error&quot;, ex);</span>

<span class="nc" id="L961">			final NewContractResponse.Builder builder = NewContractResponse.newBuilder();</span>
<span class="nc" id="L962">			builder.setExcInfo(Utils.serializeException(ex));</span>
<span class="nc" id="L963">			final NewContractResponse resp = builder.build();</span>
<span class="nc" id="L964">			responseObserver.onNext(resp);</span>
<span class="nc" id="L965">			responseObserver.onCompleted();</span>
<span class="nc" id="L966">		}</span>

<span class="nc" id="L968">	}</span>

	@Override
	public void registerToPublicContract(final RegisterToPublicContractRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L974">			logicModule.registerToPublicContract(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L975">					Utils.getCredential(request.getCredential()), Utils.getContractID(request.getContractID()));</span>

<span class="nc" id="L977">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L978">			responseObserver.onCompleted();</span>

<span class="nc" id="L980">		} catch (final Exception e) {</span>
<span class="nc" id="L981">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L982">			responseObserver.onNext(resp);</span>
<span class="nc" id="L983">			responseObserver.onCompleted();</span>
<span class="nc" id="L984">		}</span>
<span class="nc" id="L985">	}</span>

	@Override
	public void registerToPublicContractOfNamespace(final RegisterToPublicContractOfNamespaceRequest request,
			final StreamObserver&lt;RegisterToPublicContractOfNamespaceResponse&gt; responseObserver) {
		try {
<span class="nc" id="L991">			final ContractID cID = logicModule.registerToPublicContractOfNamespace(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L992">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()));</span>

			final RegisterToPublicContractOfNamespaceResponse resp = RegisterToPublicContractOfNamespaceResponse
<span class="nc" id="L995">					.newBuilder().setContractID(Utils.getMsgID(cID)).build();</span>

<span class="nc" id="L997">			responseObserver.onNext(resp);</span>
<span class="nc" id="L998">			responseObserver.onCompleted();</span>

<span class="nc" id="L1000">		} catch (final Exception e) {</span>
			final RegisterToPublicContractOfNamespaceResponse.Builder builder = RegisterToPublicContractOfNamespaceResponse
<span class="nc" id="L1002">					.newBuilder();</span>
<span class="nc" id="L1003">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1004">			final RegisterToPublicContractOfNamespaceResponse resp = builder.build();</span>
<span class="nc" id="L1005">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1006">			responseObserver.onCompleted();</span>
<span class="nc" id="L1007">		}</span>
<span class="nc" id="L1008">	}</span>

	@Override
	public void getContractIDsOfApplicant(final GetContractIDsOfApplicantRequest request,
			final StreamObserver&lt;GetContractIDsOfApplicantResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1014">			final Map&lt;ContractID, Contract&gt; result = logicModule.getContractIDsOfApplicant(</span>
<span class="nc" id="L1015">					Utils.getAccountID(request.getApplicantID()), Utils.getCredential(request.getCredential()));</span>

<span class="nc" id="L1017">			final GetContractIDsOfApplicantResponse.Builder builder = GetContractIDsOfApplicantResponse.newBuilder();</span>
<span class="nc bnc" id="L1018" title="All 2 branches missed.">			for (final Entry&lt;ContractID, Contract&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1019">				builder.putContracts(entry.getKey().toString(), CommonYAML.getYamlObject().dump(entry.getValue()));</span>
<span class="nc" id="L1020">			}</span>

<span class="nc" id="L1022">			final GetContractIDsOfApplicantResponse resp = builder.build();</span>
<span class="nc" id="L1023">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1024">			responseObserver.onCompleted();</span>

<span class="nc" id="L1026">		} catch (final Exception e) {</span>
<span class="nc" id="L1027">			final GetContractIDsOfApplicantResponse.Builder builder = GetContractIDsOfApplicantResponse.newBuilder();</span>
<span class="nc" id="L1028">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1029">			final GetContractIDsOfApplicantResponse resp = builder.build();</span>
<span class="nc" id="L1030">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1031">			responseObserver.onCompleted();</span>
<span class="nc" id="L1032">		}</span>
<span class="nc" id="L1033">	}</span>

	@Override
	public void getContractIDsOfProvider(final GetContractIDsOfProviderRequest request,
			final StreamObserver&lt;GetContractIDsOfProviderResponse&gt; responseObserver) {

		try {
<span class="nc" id="L1040">			final Map&lt;ContractID, Contract&gt; result = logicModule.getContractIDsOfProvider(</span>
<span class="nc" id="L1041">					Utils.getAccountID(request.getProviderID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L1042">					Utils.getNamespaceID(request.getNamespaceIDOfProvider()));</span>

<span class="nc" id="L1044">			final GetContractIDsOfProviderResponse.Builder builder = GetContractIDsOfProviderResponse.newBuilder();</span>
<span class="nc bnc" id="L1045" title="All 2 branches missed.">			for (final Entry&lt;ContractID, Contract&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1046">				builder.putContracts(entry.getKey().toString(), CommonYAML.getYamlObject().dump(entry.getValue()));</span>
<span class="nc" id="L1047">			}</span>

<span class="nc" id="L1049">			final GetContractIDsOfProviderResponse resp = builder.build();</span>
<span class="nc" id="L1050">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1051">			responseObserver.onCompleted();</span>

<span class="nc" id="L1053">		} catch (final Exception e) {</span>
<span class="nc" id="L1054">			final GetContractIDsOfProviderResponse.Builder builder = GetContractIDsOfProviderResponse.newBuilder();</span>
<span class="nc" id="L1055">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1056">			final GetContractIDsOfProviderResponse resp = builder.build();</span>
<span class="nc" id="L1057">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1058">			responseObserver.onCompleted();</span>
<span class="nc" id="L1059">		}</span>
<span class="nc" id="L1060">	}</span>

	@Override
	public void getContractIDsOfApplicantWithProvider(final GetContractsOfApplicantWithProvRequest request,
			final StreamObserver&lt;GetContractsOfApplicantWithProvResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1066">			final Map&lt;ContractID, Contract&gt; result = logicModule.getContractIDsOfApplicantWithProvider(</span>
<span class="nc" id="L1067">					Utils.getAccountID(request.getApplicantID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L1068">					Utils.getNamespaceID(request.getNamespaceIDOfProvider()));</span>
			final GetContractsOfApplicantWithProvResponse.Builder builder = GetContractsOfApplicantWithProvResponse
<span class="nc" id="L1070">					.newBuilder();</span>
<span class="nc bnc" id="L1071" title="All 2 branches missed.">			for (final Entry&lt;ContractID, Contract&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1072">				builder.putContracts(entry.getKey().toString(), CommonYAML.getYamlObject().dump(entry.getValue()));</span>
<span class="nc" id="L1073">			}</span>

<span class="nc" id="L1075">			final GetContractsOfApplicantWithProvResponse resp = builder.build();</span>
<span class="nc" id="L1076">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1077">			responseObserver.onCompleted();</span>

<span class="nc" id="L1079">		} catch (final Exception e) {</span>
			final GetContractsOfApplicantWithProvResponse.Builder builder = GetContractsOfApplicantWithProvResponse
<span class="nc" id="L1081">					.newBuilder();</span>
<span class="nc" id="L1082">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1083">			final GetContractsOfApplicantWithProvResponse resp = builder.build();</span>
<span class="nc" id="L1084">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1085">			responseObserver.onCompleted();</span>
<span class="nc" id="L1086">		}</span>
<span class="nc" id="L1087">	}</span>

	/**
	 * &lt;pre&gt;
	 * DataContract Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newDataContract(final NewDataContractRequest request,
			final StreamObserver&lt;NewDataContractResponse&gt; responseObserver) {

		try {
<span class="nc" id="L1099">			final DataContract newContract = (DataContract) CommonYAML.getYamlObject()</span>
<span class="nc" id="L1100">					.load(request.getDataContractYaml());</span>
<span class="nc" id="L1101">			final DataContractID cID = logicModule.newDataContract(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L1102">					Utils.getCredential(request.getCredential()), newContract);</span>

<span class="nc" id="L1104">			final NewDataContractResponse resp = NewDataContractResponse.newBuilder()</span>
<span class="nc" id="L1105">					.setDataContractID(Utils.getMsgID(cID)).build();</span>

<span class="nc" id="L1107">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1108">			responseObserver.onCompleted();</span>

<span class="nc" id="L1110">		} catch (final Exception e) {</span>
<span class="nc" id="L1111">			final NewDataContractResponse.Builder builder = NewDataContractResponse.newBuilder();</span>
<span class="nc" id="L1112">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1113">			final NewDataContractResponse resp = builder.build();</span>
<span class="nc" id="L1114">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1115">			responseObserver.onCompleted();</span>
<span class="nc" id="L1116">		}</span>
<span class="nc" id="L1117">	}</span>

	@Override
	public void registerToPublicDataContract(final RegisterToPublicDataContractRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L1123">			logicModule.registerToPublicDataContract(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L1124">					Utils.getCredential(request.getCredential()), Utils.getDataContractID(request.getDataContractID()));</span>

<span class="nc" id="L1126">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1127">			responseObserver.onCompleted();</span>

<span class="nc" id="L1129">		} catch (final Exception e) {</span>
<span class="nc" id="L1130">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1131">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1132">			responseObserver.onCompleted();</span>
<span class="nc" id="L1133">		}</span>
<span class="nc" id="L1134">	}</span>

	@Override
	public void getDataContractIDsOfApplicant(final GetDataContractIDsOfApplicantRequest request,
			final StreamObserver&lt;GetDataContractIDsOfApplicantResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1140">			final Map&lt;DataContractID, DataContract&gt; result = logicModule.getDataContractIDsOfApplicant(</span>
<span class="nc" id="L1141">					Utils.getAccountID(request.getApplicantID()), Utils.getCredential(request.getCredential()));</span>

			final GetDataContractIDsOfApplicantResponse.Builder builder = GetDataContractIDsOfApplicantResponse
<span class="nc" id="L1144">					.newBuilder();</span>
<span class="nc bnc" id="L1145" title="All 2 branches missed.">			for (final Entry&lt;DataContractID, DataContract&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1146">				builder.putDatacontracts(entry.getKey().toString(), CommonYAML.getYamlObject().dump(entry.getValue()));</span>
<span class="nc" id="L1147">			}</span>

<span class="nc" id="L1149">			final GetDataContractIDsOfApplicantResponse resp = builder.build();</span>
<span class="nc" id="L1150">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1151">			responseObserver.onCompleted();</span>

<span class="nc" id="L1153">		} catch (final Exception e) {</span>
			final GetDataContractIDsOfApplicantResponse.Builder builder = GetDataContractIDsOfApplicantResponse
<span class="nc" id="L1155">					.newBuilder();</span>
<span class="nc" id="L1156">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1157">			final GetDataContractIDsOfApplicantResponse resp = builder.build();</span>
<span class="nc" id="L1158">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1159">			responseObserver.onCompleted();</span>
<span class="nc" id="L1160">		}</span>

<span class="nc" id="L1162">	}</span>

	@Override
	public void getDataContractIDsOfProvider(final GetDataContractIDsOfProviderRequest request,
			final StreamObserver&lt;GetDataContractIDsOfProviderResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1168">			final Map&lt;DataContractID, DataContract&gt; result = logicModule.getDataContractIDsOfProvider(</span>
<span class="nc" id="L1169">					Utils.getAccountID(request.getProviderID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L1170">					Utils.getDataSetID(request.getDataSetIDOfProvider()));</span>

			final GetDataContractIDsOfProviderResponse.Builder builder = GetDataContractIDsOfProviderResponse
<span class="nc" id="L1173">					.newBuilder();</span>
<span class="nc bnc" id="L1174" title="All 2 branches missed.">			for (final Entry&lt;DataContractID, DataContract&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1175">				builder.putDatacontracts(entry.getKey().toString(), CommonYAML.getYamlObject().dump(entry.getValue()));</span>
<span class="nc" id="L1176">			}</span>

<span class="nc" id="L1178">			final GetDataContractIDsOfProviderResponse resp = builder.build();</span>
<span class="nc" id="L1179">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1180">			responseObserver.onCompleted();</span>

<span class="nc" id="L1182">		} catch (final Exception e) {</span>
			final GetDataContractIDsOfProviderResponse.Builder builder = GetDataContractIDsOfProviderResponse
<span class="nc" id="L1184">					.newBuilder();</span>
<span class="nc" id="L1185">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1186">			final GetDataContractIDsOfProviderResponse resp = builder.build();</span>
<span class="nc" id="L1187">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1188">			responseObserver.onCompleted();</span>
<span class="nc" id="L1189">		}</span>

<span class="nc" id="L1191">	}</span>

	@Override
	public void getDataContractInfoOfApplicantWithProvider(final GetDataContractInfoOfApplicantWithProvRequest request,
			final StreamObserver&lt;GetDataContractInfoOfApplicantWithProvResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1197">			final DataContract result = logicModule.getDataContractInfoOfApplicantWithProvider(</span>
<span class="nc" id="L1198">					Utils.getAccountID(request.getApplicantID()), Utils.getCredential(request.getCredential()),</span>
<span class="nc" id="L1199">					Utils.getDataSetID(request.getDataSetIDOfProvider()));</span>

			final GetDataContractInfoOfApplicantWithProvResponse.Builder builder = GetDataContractInfoOfApplicantWithProvResponse
<span class="nc" id="L1202">					.newBuilder().setDataContractInfo(CommonYAML.getYamlObject().dump(result));</span>
<span class="nc" id="L1203">			final GetDataContractInfoOfApplicantWithProvResponse resp = builder.build();</span>
<span class="nc" id="L1204">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1205">			responseObserver.onCompleted();</span>

<span class="nc" id="L1207">		} catch (final Exception e) {</span>
			final GetDataContractInfoOfApplicantWithProvResponse.Builder builder = GetDataContractInfoOfApplicantWithProvResponse
<span class="nc" id="L1209">					.newBuilder();</span>
<span class="nc" id="L1210">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1211">			final GetDataContractInfoOfApplicantWithProvResponse resp = builder.build();</span>
<span class="nc" id="L1212">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1213">			responseObserver.onCompleted();</span>
<span class="nc" id="L1214">		}</span>

<span class="nc" id="L1216">	}</span>

	/**
	 * &lt;pre&gt;
	 * Interface Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void newInterface(final NewInterfaceRequest request,
			final StreamObserver&lt;NewInterfaceResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1227">			final Interface newInterface = (Interface) CommonYAML.getYamlObject().load(request.getInterfaceYaml());</span>
<span class="nc" id="L1228">			final InterfaceID result = logicModule.newInterface(Utils.getAccountID(request.getApplicantID()),</span>
<span class="nc" id="L1229">					Utils.getCredential(request.getCredential()), newInterface);</span>

<span class="nc" id="L1231">			final NewInterfaceResponse resp = NewInterfaceResponse.newBuilder().setInterfaceID(Utils.getMsgID(result))</span>
<span class="nc" id="L1232">					.build();</span>

<span class="nc" id="L1234">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1235">			responseObserver.onCompleted();</span>

<span class="nc" id="L1237">		} catch (final Exception e) {</span>
<span class="nc" id="L1238">			final NewInterfaceResponse.Builder builder = NewInterfaceResponse.newBuilder();</span>
<span class="nc" id="L1239">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1240">			final NewInterfaceResponse resp = builder.build();</span>
<span class="nc" id="L1241">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1242">			responseObserver.onCompleted();</span>
<span class="nc" id="L1243">		}</span>

<span class="nc" id="L1245">	}</span>

	@Override
	public void getInterfaceInfo(final GetInterfaceInfoRequest request,
			final StreamObserver&lt;GetInterfaceInfoResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1251">			final Interface iface = logicModule.getInterfaceInfo(Utils.getAccountID(request.getApplicantID()),</span>
<span class="nc" id="L1252">					Utils.getCredential(request.getCredential()), Utils.getInterfaceID(request.getInterfaceID()));</span>

<span class="nc" id="L1254">			final GetInterfaceInfoResponse resp = GetInterfaceInfoResponse.newBuilder()</span>
<span class="nc" id="L1255">					.setInterfaceYaml(CommonYAML.getYamlObject().dump(iface)).build();</span>
<span class="nc" id="L1256">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1257">			responseObserver.onCompleted();</span>

<span class="nc" id="L1259">		} catch (final Exception e) {</span>
<span class="nc" id="L1260">			final GetInterfaceInfoResponse.Builder builder = GetInterfaceInfoResponse.newBuilder();</span>
<span class="nc" id="L1261">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1262">			final GetInterfaceInfoResponse resp = builder.build();</span>
<span class="nc" id="L1263">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1264">			responseObserver.onCompleted();</span>
<span class="nc" id="L1265">		}</span>
<span class="nc" id="L1266">	}</span>

	@Override
	public void removeInterface(final RemoveInterfaceRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L1272">			logicModule.removeInterface(Utils.getAccountID(request.getApplicantID()),</span>
<span class="nc" id="L1273">					Utils.getCredential(request.getCredential()), Utils.getNamespaceID(request.getNamespaceID()),</span>
<span class="nc" id="L1274">					Utils.getInterfaceID(request.getInterfaceID()));</span>

<span class="nc" id="L1276">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1277">			responseObserver.onCompleted();</span>

<span class="nc" id="L1279">		} catch (final Exception e) {</span>
<span class="nc" id="L1280">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1281">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1282">			responseObserver.onCompleted();</span>
<span class="nc" id="L1283">		}</span>

<span class="nc" id="L1285">	}</span>

	@Override
	public void getStorageLocationInfo(final GetStorageLocationInfoRequest request,
			final StreamObserver&lt;GetStorageLocationInfoResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1291">			final StorageLocation stLoc = logicModule</span>
<span class="nc" id="L1292">					.getStorageLocationInfo(Utils.getStorageLocationID(request.getStorageLocationID()),</span>
<span class="nc" id="L1293">							request.getFromBackend());</span>

<span class="nc" id="L1295">			final GetStorageLocationInfoResponse resp = GetStorageLocationInfoResponse.newBuilder()</span>
<span class="nc" id="L1296">					.setStorageLocationInfo(Utils.getStorageLocation(stLoc)).build();</span>
<span class="nc" id="L1297">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1298">			responseObserver.onCompleted();</span>

<span class="nc" id="L1300">		} catch (final Exception e) {</span>
<span class="nc" id="L1301">			final GetStorageLocationInfoResponse.Builder builder = GetStorageLocationInfoResponse.newBuilder();</span>
<span class="nc" id="L1302">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1303">			final GetStorageLocationInfoResponse resp = builder.build();</span>
<span class="nc" id="L1304">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1305">			responseObserver.onCompleted();</span>
<span class="nc" id="L1306">		}</span>
<span class="nc" id="L1307">	}</span>

	@Override
	public void getExecutionEnvironmentInfo(final GetExecutionEnvironmentInfoRequest request,
			final StreamObserver&lt;GetExecutionEnvironmentInfoResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1313">			final ExecutionEnvironment result = logicModule</span>
<span class="nc" id="L1314">					.getExecutionEnvironmentInfo(Utils.getExecutionEnvironmentID(request.getExecEnvID()),</span>
<span class="nc" id="L1315">							request.getFromBackend());</span>

<span class="nc" id="L1317">			final GetExecutionEnvironmentInfoResponse resp = GetExecutionEnvironmentInfoResponse.newBuilder()</span>
<span class="nc" id="L1318">					.setExecutionEnvironmentInfo(Utils.getExecutionEnvironment(result)).build();</span>
<span class="nc" id="L1319">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1320">			responseObserver.onCompleted();</span>

<span class="nc" id="L1322">		} catch (final Exception e) {</span>
			final GetExecutionEnvironmentInfoResponse.Builder builder = GetExecutionEnvironmentInfoResponse
<span class="nc" id="L1324">					.newBuilder();</span>
<span class="nc" id="L1325">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1326">			final GetExecutionEnvironmentInfoResponse resp = builder.build();</span>
<span class="nc" id="L1327">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1328">			responseObserver.onCompleted();</span>
<span class="nc" id="L1329">		}</span>
<span class="nc" id="L1330">	}</span>

	@Override
	public void getDataClayID(final EmptyMessage request,
			final StreamObserver&lt;GetDataClayIDResponse&gt; responseObserver) {
<span class="nc" id="L1335">		final GetDataClayIDResponse.Builder builder = GetDataClayIDResponse.newBuilder();</span>
		try {
<span class="nc" id="L1337">			final DataClayInstanceID result = logicModule.getDataClayID();</span>
<span class="nc" id="L1338">			final GetDataClayIDResponse resp = builder.setDataClayID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L1339">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1340">			responseObserver.onCompleted();</span>

<span class="nc" id="L1342">		} catch (final Exception e) {</span>
<span class="nc" id="L1343">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1344">			final GetDataClayIDResponse resp = builder.build();</span>
<span class="nc" id="L1345">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1346">			responseObserver.onCompleted();</span>
<span class="nc" id="L1347">		}</span>
<span class="nc" id="L1348">	}</span>

	@Override
	public void registerExternalDataClay(final RegisterExternalDataClayRequest request,
			final StreamObserver&lt;RegisterExternalDataClayResponse&gt; responseObserver) {
<span class="nc" id="L1353">		final RegisterExternalDataClayResponse.Builder builder = RegisterExternalDataClayResponse.newBuilder();</span>
		try {
<span class="nc" id="L1355">			final DataClayInstanceID result = logicModule.registerExternalDataClay(request.getHostname(),</span>
<span class="nc" id="L1356">					request.getPort());</span>

<span class="nc" id="L1358">			final RegisterExternalDataClayResponse resp = builder.setExtDataClayID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L1359">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1360">			responseObserver.onCompleted();</span>

<span class="nc" id="L1362">		} catch (final Exception e) {</span>
<span class="nc" id="L1363">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1364">			final RegisterExternalDataClayResponse resp = builder.build();</span>
<span class="nc" id="L1365">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1366">			responseObserver.onCompleted();</span>
<span class="nc" id="L1367">		}</span>
<span class="nc" id="L1368">	}</span>

	
	@Override
	public void registerExternalDataClayOverrideAuthority(final RegisterExternalDataClayOverrideAuthorityRequest request,
			final StreamObserver&lt;RegisterExternalDataClayResponse&gt; responseObserver) {
<span class="nc" id="L1374">		final RegisterExternalDataClayResponse.Builder builder = RegisterExternalDataClayResponse.newBuilder();</span>
		try {
<span class="nc" id="L1376">			final DataClayInstanceID result = logicModule.registerExternalDataClayOverrideAuthority(Utils.getAccountID(request.getAdminAccountID()), </span>
<span class="nc" id="L1377">					Utils.getCredential(request.getAdminCredential()), request.getHostname(),</span>
<span class="nc" id="L1378">					request.getPort(), request.getAuthority());</span>

<span class="nc" id="L1380">			final RegisterExternalDataClayResponse resp = builder.setExtDataClayID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L1381">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1382">			responseObserver.onCompleted();</span>

<span class="nc" id="L1384">		} catch (final Exception e) {</span>
<span class="nc" id="L1385">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1386">			final RegisterExternalDataClayResponse resp = builder.build();</span>
<span class="nc" id="L1387">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1388">			responseObserver.onCompleted();</span>
<span class="nc" id="L1389">		}</span>
<span class="nc" id="L1390">	}</span>
	
	@Override
	public void notifyRegistrationOfExternalDataClay(final NotifyRegistrationOfExternalDataClayRequest request,
			final StreamObserver&lt;NotifyRegistrationOfExternalDataClayResponse&gt; responseObserver) {
		final NotifyRegistrationOfExternalDataClayResponse.Builder builder = NotifyRegistrationOfExternalDataClayResponse
<span class="nc" id="L1396">				.newBuilder();</span>
		try {
<span class="nc" id="L1398">			final DataClayInstanceID result = logicModule.notifyRegistrationOfExternalDataClay(</span>
<span class="nc" id="L1399">					Utils.getDataClayInstanceID(request.getExtDataClayID()), request.getHostname(), request.getPort());</span>

<span class="nc" id="L1401">			final NotifyRegistrationOfExternalDataClayResponse resp = builder.setExtDataClayID(Utils.getMsgID(result))</span>
<span class="nc" id="L1402">					.build();</span>
<span class="nc" id="L1403">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1404">			responseObserver.onCompleted();</span>

<span class="nc" id="L1406">		} catch (final Exception e) {</span>
<span class="nc" id="L1407">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1408">			final NotifyRegistrationOfExternalDataClayResponse resp = builder.build();</span>
<span class="nc" id="L1409">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1410">			responseObserver.onCompleted();</span>
<span class="nc" id="L1411">		}</span>
<span class="nc" id="L1412">	}</span>

	@Override
	public void getExternalDataClayInfo(final GetExtDataClayInfoRequest request,
			final StreamObserver&lt;GetExtDataClayInfoResponse&gt; responseObserver) {
<span class="nc" id="L1417">		final GetExtDataClayInfoResponse.Builder builder = GetExtDataClayInfoResponse.newBuilder();</span>
		try {
<span class="nc" id="L1419">			final DataClayInstance result = logicModule</span>
<span class="nc" id="L1420">					.getExternalDataClayInfo(Utils.getDataClayInstanceID(request.getExtDataClayID()));</span>
<span class="nc" id="L1421">			final GetExtDataClayInfoResponse resp = builder.setExtDataClayInfo(Utils.getDataClayInstance(result))</span>
<span class="nc" id="L1422">					.build();</span>
<span class="nc" id="L1423">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1424">			responseObserver.onCompleted();</span>

<span class="nc" id="L1426">		} catch (final Exception e) {</span>
<span class="nc" id="L1427">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1428">			final GetExtDataClayInfoResponse resp = builder.build();</span>
<span class="nc" id="L1429">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1430">			responseObserver.onCompleted();</span>
<span class="nc" id="L1431">		}</span>
<span class="nc" id="L1432">	}</span>

	@Override
	public void getExternalDataclayId(final GetExternalDataclayIDRequest request,
			final StreamObserver&lt;GetExternalDataclayIDResponse&gt; responseObserver) {
<span class="nc" id="L1437">		final GetExternalDataclayIDResponse.Builder builder = GetExternalDataclayIDResponse.newBuilder();</span>
		try {
<span class="nc" id="L1439">			final DataClayInstanceID result = logicModule.getExternalDataClayID(request.getHost(), request.getPort());</span>
<span class="nc" id="L1440">			final GetExternalDataclayIDResponse resp = builder.setExtDataClayID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L1441">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1442">			responseObserver.onCompleted();</span>

<span class="nc" id="L1444">		} catch (final Exception e) {</span>
<span class="nc" id="L1445">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1446">			final GetExternalDataclayIDResponse resp = builder.build();</span>
<span class="nc" id="L1447">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1448">			responseObserver.onCompleted();</span>
<span class="nc" id="L1449">		}</span>
<span class="nc" id="L1450">	}</span>

	@Override
	public void registerObjectFromGC(final RegisterObjectForGCRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L1456">			final CommonMessages.RegistrationInfo regInfoMsg = request.getRegInfo();</span>
<span class="nc" id="L1457">			final RegistrationInfo regInfo = new RegistrationInfo(</span>
<span class="nc" id="L1458">					Utils.getObjectID(regInfoMsg.getObjectID()),</span>
<span class="nc" id="L1459">					Utils.getMetaClassID(regInfoMsg.getClassID()),</span>
<span class="nc" id="L1460">					Utils.getSessionID(regInfoMsg.getSessionID()),</span>
<span class="nc" id="L1461">					Utils.getDataSetID(regInfoMsg.getDataSetID()),</span>
<span class="nc" id="L1462">					regInfoMsg.getAlias());</span>

<span class="nc" id="L1464">			logicModule.registerObjectFromGC(regInfo, Utils.getExecutionEnvironmentID(request.getBackendID()), null);</span>

<span class="nc" id="L1466">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1467">			responseObserver.onCompleted();</span>

<span class="nc" id="L1469">		} catch (final Exception e) {</span>
<span class="nc" id="L1470">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1471">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1472">			responseObserver.onCompleted();</span>
<span class="nc" id="L1473">		}</span>

<span class="nc" id="L1475">	}</span>

	@Override
	public void registerObjects(final RegisterObjectsRequest request,
			final StreamObserver&lt;RegisterObjectsResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1482">			List&lt;RegistrationInfo&gt; regInfos = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1483" title="All 2 branches missed.">			for (CommonMessages.RegistrationInfo regInfoMsg : request.getRegInfosList()) {</span>
<span class="nc" id="L1484">				String alias = null;</span>
<span class="nc bnc" id="L1485" title="All 4 branches missed.">				if (regInfoMsg.getAlias() != null &amp;&amp; !regInfoMsg.getAlias().isEmpty()) {</span>
<span class="nc" id="L1486">					alias = regInfoMsg.getAlias();</span>
				}
<span class="nc" id="L1488">				final RegistrationInfo regInfo = new RegistrationInfo(Utils.getObjectID(regInfoMsg.getObjectID()),</span>
<span class="nc" id="L1489">						Utils.getMetaClassID(regInfoMsg.getClassID()), Utils.getSessionID(regInfoMsg.getSessionID()),</span>
<span class="nc" id="L1490">						Utils.getDataSetID(regInfoMsg.getDataSetID()), alias);</span>
<span class="nc" id="L1491">				regInfos.add(regInfo);</span>
<span class="nc" id="L1492">			}</span>


<span class="nc" id="L1495">			List&lt;ObjectID&gt; registeredObjects = logicModule.registerObjects(regInfos,</span>
<span class="nc" id="L1496">					Utils.getExecutionEnvironmentID(request.getBackendID()),</span>
<span class="nc" id="L1497">					request.getLang());</span>

<span class="nc" id="L1499">			final RegisterObjectsResponse.Builder builder = RegisterObjectsResponse.newBuilder();</span>
<span class="nc bnc" id="L1500" title="All 2 branches missed.">			for (ObjectID registeredObjectID : registeredObjects) {</span>
<span class="nc" id="L1501">				builder.addObjectIDs(Utils.getMsgID(registeredObjectID));</span>
<span class="nc" id="L1502">			}</span>
<span class="nc" id="L1503">			final RegisterObjectsResponse resp = builder.build();</span>
<span class="nc" id="L1504">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1505">			responseObserver.onCompleted();</span>

<span class="nc" id="L1507">		} catch (final Exception e) {</span>
<span class="nc" id="L1508">			final RegisterObjectsResponse.Builder builder = RegisterObjectsResponse.newBuilder();</span>
<span class="nc" id="L1509">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1510">			final RegisterObjectsResponse resp = builder.build();</span>
<span class="nc" id="L1511">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1512">			responseObserver.onCompleted();</span>
<span class="nc" id="L1513">		}</span>

<span class="nc" id="L1515">	}</span>

	@Override
	public void getAllExecutionEnvironmentsInfo(final GetAllExecutionEnvironmentsInfoRequest request,
			final StreamObserver&lt;GetAllExecutionEnvironmentsInfoResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1521">			final Map&lt;ExecutionEnvironmentID, ExecutionEnvironment&gt; result = logicModule</span>
<span class="nc" id="L1522">					.getAllExecutionEnvironmentsInfo(request.getExecEnvLang(), request.getGetExternal(),</span>
<span class="nc" id="L1523">							request.getFromBackend());</span>
			final GetAllExecutionEnvironmentsInfoResponse.Builder builder = GetAllExecutionEnvironmentsInfoResponse
<span class="nc" id="L1525">					.newBuilder();</span>
<span class="nc bnc" id="L1526" title="All 2 branches missed.">			for (final Entry&lt;ExecutionEnvironmentID, ExecutionEnvironment&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1527">				builder.putExecEnvs(entry.getKey().toString(), Utils.getExecutionEnvironment(entry.getValue()));</span>
<span class="nc" id="L1528">			}</span>
<span class="nc" id="L1529">			final GetAllExecutionEnvironmentsInfoResponse resp = builder.build();</span>
<span class="nc" id="L1530">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1531">			responseObserver.onCompleted();</span>

<span class="nc" id="L1533">		} catch (final Exception e) {</span>
			final GetAllExecutionEnvironmentsInfoResponse.Builder builder = GetAllExecutionEnvironmentsInfoResponse
<span class="nc" id="L1535">					.newBuilder();</span>
<span class="nc" id="L1536">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1537">			final GetAllExecutionEnvironmentsInfoResponse resp = builder.build();</span>
<span class="nc" id="L1538">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1539">			responseObserver.onCompleted();</span>
<span class="nc" id="L1540">		}</span>
<span class="nc" id="L1541">	}</span>

	@Override
	public void getObjectInfo(final GetObjectInfoRequest request,
			final StreamObserver&lt;GetObjectInfoResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1547">			final Tuple&lt;String, String&gt; objInfo = logicModule.getObjectInfo(Utils.getSessionID(request.getSessionID()),</span>
<span class="nc" id="L1548">					Utils.getObjectID(request.getObjectID()));</span>
<span class="nc" id="L1549">			final GetObjectInfoResponse resp = GetObjectInfoResponse.newBuilder().setClassname(objInfo.getFirst())</span>
<span class="nc" id="L1550">					.setNamespace(objInfo.getSecond()).build();</span>
<span class="nc" id="L1551">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1552">			responseObserver.onCompleted();</span>

<span class="nc" id="L1554">		} catch (final Exception e) {</span>
<span class="nc" id="L1555">			final GetObjectInfoResponse.Builder builder = GetObjectInfoResponse.newBuilder();</span>
<span class="nc" id="L1556">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1557">			final GetObjectInfoResponse resp = builder.build();</span>
<span class="nc" id="L1558">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1559">			responseObserver.onCompleted();</span>
<span class="nc" id="L1560">		}</span>
<span class="nc" id="L1561">	}</span>

	@Override
	public void getObjectFromAlias(final GetObjectFromAliasRequest request,
			final StreamObserver&lt;GetObjectFromAliasResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1567">			final Triple&lt;ObjectID, MetaClassID, ExecutionEnvironmentID&gt; result = logicModule</span>
<span class="nc" id="L1568">					.getObjectFromAlias(Utils.getSessionID(request.getSessionID()), request.getAlias());</span>
<span class="nc" id="L1569">			final GetObjectFromAliasResponse resp = GetObjectFromAliasResponse.newBuilder()</span>
<span class="nc" id="L1570">					.setObjectID(Utils.getMsgID(result.getFirst())).setClassID(Utils.getMsgID(result.getSecond()))</span>
<span class="nc" id="L1571">					.setHint(Utils.getMsgID(result.getThird())).build();</span>
<span class="nc" id="L1572">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1573">			responseObserver.onCompleted();</span>

<span class="nc" id="L1575">		} catch (final Exception e) {</span>
<span class="nc" id="L1576">			final GetObjectFromAliasResponse.Builder builder = GetObjectFromAliasResponse.newBuilder();</span>
<span class="nc" id="L1577">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1578">			final GetObjectFromAliasResponse resp = builder.build();</span>
<span class="nc" id="L1579">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1580">			responseObserver.onCompleted();</span>
<span class="nc" id="L1581">		}</span>
<span class="nc" id="L1582">	}</span>

	@Override
	public void deleteAlias(final DeleteAliasRequest request, final StreamObserver&lt;DeleteAliasResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1587">			ObjectID objectID = logicModule.deleteAlias(Utils.getSessionID(request.getSessionID()), request.getAlias());</span>

<span class="nc" id="L1589">			final DeleteAliasResponse resp = DeleteAliasResponse.newBuilder().setObjectID(Utils.getMsgID(objectID))</span>
<span class="nc" id="L1590">					.build();</span>
<span class="nc" id="L1591">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1592">			responseObserver.onCompleted();</span>

<span class="nc" id="L1594">		} catch (final Exception e) {</span>
<span class="nc" id="L1595">			final DeleteAliasResponse.Builder builder = DeleteAliasResponse.newBuilder();</span>
<span class="nc" id="L1596">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1597">			final DeleteAliasResponse resp = builder.build();</span>
<span class="nc" id="L1598">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1599">			responseObserver.onCompleted();</span>
<span class="nc" id="L1600">		}</span>
<span class="nc" id="L1601">	}</span>

	@Override
	public void getObjectsMetaDataInfoOfClassForNM(final GetObjectsMetaDataInfoOfClassForNMRequest request,
			final StreamObserver&lt;GetObjectsMetaDataInfoOfClassForNMResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1607">			final Map&lt;ObjectID, MetaDataInfo&gt; result = logicModule</span>
<span class="nc" id="L1608">					.getObjectsMetaDataInfoOfClassForNM(Utils.getMetaClassID(request.getClassID()));</span>

			final GetObjectsMetaDataInfoOfClassForNMResponse.Builder builder = GetObjectsMetaDataInfoOfClassForNMResponse
<span class="nc" id="L1611">					.newBuilder();</span>
<span class="nc bnc" id="L1612" title="All 2 branches missed.">			for (final Entry&lt;ObjectID, MetaDataInfo&gt; entry : result.entrySet()) {</span>
<span class="nc" id="L1613">				builder.putMdataInfo(entry.getKey().toString(), Utils.getMetaDataInfo(entry.getValue()));</span>
<span class="nc" id="L1614">			}</span>
<span class="nc" id="L1615">			final GetObjectsMetaDataInfoOfClassForNMResponse resp = builder.build();</span>
<span class="nc" id="L1616">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1617">			responseObserver.onCompleted();</span>

<span class="nc" id="L1619">		} catch (final Exception e) {</span>
			final GetObjectsMetaDataInfoOfClassForNMResponse.Builder builder = GetObjectsMetaDataInfoOfClassForNMResponse
<span class="nc" id="L1621">					.newBuilder();</span>
<span class="nc" id="L1622">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1623">			final GetObjectsMetaDataInfoOfClassForNMResponse resp = builder.build();</span>
<span class="nc" id="L1624">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1625">			responseObserver.onCompleted();</span>
<span class="nc" id="L1626">		}</span>
<span class="nc" id="L1627">	}</span>

	@Override
	public void moveObject(final MoveObjectRequest request, final StreamObserver&lt;MoveObjectResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1633">			final List&lt;ObjectID&gt; result = logicModule.moveObject(Utils.getSessionID(request.getSessionID()),</span>
<span class="nc" id="L1634">					Utils.getObjectID(request.getObjectID()), Utils.getExecutionEnvironmentID(request.getSrcBackendID()),</span>
<span class="nc" id="L1635">					Utils.getExecutionEnvironmentID(request.getDestBackendID()), request.getRecursive());</span>

			final MoveObjectResponse.Builder builder = es.bsc.dataclay.communication.grpc.messages.logicmodule.LogicmoduleMessages.MoveObjectResponse
<span class="nc" id="L1638">					.newBuilder();</span>
<span class="nc bnc" id="L1639" title="All 2 branches missed.">			if (result != null) {</span>
<span class="nc bnc" id="L1640" title="All 2 branches missed.">				for (final ObjectID curObjID : result) {</span>
<span class="nc" id="L1641">					builder.addObjectIDs(Utils.getMsgID(curObjID));</span>
<span class="nc" id="L1642">				}</span>
			}
<span class="nc" id="L1644">			final MoveObjectResponse resp = builder.build();</span>

<span class="nc" id="L1646">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1647">			responseObserver.onCompleted();</span>

<span class="nc" id="L1649">		} catch (final Exception e) {</span>
			final MoveObjectResponse.Builder builder = es.bsc.dataclay.communication.grpc.messages.logicmodule.LogicmoduleMessages.MoveObjectResponse
<span class="nc" id="L1651">					.newBuilder();</span>
<span class="nc" id="L1652">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1653">			final MoveObjectResponse resp = builder.build();</span>
<span class="nc" id="L1654">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1655">			responseObserver.onCompleted();</span>
<span class="nc" id="L1656">		}</span>
<span class="nc" id="L1657">	}</span>

	@Override
	public void setObjectReadOnly(final SetObjectReadOnlyRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {

		try {

<span class="nc" id="L1665">			logicModule.setObjectReadOnly(Utils.getSessionID(request.getSessionID()), Utils.getObjectID(request.getObjectID()));</span>

<span class="nc" id="L1667">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1668">			responseObserver.onCompleted();</span>

<span class="nc" id="L1670">		} catch (final Exception e) {</span>
<span class="nc" id="L1671">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1672">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1673">			responseObserver.onCompleted();</span>
<span class="nc" id="L1674">		}</span>
<span class="nc" id="L1675">	}</span>

	@Override
	public void setObjectReadWrite(final SetObjectReadWriteRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {

<span class="nc" id="L1682">			logicModule.setObjectReadWrite(Utils.getSessionID(request.getSessionID()), Utils.getObjectID(request.getObjectID()));</span>

<span class="nc" id="L1684">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1685">			responseObserver.onCompleted();</span>

<span class="nc" id="L1687">		} catch (final Exception e) {</span>
<span class="nc" id="L1688">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1689">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1690">			responseObserver.onCompleted();</span>
<span class="nc" id="L1691">		}</span>
<span class="nc" id="L1692">	}</span>

	@Override
	public void getMetadataByOID(final GetMetadataByOIDRequest request,
			final StreamObserver&lt;GetMetadataByOIDResponse&gt; responseObserver) {

		try {

<span class="nc" id="L1700">			final MetaDataInfo result = logicModule.getMetadataByOID(Utils.getSessionID(request.getSessionID()),</span>
<span class="nc" id="L1701">					Utils.getObjectID(request.getObjectID()));</span>
<span class="nc" id="L1702">			final GetMetadataByOIDResponse.Builder builder = GetMetadataByOIDResponse.newBuilder();</span>
<span class="nc" id="L1703">			builder.setMdInfo(Utils.getMetaDataInfo(result));</span>

<span class="nc" id="L1705">			final GetMetadataByOIDResponse resp = builder.build();</span>
<span class="nc" id="L1706">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1707">			responseObserver.onCompleted();</span>

<span class="nc" id="L1709">		} catch (final Exception e) {</span>
<span class="nc" id="L1710">			final GetMetadataByOIDResponse.Builder builder = GetMetadataByOIDResponse.newBuilder();</span>
<span class="nc" id="L1711">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1712">			final GetMetadataByOIDResponse resp = builder.build();</span>
<span class="nc" id="L1713">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1714">			responseObserver.onCompleted();</span>
<span class="nc" id="L1715">		}</span>

<span class="nc" id="L1717">	}</span>

	@Override
	public void getMetadataByOIDForDS(final GetMetadataByOIDForDSRequest request,
			final StreamObserver&lt;GetMetadataByOIDForDSResponse&gt; responseObserver) {

		try {

<span class="nc" id="L1725">			final MetaDataInfo result = logicModule.getMetadataByOIDForDS(Utils.getObjectID(request.getObjectID()));</span>

<span class="nc" id="L1727">			final GetMetadataByOIDForDSResponse.Builder builder = GetMetadataByOIDForDSResponse.newBuilder();</span>
<span class="nc" id="L1728">			builder.setMdInfo(Utils.getMetaDataInfo(result));</span>
<span class="nc" id="L1729">			final GetMetadataByOIDForDSResponse resp = builder.build();</span>
<span class="nc" id="L1730">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1731">			responseObserver.onCompleted();</span>

<span class="nc" id="L1733">		} catch (final Exception e) {</span>
<span class="nc" id="L1734">			final GetMetadataByOIDForDSResponse.Builder builder = GetMetadataByOIDForDSResponse.newBuilder();</span>
<span class="nc" id="L1735">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1736">			final GetMetadataByOIDForDSResponse resp = builder.build();</span>
<span class="nc" id="L1737">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1738">			responseObserver.onCompleted();</span>
<span class="nc" id="L1739">		}</span>

<span class="nc" id="L1741">	}</span>

	/**
	 * &lt;pre&gt;
	 * Execution Environment.
	 * &lt;/pre&gt;
	 */
	@Override
	public void executeImplementation(final ExecuteImplementationRequest request,
			final StreamObserver&lt;ExecuteImplementationResponse&gt; responseObserver) {

		try {
<span class="nc" id="L1753">			SerializedParametersOrReturn params = null;</span>
<span class="nc bnc" id="L1754" title="All 2 branches missed.">			if (request.hasParams()) {</span>
<span class="nc" id="L1755">				params = Utils.getParamsOrReturn(request.getParams());</span>
			}
<span class="nc" id="L1757">			final SerializedParametersOrReturn result = logicModule</span>
<span class="nc" id="L1758">					.executeImplementation(Utils.getSessionID(request.getSessionID()), Utils.getOperationID(request.getOperationID()),</span>
<span class="nc" id="L1759">							new Triple&lt;&gt;(Utils.getImplementationID(request.getImplementationID()),</span>
<span class="nc" id="L1760">									Utils.getContractID(request.getContractID()), Utils.getInterfaceID(request.getInterfaceID())),</span>
<span class="nc" id="L1761">							Utils.getObjectID(request.getObjectID()), params);</span>

<span class="nc" id="L1763">			final ExecuteImplementationResponse.Builder builder = ExecuteImplementationResponse.newBuilder();</span>
<span class="nc bnc" id="L1764" title="All 2 branches missed.">			if (result != null) {</span>
<span class="nc" id="L1765">				builder.setRet(Utils.getParamsOrReturn(result));</span>
			}
<span class="nc" id="L1767">			final ExecuteImplementationResponse resp = builder.build();</span>
<span class="nc" id="L1768">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1769">			responseObserver.onCompleted();</span>

<span class="nc" id="L1771">		} catch (final Exception e) {</span>
<span class="nc" id="L1772">			final ExecuteImplementationResponse.Builder builder = ExecuteImplementationResponse.newBuilder();</span>
<span class="nc" id="L1773">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1774">			final ExecuteImplementationResponse resp = builder.build();</span>
<span class="nc" id="L1775">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1776">			responseObserver.onCompleted();</span>
<span class="nc" id="L1777">		}</span>

<span class="nc" id="L1779">	}</span>

	@Override
	public void executeMethodOnTarget(final ExecuteMethodOnTargetRequest request,
			final StreamObserver&lt;ExecuteMethodOnTargetResponse&gt; responseObserver) {
		try {
<span class="nc" id="L1785">			SerializedParametersOrReturn params = null;</span>
<span class="nc bnc" id="L1786" title="All 2 branches missed.">			if (request.hasParams()) {</span>
<span class="nc" id="L1787">				params = Utils.getParamsOrReturn(request.getParams());</span>
			}
<span class="nc" id="L1789">			final SerializedParametersOrReturn result = logicModule.executeMethodOnTarget(</span>
<span class="nc" id="L1790">					Utils.getSessionID(request.getSessionID()), Utils.getObjectID(request.getObjectID()),</span>
<span class="nc" id="L1791">					request.getOperationNameAndSignature(), params,</span>
<span class="nc" id="L1792">					Utils.getExecutionEnvironmentID(request.getTargetBackendID()));</span>

<span class="nc" id="L1794">			final ExecuteMethodOnTargetResponse.Builder builder = ExecuteMethodOnTargetResponse.newBuilder();</span>
<span class="nc bnc" id="L1795" title="All 2 branches missed.">			if (result != null) {</span>
<span class="nc" id="L1796">				builder.setRet(Utils.getParamsOrReturn(result));</span>
			}
<span class="nc" id="L1798">			final ExecuteMethodOnTargetResponse resp = builder.build();</span>
<span class="nc" id="L1799">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1800">			responseObserver.onCompleted();</span>

<span class="nc" id="L1802">		} catch (final Exception e) {</span>
<span class="nc" id="L1803">			final ExecuteMethodOnTargetResponse.Builder builder = ExecuteMethodOnTargetResponse.newBuilder();</span>
<span class="nc" id="L1804">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1805">			final ExecuteMethodOnTargetResponse resp = builder.build();</span>
<span class="nc" id="L1806">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1807">			responseObserver.onCompleted();</span>
<span class="nc" id="L1808">		}</span>
<span class="nc" id="L1809">	}</span>

	/**
	 * &lt;pre&gt;
	 * Stubs.
	 * &lt;/pre&gt;
	 */
	@Override
	public void getStubs(final GetStubsRequest request, final StreamObserver&lt;GetStubsResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1820">			final List&lt;ContractID&gt; contractsIDs = new LinkedList&lt;&gt;();</span>
<span class="nc bnc" id="L1821" title="All 2 branches missed.">			for (final String cID : request.getContractIDsList()) {</span>
<span class="nc" id="L1822">				contractsIDs.add(Utils.getContractID(cID));</span>
<span class="nc" id="L1823">			}</span>

<span class="nc" id="L1825">			final Map&lt;String, byte[]&gt; stubs = logicModule.getStubs(Utils.getAccountID(request.getApplicantAccountID()),</span>
<span class="nc" id="L1826">					Utils.getCredential(request.getCredentials()), request.getLanguage(), contractsIDs);</span>

<span class="nc" id="L1828">			final GetStubsResponse.Builder builder = GetStubsResponse.newBuilder();</span>
<span class="nc bnc" id="L1829" title="All 2 branches missed.">			for (final Entry&lt;String, byte[]&gt; entry : stubs.entrySet()) {</span>
<span class="nc" id="L1830">				builder.putStubs(entry.getKey(), ByteString.copyFrom(entry.getValue()));</span>
<span class="nc" id="L1831">			}</span>

<span class="nc" id="L1833">			final GetStubsResponse resp = builder.build();</span>
<span class="nc" id="L1834">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1835">			responseObserver.onCompleted();</span>

<span class="nc" id="L1837">		} catch (final Exception e) {</span>
<span class="nc" id="L1838">			final GetStubsResponse.Builder builder = GetStubsResponse.newBuilder();</span>
<span class="nc" id="L1839">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1840">			final GetStubsResponse resp = builder.build();</span>
<span class="nc" id="L1841">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1842">			responseObserver.onCompleted();</span>
<span class="nc" id="L1843">		}</span>

<span class="nc" id="L1845">	}</span>

	@Override
	public void getBabelStubs(final GetBabelStubsRequest request,
			final StreamObserver&lt;GetBabelStubsResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1852">			final List&lt;ContractID&gt; contractsIDs = new LinkedList&lt;&gt;();</span>
<span class="nc bnc" id="L1853" title="All 2 branches missed.">			for (final String cID : request.getContractIDsList()) {</span>
<span class="nc" id="L1854">				contractsIDs.add(Utils.getContractID(cID));</span>
<span class="nc" id="L1855">			}</span>

<span class="nc" id="L1857">			final byte[] result = logicModule.getBabelStubs(Utils.getAccountID(request.getAccountID()),</span>
<span class="nc" id="L1858">					Utils.getCredential(request.getCredentials()), contractsIDs);</span>

<span class="nc" id="L1860">			final GetBabelStubsResponse.Builder builder = GetBabelStubsResponse.newBuilder();</span>
<span class="nc" id="L1861">			builder.setYamlStub(ByteString.copyFrom(result));</span>
<span class="nc" id="L1862">			final GetBabelStubsResponse resp = builder.build();</span>
<span class="nc" id="L1863">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1864">			responseObserver.onCompleted();</span>

<span class="nc" id="L1866">		} catch (final Exception e) {</span>
<span class="nc" id="L1867">			final GetBabelStubsResponse.Builder builder = GetBabelStubsResponse.newBuilder();</span>
<span class="nc" id="L1868">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1869">			final GetBabelStubsResponse resp = builder.build();</span>
<span class="nc" id="L1870">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1871">			responseObserver.onCompleted();</span>
<span class="nc" id="L1872">		}</span>
<span class="nc" id="L1873">	}</span>

	/**
	 * &lt;pre&gt;
	 * Notification Manager.
	 * &lt;/pre&gt;
	 */
	@Override
	public void registerECA(final RegisterECARequest request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {

<span class="nc" id="L1884">			final ECA eca = (ECA) CommonYAML.getYamlObject().load(request.getEca());</span>
<span class="nc" id="L1885">			logicModule.registerEventListenerImplementation(Utils.getAccountID(request.getApplicantAccountID()),</span>
<span class="nc" id="L1886">					Utils.getCredential(request.getCredentials()), eca);</span>

<span class="nc" id="L1888">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1889">			responseObserver.onCompleted();</span>

<span class="nc" id="L1891">		} catch (final Exception e) {</span>
<span class="nc" id="L1892">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1893">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1894">			responseObserver.onCompleted();</span>
<span class="nc" id="L1895">		}</span>
<span class="nc" id="L1896">	}</span>

	@Override
	public void adviseEvent(final AdviseEventRequest request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {

<span class="nc" id="L1902">			final EventMessage newEvent = (EventMessage) CommonYAML.getYamlObject().load(request.getEventYaml());</span>
<span class="nc" id="L1903">			logicModule.adviseEvent(newEvent);</span>

<span class="nc" id="L1905">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1906">			responseObserver.onCompleted();</span>

<span class="nc" id="L1908">		} catch (final Exception e) {</span>
<span class="nc" id="L1909">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1910">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1911">			responseObserver.onCompleted();</span>
<span class="nc" id="L1912">		}</span>
<span class="nc" id="L1913">	}</span>

	/**
	 * &lt;pre&gt;
	 * Others.
	 * &lt;/pre&gt;
	 */
	@Override
	public void getClassNameForDS(final GetClassNameForDSRequest request,
			final StreamObserver&lt;GetClassNameForDSResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1925">			final String className = logicModule.getClassNameForDS(Utils.getMetaClassID(request.getClassID()));</span>
<span class="nc" id="L1926">			final GetClassNameForDSResponse resp = GetClassNameForDSResponse.newBuilder().setClassName(className)</span>
<span class="nc" id="L1927">					.build();</span>
<span class="nc" id="L1928">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1929">			responseObserver.onCompleted();</span>

<span class="nc" id="L1931">		} catch (final Exception e) {</span>
<span class="nc" id="L1932">			final GetClassNameForDSResponse.Builder builder = GetClassNameForDSResponse.newBuilder();</span>
<span class="nc" id="L1933">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1934">			final GetClassNameForDSResponse resp = builder.build();</span>
<span class="nc" id="L1935">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1936">			responseObserver.onCompleted();</span>
<span class="nc" id="L1937">		}</span>
<span class="nc" id="L1938">	}</span>

	@Override
	public void getClassNameAndNamespaceForDS(final GetClassNameAndNamespaceForDSRequest request,
			final StreamObserver&lt;GetClassNameAndNamespaceForDSResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1945">			final Tuple&lt;String, String&gt; result = logicModule</span>
<span class="nc" id="L1946">					.getClassNameAndNamespaceForDS(Utils.getMetaClassID(request.getClassID()));</span>
<span class="nc" id="L1947">			final GetClassNameAndNamespaceForDSResponse resp = GetClassNameAndNamespaceForDSResponse.newBuilder()</span>
<span class="nc" id="L1948">					.setClassName(result.getFirst()).setNamespace(result.getSecond()).build();</span>
<span class="nc" id="L1949">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1950">			responseObserver.onCompleted();</span>

<span class="nc" id="L1952">		} catch (final Exception ex) {</span>
<span class="nc" id="L1953">			ex.printStackTrace();</span>
<span class="nc" id="L1954">			logger.debug(&quot;getClassNameAndNamespaceForDS error&quot;, ex);</span>

			final GetClassNameAndNamespaceForDSResponse.Builder builder = GetClassNameAndNamespaceForDSResponse
<span class="nc" id="L1957">					.newBuilder();</span>
<span class="nc" id="L1958">			builder.setExcInfo(Utils.serializeException(ex));</span>
<span class="nc" id="L1959">			final GetClassNameAndNamespaceForDSResponse resp = builder.build();</span>
<span class="nc" id="L1960">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1961">			responseObserver.onCompleted();</span>
<span class="nc" id="L1962">		}</span>
<span class="nc" id="L1963">	}</span>

	@Override
	public void getContractIDOfDataClayProvider(final GetContractIDOfDataClayProviderRequest request,
			final StreamObserver&lt;GetContractIDOfDataClayProviderResponse&gt; responseObserver) {
		try {

<span class="nc" id="L1970">			final ContractID result = logicModule.getContractIDOfDataClayProvider(</span>
<span class="nc" id="L1971">					Utils.getAccountID(request.getApplicantAccountID()), Utils.getCredential(request.getCredentials()));</span>
<span class="nc" id="L1972">			final GetContractIDOfDataClayProviderResponse resp = GetContractIDOfDataClayProviderResponse.newBuilder()</span>
<span class="nc" id="L1973">					.setContractID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L1974">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1975">			responseObserver.onCompleted();</span>

<span class="nc" id="L1977">		} catch (final Exception e) {</span>
			final GetContractIDOfDataClayProviderResponse.Builder builder = GetContractIDOfDataClayProviderResponse
<span class="nc" id="L1979">					.newBuilder();</span>
<span class="nc" id="L1980">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L1981">			final GetContractIDOfDataClayProviderResponse resp = builder.build();</span>
<span class="nc" id="L1982">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1983">			responseObserver.onCompleted();</span>
<span class="nc" id="L1984">		}</span>
<span class="nc" id="L1985">	}</span>

	@Override
	public void activateTracing(final ActivateTracingRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {

<span class="nc" id="L1991">		final int currentAvailableTaskID = request.getTaskid();</span>
		try {
<span class="nc" id="L1993">			logicModule.activateTracing(currentAvailableTaskID);</span>
<span class="nc" id="L1994">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L1995">			responseObserver.onCompleted();</span>
<span class="nc" id="L1996">		} catch (final Exception e) {</span>
<span class="nc" id="L1997">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L1998">			responseObserver.onNext(resp);</span>
<span class="nc" id="L1999">			responseObserver.onCompleted();</span>
<span class="nc" id="L2000">		}</span>
		
<span class="nc" id="L2002">	}</span>

	@Override
	public void deactivateTracing(final EmptyMessage request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2007">			logicModule.deactivateTracing();</span>
<span class="nc" id="L2008">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2009">			responseObserver.onCompleted();</span>
<span class="nc" id="L2010">		} catch (final Exception e) {</span>
<span class="nc" id="L2011">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2012">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2013">			responseObserver.onCompleted();</span>
<span class="nc" id="L2014">		}</span>
<span class="nc" id="L2015">	}</span>

	@Override
	public void getTraces(final EmptyMessage request, final StreamObserver&lt;GetTracesResponse&gt; responseObserver) {
		try {
<span class="nc" id="L2020">			final Map&lt;String, byte[]&gt; traces = logicModule.getTraces();</span>
<span class="nc" id="L2021">			final GetTracesResponse.Builder builder = GetTracesResponse.newBuilder();</span>
<span class="nc bnc" id="L2022" title="All 2 branches missed.">			for (final Entry&lt;String, byte[]&gt; entry : traces.entrySet()) {</span>
<span class="nc" id="L2023">				builder.putTraces(entry.getKey(), ByteString.copyFrom(entry.getValue()));</span>
<span class="nc" id="L2024">			}</span>

<span class="nc" id="L2026">			final GetTracesResponse resp = builder.build();</span>
<span class="nc" id="L2027">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2028">			responseObserver.onCompleted();</span>

<span class="nc" id="L2030">		} catch (final Exception e) {</span>
<span class="nc" id="L2031">			final GetTracesResponse.Builder builder = GetTracesResponse.newBuilder();</span>
<span class="nc" id="L2032">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L2033">			final GetTracesResponse resp = builder.build();</span>
<span class="nc" id="L2034">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2035">			responseObserver.onCompleted();</span>
<span class="nc" id="L2036">		}</span>
<span class="nc" id="L2037">	}</span>

	
	@Override
	public void cleanMetaDataCaches(final EmptyMessage request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2043">			logicModule.cleanMetaDataCaches();</span>

<span class="nc" id="L2045">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2046">			responseObserver.onCompleted();</span>
<span class="nc" id="L2047">		} catch (final Exception e) {</span>
<span class="nc" id="L2048">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2049">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2050">			responseObserver.onCompleted();</span>
<span class="nc" id="L2051">		}</span>
<span class="nc" id="L2052">	}</span>

	@Override
	public void closeManagerDb(final EmptyMessage request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2057">			logicModule.closeManagerDb();</span>

<span class="nc" id="L2059">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2060">			responseObserver.onCompleted();</span>
<span class="nc" id="L2061">		} catch (final Exception e) {</span>
<span class="nc" id="L2062">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2063">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2064">			responseObserver.onCompleted();</span>
<span class="nc" id="L2065">		}</span>
<span class="nc" id="L2066">	}</span>

	@Override
	public void closeDb(final EmptyMessage request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2071">			logicModule.closeDb();</span>
<span class="nc" id="L2072">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2073">			responseObserver.onCompleted();</span>
<span class="nc" id="L2074">		} catch (final Exception e) {</span>
<span class="nc" id="L2075">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2076">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2077">			responseObserver.onCompleted();</span>
<span class="nc" id="L2078">		}</span>
<span class="nc" id="L2079">	}</span>

	@Override
	public void setDataSetID(final SetDataSetIDRequest request, final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {

		try {

<span class="nc" id="L2086">			logicModule.setDataSetID(Utils.getSessionID(request.getSessionID()),</span>
<span class="nc" id="L2087">					Utils.getObjectID(request.getObjectID()),</span>
<span class="nc" id="L2088">					Utils.getDataSetID(request.getDatasetID()));</span>

<span class="nc" id="L2090">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2091">			responseObserver.onCompleted();</span>
<span class="nc" id="L2092">		} catch (final Exception e) {</span>
<span class="nc" id="L2093">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2094">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2095">			responseObserver.onCompleted();</span>
<span class="nc" id="L2096">		}</span>
<span class="nc" id="L2097">	}</span>

	@Override
	public void setDataSetIDFromGarbageCollector(final SetDataSetIDFromGarbageCollectorRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {

		try {

<span class="nc" id="L2105">			logicModule.setDataSetIDFromGarbageCollector(Utils.getObjectID(request.getObjectID()),</span>
<span class="nc" id="L2106">					Utils.getDataSetID(request.getDatasetID()));</span>

<span class="nc" id="L2108">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2109">			responseObserver.onCompleted();</span>
<span class="nc" id="L2110">		} catch (final Exception e) {</span>
<span class="nc" id="L2111">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2112">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2113">			responseObserver.onCompleted();</span>
<span class="nc" id="L2114">		}</span>
<span class="nc" id="L2115">	}</span>

	@Override
	public void unregisterObjects(final UnregisterObjectsRequest request,
			final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2121">			final Set&lt;ObjectID&gt; objectsToUnregister = new HashSet&lt;&gt;();</span>
<span class="nc bnc" id="L2122" title="All 2 branches missed.">			for (final String oid : request</span>
<span class="nc" id="L2123">					.getObjectsToUnregisterList()) {</span>
<span class="nc" id="L2124">				objectsToUnregister.add(Utils.getObjectID(oid));</span>
<span class="nc" id="L2125">			}</span>
<span class="nc" id="L2126">			logicModule.unregisterObjects(objectsToUnregister);</span>

<span class="nc" id="L2128">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2129">			responseObserver.onCompleted();</span>

<span class="nc" id="L2131">		} catch (final Exception e) {</span>
<span class="nc" id="L2132">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2133">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2134">			responseObserver.onCompleted();</span>
<span class="nc" id="L2135">		}</span>
<span class="nc" id="L2136">	}</span>

	@Override
	public void getClassesInNamespace(final GetClassesInNamespaceRequest request,
								  final StreamObserver&lt;GetClassesInNamespaceResponse&gt; responseObserver) {
		try {

<span class="nc" id="L2143">			Tuple&lt;Namespace, Set&lt;MetaClass&gt;&gt; result = logicModule.getClassesInNamespace(request.getNamespaceName());</span>
<span class="nc" id="L2144">			Namespace namespace = result.getFirst();</span>
<span class="nc" id="L2145">			Set&lt;MetaClass&gt; metaClasses = result.getSecond();</span>
<span class="nc" id="L2146">			final GetClassesInNamespaceResponse.Builder builder = GetClassesInNamespaceResponse.newBuilder();</span>
<span class="nc" id="L2147">			builder.setNamespaceYaml(CommonYAML.getYamlObject().dump(namespace));</span>
<span class="nc bnc" id="L2148" title="All 2 branches missed.">			for (final MetaClass mClass : metaClasses) {</span>
<span class="nc" id="L2149">				builder.addMetaClassYaml(CommonYAML.getYamlObject().dump(mClass));</span>
<span class="nc" id="L2150">			}</span>

<span class="nc" id="L2152">			final GetClassesInNamespaceResponse resp = builder.build();</span>
<span class="nc" id="L2153">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2154">			responseObserver.onCompleted();</span>

<span class="nc" id="L2156">		} catch (final Exception e) {</span>
<span class="nc" id="L2157">			final GetClassesInNamespaceResponse.Builder builder = GetClassesInNamespaceResponse.newBuilder();</span>
<span class="nc" id="L2158">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L2159">			final GetClassesInNamespaceResponse resp = builder.build();</span>
<span class="nc" id="L2160">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2161">			responseObserver.onCompleted();</span>
<span class="nc" id="L2162">		}</span>
<span class="nc" id="L2163">	}</span>

	@Override
	public void importModelsFromExternalDataClay(final ImportModelsFromExternalDataClayRequest request,
									   final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2169">			logicModule.importModelsFromExternalDataClay(request.getNamespaceName(),</span>
<span class="nc" id="L2170">					Utils.getDataClayInstanceID(request.getDataClayID()));</span>
<span class="nc" id="L2171">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2172">			responseObserver.onCompleted();</span>

<span class="nc" id="L2174">		} catch (final Exception e) {</span>
<span class="nc" id="L2175">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2176">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2177">			responseObserver.onCompleted();</span>
<span class="nc" id="L2178">		}</span>
<span class="nc" id="L2179">	}</span>


	@Override
	public void getStorageLocationID(final GetStorageLocationIDRequest request,
									  final StreamObserver&lt;GetStorageLocationIDResponse&gt; responseObserver) {
		try {

<span class="nc" id="L2187">			StorageLocationID result = logicModule.getStorageLocationID(request.getSlName());</span>
<span class="nc" id="L2188">			final GetStorageLocationIDResponse resp = GetStorageLocationIDResponse.newBuilder()</span>
<span class="nc" id="L2189">					.setStorageLocationID(Utils.getMsgID(result)).build();</span>
<span class="nc" id="L2190">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2191">			responseObserver.onCompleted();</span>

<span class="nc" id="L2193">		} catch (final Exception e) {</span>
<span class="nc" id="L2194">			final GetStorageLocationIDResponse.Builder builder = GetStorageLocationIDResponse.newBuilder();</span>
<span class="nc" id="L2195">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L2196">			final GetStorageLocationIDResponse resp = builder.build();</span>
<span class="nc" id="L2197">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2198">			responseObserver.onCompleted();</span>
<span class="nc" id="L2199">		}</span>
<span class="nc" id="L2200">	}</span>

	@Override
	public void notifyExecutionEnvironmentShutdown(final NotifyExecutionEnvironmentShutdownRequest request,
												 final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2206">			logicModule.notifyExecutionEnvironmentShutdown(</span>
<span class="nc" id="L2207">					Utils.getExecutionEnvironmentID(request.getExecutionEnvironmentID()));</span>
<span class="nc" id="L2208">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2209">			responseObserver.onCompleted();</span>

<span class="nc" id="L2211">		} catch (final Exception e) {</span>
<span class="nc" id="L2212">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2213">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2214">			responseObserver.onCompleted();</span>
<span class="nc" id="L2215">		}</span>
<span class="nc" id="L2216">	}</span>

	@Override
	public void notifyStorageLocationShutdown(final NotifyStorageLocationShutdownRequest request,
												   final StreamObserver&lt;ExceptionInfo&gt; responseObserver) {
		try {
<span class="nc" id="L2222">			logicModule.notifyStorageLocationShutdown(</span>
<span class="nc" id="L2223">					Utils.getStorageLocationID(request.getStorageLocationID()));</span>
<span class="nc" id="L2224">			Utils.returnExceptionInfoMessage(responseObserver);</span>
<span class="nc" id="L2225">			responseObserver.onCompleted();</span>

<span class="nc" id="L2227">		} catch (final Exception e) {</span>
<span class="nc" id="L2228">			final ExceptionInfo resp = Utils.serializeException(e);</span>
<span class="nc" id="L2229">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2230">			responseObserver.onCompleted();</span>
<span class="nc" id="L2231">		}</span>
<span class="nc" id="L2232">	}</span>

	@Override
	public void existsActiveEnvironmentsForSL(final ExistsActiveEnvironmentsForSLRequest request,
									 final StreamObserver&lt;ExistsActiveEnvironmentsForSLResponse&gt; responseObserver) {
		try {

<span class="nc" id="L2239">			boolean result = logicModule.existsActiveEnvironmentsForSL(Utils.getStorageLocationID(request.getStorageLocationID()));</span>
<span class="nc" id="L2240">			final ExistsActiveEnvironmentsForSLResponse resp = ExistsActiveEnvironmentsForSLResponse.newBuilder()</span>
<span class="nc" id="L2241">					.setExists(result).build();</span>
<span class="nc" id="L2242">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2243">			responseObserver.onCompleted();</span>

<span class="nc" id="L2245">		} catch (final Exception e) {</span>
<span class="nc" id="L2246">			final ExistsActiveEnvironmentsForSLResponse.Builder builder = ExistsActiveEnvironmentsForSLResponse.newBuilder();</span>
<span class="nc" id="L2247">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L2248">			final ExistsActiveEnvironmentsForSLResponse resp = builder.build();</span>
<span class="nc" id="L2249">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2250">			responseObserver.onCompleted();</span>
<span class="nc" id="L2251">		}</span>
<span class="nc" id="L2252">	}</span>


	@Override
	public void getNumObjects(final EmptyMessage request,
							  final io.grpc.stub.StreamObserver&lt;CommonMessages.GetNumObjectsResponse&gt; responseObserver) {
		try {
<span class="nc" id="L2259">			final int result = logicModule.getNumObjects();</span>
<span class="nc" id="L2260">			final CommonMessages.GetNumObjectsResponse.Builder builder = CommonMessages.GetNumObjectsResponse.newBuilder();</span>
<span class="nc" id="L2261">			builder.setNumObjs(result);</span>
<span class="nc" id="L2262">			final CommonMessages.GetNumObjectsResponse resp = builder.build();</span>
<span class="nc" id="L2263">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2264">			responseObserver.onCompleted();</span>
<span class="nc" id="L2265">		} catch (final Exception e) {</span>
<span class="nc" id="L2266">			final CommonMessages.GetNumObjectsResponse.Builder builder = CommonMessages.GetNumObjectsResponse.newBuilder();</span>
<span class="nc" id="L2267">			builder.setExcInfo(Utils.serializeException(e));</span>
<span class="nc" id="L2268">			final CommonMessages.GetNumObjectsResponse resp = builder.build();</span>
<span class="nc" id="L2269">			responseObserver.onNext(resp);</span>
<span class="nc" id="L2270">			responseObserver.onCompleted();</span>
<span class="nc" id="L2271">		}</span>
<span class="nc" id="L2272">	}</span>


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>