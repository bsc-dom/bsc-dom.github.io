<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ClassManagerSQLStatements.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">dataclay</a> &gt; <a href="index.source.html" class="el_package">es.bsc.dataclay.logic.classmgr</a> &gt; <span class="el_source">ClassManagerSQLStatements.java</span></div><h1>ClassManagerSQLStatements.java</h1><pre class="source lang-java linenums">
package es.bsc.dataclay.logic.classmgr;

import es.bsc.dataclay.logic.accountmgr.AccountMgrSQLStatements;

import java.util.ResourceBundle;

/**
 * This class represents SQL statements.
 */
public final class ClassManagerSQLStatements {

	/**
	 * Utility classes should have private constructor.
	 */
	private ClassManagerSQLStatements() {

	}

	/**
	 * This enumeration represent all possible SQL statements.
	 */
<span class="fc" id="L23">	public enum SqlStatements {</span>

		/** Create table. */
<span class="fc" id="L26">		CREATE_TABLE_ACCESSED_IMPL,</span>
		/** Create table. */
<span class="fc" id="L28">		CREATE_TABLE_ACCESSED_PROP,</span>
		/** Create table. */
<span class="fc" id="L30">		CREATE_TABLE_TYPE,</span>
		/** Create table. */
<span class="fc" id="L32">		CREATE_TABLE_JAVA_TYPE,</span>
		/** Create table. */
<span class="fc" id="L34">		CREATE_TABLE_PYTHON_TYPE,</span>
		/** Create table. */
<span class="fc" id="L36">		CREATE_TABLE_MEMORY_FEATURE,</span>
		/** Create table. */
<span class="fc" id="L38">		CREATE_TABLE_CPU_FEATURE,</span>
		/** Create table. */
<span class="fc" id="L40">		CREATE_TABLE_LANGUAGE_FEATURE,</span>
		/** Create table. */
<span class="fc" id="L42">		CREATE_TABLE_ARCH_FEATURE,</span>
		/** Create table. */
<span class="fc" id="L44">		CREATE_TABLE_PREFETCHING_INFO,</span>
		/** Create table. */
<span class="fc" id="L46">		CREATE_TABLE_PYTHON_IMPLEMENTATION,</span>
		/** Create table. */
<span class="fc" id="L48">		CREATE_TABLE_JAVA_IMPLEMENTATION,</span>
		/** Create table. */
<span class="fc" id="L50">		CREATE_TABLE_ANNOTATION,</span>
		/** Create table. */
<span class="fc" id="L52">		CREATE_TABLE_PROPERTY,</span>
		/** Create table. */
<span class="fc" id="L54">		CREATE_TABLE_JAVA_PROPERTY,</span>
		/** Create table. */
<span class="fc" id="L56">		CREATE_TABLE_PYTHON_PROPERTY,</span>
		/** Create table. */
<span class="fc" id="L58">		CREATE_TABLE_OPERATION,</span>
		/** Create table. */
<span class="fc" id="L60">		CREATE_TABLE_JAVA_OPERATION,</span>
		/** Create table. */
<span class="fc" id="L62">		CREATE_TABLE_PYTHON_OPERATION,</span>
		/** Create table. */
<span class="fc" id="L64">		CREATE_TABLE_METACLASS,</span>
		/** Create table. */
<span class="fc" id="L66">		CREATE_TABLE_JAVA_METACLASS,</span>
		/** Create table. */
<span class="fc" id="L68">		CREATE_TABLE_PYTHON_METACLASS,</span>
		/** Drop table. */
<span class="fc" id="L70">		DROP_TABLE_ACCESSED_IMPL,</span>
		/** Drop table. */
<span class="fc" id="L72">		DROP_TABLE_ACCESSED_PROP,</span>
		/** Drop table. */
<span class="fc" id="L74">		DROP_TABLE_TYPE,</span>
		/** Drop table. */
<span class="fc" id="L76">		DROP_TABLE_JAVA_TYPE,</span>
		/** Drop table. */
<span class="fc" id="L78">		DROP_TABLE_PYTHON_TYPE,</span>
		/** Drop table. */
<span class="fc" id="L80">		DROP_TABLE_MEMORY_FEATURE,</span>
		/** Drop table. */
<span class="fc" id="L82">		DROP_TABLE_CPU_FEATURE,</span>
		/** Drop table. */
<span class="fc" id="L84">		DROP_TABLE_LANGUAGE_FEATURE,</span>
		/** Drop table. */
<span class="fc" id="L86">		DROP_TABLE_ARCH_FEATURE,</span>
		/** Drop table. */
<span class="fc" id="L88">		DROP_TABLE_PREFETCHING_INFO,</span>
		/** Drop table. */
<span class="fc" id="L90">		DROP_TABLE_JAVA_IMPLEMENTATION,</span>
		/** Drop table. */
<span class="fc" id="L92">		DROP_TABLE_PYTHON_IMPLEMENTATION,</span>
		/** Drop table. */
<span class="fc" id="L94">		DROP_TABLE_ANNOTATION,</span>
		/** Drop table. */
<span class="fc" id="L96">		DROP_TABLE_PROPERTY,</span>
		/** Drop table. */
<span class="fc" id="L98">		DROP_TABLE_JAVA_PROPERTY,</span>
		/** Drop table. */
<span class="fc" id="L100">		DROP_TABLE_PYTHON_PROPERTY,</span>
		/** Drop table. */
<span class="fc" id="L102">		DROP_TABLE_OPERATION,</span>
		/** Drop table. */
<span class="fc" id="L104">		DROP_TABLE_JAVA_OPERATION,</span>
		/** Drop table. */
<span class="fc" id="L106">		DROP_TABLE_PYTHON_OPERATION,</span>
		/** Drop table. */
<span class="fc" id="L108">		DROP_TABLE_METACLASS,</span>
		/** Drop table. */
<span class="fc" id="L110">		DROP_TABLE_JAVA_METACLASS,</span>
		/** Drop table. */
<span class="fc" id="L112">		DROP_TABLE_PYTHON_METACLASS,</span>
		/** Insert. */
<span class="fc" id="L114">		INSERT_ACCESSED_IMPL,</span>
		/** Insert. */
<span class="fc" id="L116">		INSERT_ACCESSED_PROP,</span>
		/** Insert. */
<span class="fc" id="L118">		INSERT_TYPE,</span>
		/** Insert. */
<span class="fc" id="L120">		INSERT_JAVA_TYPE,</span>
		/** Insert. */
<span class="fc" id="L122">		INSERT_PYTHON_TYPE,</span>
		/** Insert. */
<span class="fc" id="L124">		INSERT_MEMORY_FEATURE,</span>
		/** Insert. */
<span class="fc" id="L126">		INSERT_CPU_FEATURE,</span>
		/** Insert. */
<span class="fc" id="L128">		INSERT_LANGUAGE_FEATURE,</span>
		/** Insert. */
<span class="fc" id="L130">		INSERT_ARCH_FEATURE,</span>
		/** Insert. */
<span class="fc" id="L132">		INSERT_PREFETCHING_INFO,</span>
		/** Insert. */
<span class="fc" id="L134">		INSERT_JAVA_IMPLEMENTATION,</span>
		/** Insert. */
<span class="fc" id="L136">		INSERT_PYTHON_IMPLEMENTATION,</span>
		/** Insert. */
<span class="fc" id="L138">		INSERT_ANNOTATION,</span>
		/** Insert. */
<span class="fc" id="L140">		INSERT_PROPERTY,</span>
		/** Insert. */
<span class="fc" id="L142">		INSERT_JAVA_PROPERTY,</span>
		/** Insert. */
<span class="fc" id="L144">		INSERT_PYTHON_PROPERTY,</span>
		/** Insert. */
<span class="fc" id="L146">		INSERT_OPERATION,</span>
		/** Insert. */
<span class="fc" id="L148">		INSERT_JAVA_OPERATION,</span>
		/** Insert. */
<span class="fc" id="L150">		INSERT_PYTHON_OPERATION,</span>
		/** Insert. */
<span class="fc" id="L152">		INSERT_METACLASS,</span>
		/** Insert. */
<span class="fc" id="L154">		INSERT_JAVA_METACLASS,</span>
		/** Insert. */
<span class="fc" id="L156">		INSERT_PYTHON_METACLASS,</span>
		/** Select. */
<span class="fc" id="L158">		SELECT_METACLASS_BY_ID,</span>
		/** Select. */
<span class="fc" id="L160">		SELECT_JAVA_METACLASS_BY_ID,</span>
		/** Select. */
<span class="fc" id="L162">		SELECT_PYTHON_METACLASS_BY_ID,</span>
		/** Select. */
<span class="fc" id="L164">		SELECT_TYPE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L166">		SELECT_JAVA_TYPE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L168">		SELECT_PYTHON_TYPE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L170">		SELECT_ACCESSED_PROP_BY_ID,</span>
		/** Select. */
<span class="fc" id="L172">		SELECT_ACCESSED_IMPL_BY_ID,</span>
		/** Select. */
<span class="fc" id="L174">		SELECT_MEMORY_FEATURE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L176">		SELECT_CPU_FEATURE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L178">		SELECT_LANGUAGE_FEATURE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L180">		SELECT_ARCH_FEATURE_BY_ID,</span>
		/** Select. */
<span class="fc" id="L182">		SELECT_PREFETCHING_INFO_BY_ID,</span>
		/** Select. */
<span class="fc" id="L184">		SELECT_JAVA_IMPLEMENTATION_BY_ID,</span>
		/** Select. */
<span class="fc" id="L186">		SELECT_PYTHON_IMPLEMENTATION_BY_ID,</span>
		/** Select. */
<span class="fc" id="L188">		SELECT_PYTHON_CODE_BY_IMPLEMENTATION_ID,</span>
		/** Select. */
<span class="fc" id="L190">		SELECT_ANNOTATION_BY_ID,</span>
		/** Select. */
<span class="fc" id="L192">		SELECT_PROPERTY_BY_ID,</span>
		/** Select. */
<span class="fc" id="L194">		SELECT_JAVA_PROPERTY_BY_ID,</span>
		/** Select. */
<span class="fc" id="L196">		SELECT_PYTHON_PROPERTY_BY_ID,</span>
		/** Select. */
<span class="fc" id="L198">		SELECT_OPERATION_BY_ID,</span>
		/** Select. */
<span class="fc" id="L200">		SELECT_JAVA_OPERATION_BY_ID,</span>
		/** Select. */
<span class="fc" id="L202">		SELECT_PYTHON_OPERATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L204">		DELETE_TYPE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L206">		DELETE_JAVA_TYPE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L208">		DELETE_PYTHON_TYPE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L210">		DELETE_ACCESSED_PROP_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L212">		DELETE_ACCESSED_IMPL_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L214">		DELETE_MEMORY_FEATURE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L216">		DELETE_CPU_FEATURE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L218">		DELETE_LANGUAGE_FEATURE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L220">		DELETE_ARCH_FEATURE_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L222">		DELETE_PREFETCHING_INFO_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L224">		DELETE_JAVA_IMPLEMENTATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L226">		DELETE_PYTHON_IMPLEMENTATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L228">		DELETE_ANNOTATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L230">		DELETE_PROPERTY_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L232">		DELETE_JAVA_PROPERTY_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L234">		DELETE_PYTHON_PROPERTY_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L236">		DELETE_OPERATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L238">		DELETE_JAVA_OPERATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L240">		DELETE_PYTHON_OPERATION_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L242">		DELETE_METACLASS_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L244">		DELETE_JAVA_METACLASS_BY_ID,</span>
		/** Delete. */
<span class="fc" id="L246">		DELETE_PYTHON_METACLASS_BY_ID,</span>
		/** Update. */
<span class="fc" id="L248">		UPDATE_JAVA_CLASS_BYTECODE_BY_ID,</span>
		/** Exists class in namespace provided. */
<span class="fc" id="L250">		EXISTS_CLASS_IN_NAMESPACE,</span>
		/** Add property. */
<span class="fc" id="L252">		UPDATE_CLASS_ADD_PROPERTY_BY_ID,</span>
		/** Add operation. */
<span class="fc" id="L254">		UPDATE_CLASS_ADD_OPERATION_BY_ID,</span>
		/** Remove operation from class. */
<span class="fc" id="L256">		UPDATE_CLASS_REMOVE_OPERATION_BY_ID,</span>
		/** Add implementation . */
<span class="fc" id="L258">		UPDATE_OPERATION_ADD_IMPLEMENTATION_BY_ID,</span>
		/** Remove implementation from op. */
<span class="fc" id="L260">		UPDATE_OPERATION_REMOVE_IMPLEMENTATION_BY_ID,</span>
		/** Select class by name and namespace ID. */
<span class="fc" id="L262">		SELECT_CLASS_BY_NAME_AND_NAMESPACEID,</span>
		/** Select class by name and namespace. */
<span class="fc" id="L264">		SELECT_CLASS_BY_NAME_AND_NAMESPACE,</span>
		/** Select property by names. */
<span class="fc" id="L266">		SELECT_PROPERTY_BY_NAMES,</span>
		/** Select operation by names. */
<span class="fc" id="L268">		SELECT_OPERATION_BY_NAMES,</span>
		/** Select class by name. */
<span class="fc" id="L270">		SELECT_CLASS_BY_NAME,</span>
		/** Exists type using class id. */
<span class="fc" id="L272">		EXISTS_TYPE_CLASS_ID,</span>
		/** Exists accessed implementation with id. */
<span class="fc" id="L274">		EXISTS_ACCESSED_IMPLEMENTATION_ID,</span>
		/** Get property of class id and namespace id. */
<span class="fc" id="L276">		SELECT_PROPERTY_OF_ENRICHMENT,</span>
		/** Get operation of class id and namespace id. */
<span class="fc" id="L278">		SELECT_OPERATION_OF_ENRICHMENT,</span>
		/** Get all classes in NAMESPACE. */
<span class="fc" id="L280">		SELECT_CLASSES_IN_NAMESPACE,</span>
		/** Get classID by class name and its namespace id. */
<span class="fc" id="L282">		SELECT_CLASSID_BY_NAME_AND_NAMESPACEID;</span>

		/** SQL statement. */
		private String sqlStatement;

		/** Indicates statements are loaded in memory. */
<span class="fc" id="L288">		private static boolean LOADED = false;</span>
		/**
		 * Unload statements.
		 */
		public static void unloadStatements() {
<span class="nc" id="L293">			LOADED = false;</span>
<span class="nc bnc" id="L294" title="All 2 branches missed.">			for (AccountMgrSQLStatements.SqlStatements statement : AccountMgrSQLStatements.SqlStatements.values()) {</span>
<span class="nc" id="L295">				statement.setSqlStatement(null);</span>
			}
<span class="nc" id="L297">		}</span>


		/**
		 * Init properties of the properties file
		 */
		public static void loadStatements() {
<span class="fc" id="L304">			ResourceBundle props = ResourceBundle.getBundle(&quot;es.bsc.dataclay.properties.class_mgr_sql&quot;);</span>
<span class="fc bfc" id="L305" title="All 2 branches covered.">			for (ClassManagerSQLStatements.SqlStatements statement : ClassManagerSQLStatements.SqlStatements.values()) {</span>
<span class="fc" id="L306">				statement.init(props);</span>
			}
<span class="fc" id="L308">			LOADED = true;</span>
<span class="fc" id="L309">		}</span>

		/**
		 * Init properties of the properties file
		 */
		private void init(ResourceBundle props) {
<span class="fc" id="L315">			final String sqlSt = props.getString(this.name());</span>
<span class="fc" id="L316">			setSqlStatement(sqlSt);</span>
<span class="fc" id="L317">		}</span>

		/**
		 * Get the sqlStatement
		 * @return the sqlStatement
		 */
		public String getSqlStatement() {
<span class="fc bfc" id="L324" title="All 2 branches covered.">			if (!LOADED) {</span>
<span class="fc" id="L325">				loadStatements();</span>
			}
<span class="fc" id="L327">			return sqlStatement;</span>
		}

		/**
		 * Set the sqlStatement
		 * @param newsqlStatement
		 *            the sqlStatement
		 */
		public void setSqlStatement(final String newsqlStatement) {
<span class="fc" id="L336">			sqlStatement = newsqlStatement;</span>
<span class="fc" id="L337">		}</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>