<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ClassManagerDB.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">dataclay</a> &gt; <a href="index.source.html" class="el_package">es.bsc.dataclay.logic.classmgr</a> &gt; <span class="el_source">ClassManagerDB.java</span></div><h1>ClassManagerDB.java</h1><pre class="source lang-java linenums">
package es.bsc.dataclay.logic.classmgr;

import java.sql.Array;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;
import java.util.SortedSet;
import java.util.TreeSet;
import java.util.UUID;

import org.apache.commons.dbcp2.BasicDataSource;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import es.bsc.dataclay.communication.grpc.messages.common.CommonMessages.Langs;
import es.bsc.dataclay.exceptions.dbhandler.DbObjectNotExistException;
import es.bsc.dataclay.util.Configuration;
import es.bsc.dataclay.util.ids.AccountID;
import es.bsc.dataclay.util.ids.ImplementationID;
import es.bsc.dataclay.util.ids.MetaClassID;
import es.bsc.dataclay.util.ids.NamespaceID;
import es.bsc.dataclay.util.ids.OperationID;
import es.bsc.dataclay.util.ids.PropertyID;
import es.bsc.dataclay.util.management.classmgr.AccessedImplementation;
import es.bsc.dataclay.util.management.classmgr.AccessedProperty;
import es.bsc.dataclay.util.management.classmgr.Annotation;
import es.bsc.dataclay.util.management.classmgr.Implementation;
import es.bsc.dataclay.util.management.classmgr.LanguageDependantClassInfo;
import es.bsc.dataclay.util.management.classmgr.LanguageDependantOperationInfo;
import es.bsc.dataclay.util.management.classmgr.LanguageDependantPropertyInfo;
import es.bsc.dataclay.util.management.classmgr.LanguageDependantTypeInfo;
import es.bsc.dataclay.util.management.classmgr.MetaClass;
import es.bsc.dataclay.util.management.classmgr.Operation;
import es.bsc.dataclay.util.management.classmgr.PrefetchingInformation;
import es.bsc.dataclay.util.management.classmgr.Property;
import es.bsc.dataclay.util.management.classmgr.Type;
import es.bsc.dataclay.util.management.classmgr.UserType;
import es.bsc.dataclay.util.management.classmgr.features.ArchitectureFeature;
import es.bsc.dataclay.util.management.classmgr.features.CPUFeature;
import es.bsc.dataclay.util.management.classmgr.features.Feature;
import es.bsc.dataclay.util.management.classmgr.features.LanguageFeature;
import es.bsc.dataclay.util.management.classmgr.features.MemoryFeature;
import es.bsc.dataclay.util.management.classmgr.features.QualitativeFeature;
import es.bsc.dataclay.util.management.classmgr.features.QuantitativeFeature;
import es.bsc.dataclay.util.management.classmgr.features.Feature.FeatureType;
import es.bsc.dataclay.util.management.classmgr.java.JavaClassInfo;
import es.bsc.dataclay.util.management.classmgr.java.JavaImplementation;
import es.bsc.dataclay.util.management.classmgr.java.JavaOperationInfo;
import es.bsc.dataclay.util.management.classmgr.java.JavaPropertyInfo;
import es.bsc.dataclay.util.management.classmgr.java.JavaTypeInfo;
import es.bsc.dataclay.util.management.classmgr.python.PythonClassInfo;
import es.bsc.dataclay.util.management.classmgr.python.PythonImplementation;
import es.bsc.dataclay.util.management.classmgr.python.PythonOperationInfo;
import es.bsc.dataclay.util.management.classmgr.python.PythonPropertyInfo;
import es.bsc.dataclay.util.management.classmgr.python.PythonTypeInfo;

/**
 * Class manager data base.
 */
public final class ClassManagerDB {

	/** Logger. */
<span class="fc" id="L73">	private static final Logger logger = LogManager.getLogger(&quot;managers.ClassManager.DB&quot;);</span>

	/** Indicates if debug is enabled. */
<span class="fc" id="L76">	private static final boolean DEBUG_ENABLED = Configuration.isDebugEnabled();</span>

	/** DataSource. */
	private final BasicDataSource dataSource;

	/**
	 * ClassManagerDB constructor.
	 * 
	 * @param managerName
	 *            Name of the LM service managing.
	 */
<span class="fc" id="L87">	public ClassManagerDB(final BasicDataSource dataSource) {</span>
<span class="fc" id="L88">		this.dataSource = dataSource;</span>
<span class="fc" id="L89">	}</span>

	/**
	 * Create tables.
	 */
	public void createTables() {

<span class="fc" id="L96">		Connection conn = null;</span>
		try {
<span class="fc" id="L98">			conn = dataSource.getConnection();</span>
<span class="fc bfc" id="L99" title="All 2 branches covered.">			for (final ClassManagerSQLStatements.SqlStatements stmt : ClassManagerSQLStatements.SqlStatements.values()) {</span>
<span class="pc bpc" id="L100" title="1 of 2 branches missed.">				if (stmt.name().startsWith(&quot;CREATE_TYPE&quot;)) {</span>
					try {
<span class="nc" id="L102">						final PreparedStatement createStmt = conn.prepareStatement(stmt.getSqlStatement());</span>
<span class="nc bnc" id="L103" title="All 2 branches missed.">						if (DEBUG_ENABLED) {</span>
<span class="nc" id="L104">							logger.debug(&quot;[==DB==] Executing &quot; + createStmt);</span>
						}
<span class="nc" id="L106">						createStmt.execute();</span>
<span class="nc" id="L107">					} catch (final SQLException e) {</span>
						// ignore if already exists
<span class="nc" id="L109">					}</span>
				}
			}
<span class="nc" id="L112">		} catch (final SQLException e1) {</span>
<span class="nc" id="L113">			logger.debug(&quot;SQL Exception in createTables (first step)&quot;, e1);</span>
		} finally {
			try {
<span class="pc bpc" id="L116" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L117">					conn.close();</span>
				}
<span class="nc" id="L119">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L120">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L121">			}</span>
		}

<span class="fc" id="L124">		conn = null;</span>
		try {
<span class="fc" id="L126">			conn = dataSource.getConnection();</span>
<span class="fc bfc" id="L127" title="All 2 branches covered.">			for (final ClassManagerSQLStatements.SqlStatements stmt : ClassManagerSQLStatements.SqlStatements.values()) {</span>
<span class="fc bfc" id="L128" title="All 2 branches covered.">				if (stmt.name().startsWith(&quot;CREATE_TABLE&quot;)) {</span>
<span class="fc" id="L129">					final PreparedStatement updateStatement = conn.prepareStatement(stmt.getSqlStatement());</span>
<span class="pc bpc" id="L130" title="1 of 2 branches missed.">					if (DEBUG_ENABLED) {</span>
<span class="nc" id="L131">						logger.debug(&quot;[==DB==] Executing &quot; + updateStatement);</span>
					}
<span class="fc" id="L133">					updateStatement.execute();</span>
				}
			}
<span class="nc" id="L136">		} catch (final SQLException e) {</span>
<span class="nc" id="L137">			logger.debug(&quot;SQL Exception in createTables (second step)&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L140" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L141">					conn.close();</span>
				}
<span class="nc" id="L143">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L144">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L145">			}</span>
		}
<span class="fc" id="L147">	}</span>

	/**
	 * Delete the tables of MDS. Just the other way around of createTables --much simpler.
	 */
	public void dropTables() {

<span class="fc" id="L154">		Connection conn = null;</span>
		try {
<span class="fc" id="L156">			conn = dataSource.getConnection();</span>
<span class="fc bfc" id="L157" title="All 2 branches covered.">			for (final ClassManagerSQLStatements.SqlStatements stmt : ClassManagerSQLStatements.SqlStatements.values()) {</span>
<span class="pc bpc" id="L158" title="1 of 2 branches missed.">				if (stmt.name().startsWith(&quot;DROP_TYPE&quot;)) {</span>
<span class="nc" id="L159">					final PreparedStatement updateStatement = conn.prepareStatement(stmt.getSqlStatement());</span>
<span class="nc bnc" id="L160" title="All 2 branches missed.">					if (DEBUG_ENABLED) {</span>
<span class="nc" id="L161">						logger.debug(&quot;[==DB==] Executing &quot; + updateStatement);</span>
					}
<span class="nc" id="L163">					updateStatement.execute();</span>
				}
			}
<span class="nc" id="L166">		} catch (final SQLException e) {</span>
<span class="nc" id="L167">			logger.debug(&quot;SQL Exception in dropTables (first step)&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L170" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L171">					conn.close();</span>
				}
<span class="nc" id="L173">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L174">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L175">			}</span>
		}

<span class="fc" id="L178">		conn = null;</span>
		try {
<span class="fc" id="L180">			conn = dataSource.getConnection();</span>
<span class="fc bfc" id="L181" title="All 2 branches covered.">			for (final ClassManagerSQLStatements.SqlStatements stmt : ClassManagerSQLStatements.SqlStatements.values()) {</span>
<span class="fc bfc" id="L182" title="All 2 branches covered.">				if (stmt.name().startsWith(&quot;DROP_TABLE&quot;)) {</span>
<span class="fc" id="L183">					final PreparedStatement updateStatement = conn.prepareStatement(stmt.getSqlStatement());</span>
<span class="pc bpc" id="L184" title="1 of 2 branches missed.">					if (DEBUG_ENABLED) {</span>
<span class="nc" id="L185">						logger.debug(&quot;[==DB==] Executing &quot; + updateStatement);</span>
					}
<span class="fc" id="L187">					updateStatement.execute();</span>
				}
			}
<span class="nc" id="L190">		} catch (final SQLException e) {</span>
<span class="nc" id="L191">			logger.debug(&quot;SQL Exception in dropTables (second step)&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L194" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L195">					conn.close();</span>
				}
<span class="nc" id="L197">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L198">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L199">			}</span>
		}
<span class="fc" id="L201">	}</span>

	/**
	 * Store accessedImplementation into database
	 * @param accessedImplementation
	 *            accessedImplementation
	 * @return UUID of stored object
	 */
	public UUID storeAccessedImplementation(final AccessedImplementation accessedImplementation) {
<span class="nc" id="L210">		Connection conn = null;</span>
<span class="nc" id="L211">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="nc" id="L213">			conn = dataSource.getConnection();</span>
<span class="nc" id="L214">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_ACCESSED_IMPL.getSqlStatement());</span>
<span class="nc" id="L215">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L217">			insertStatement.setString(2, accessedImplementation.getNamespace());</span>
<span class="nc" id="L218">			insertStatement.setString(3, accessedImplementation.getClassName());</span>
<span class="nc" id="L219">			insertStatement.setString(4, accessedImplementation.getOpSignature());</span>
<span class="nc" id="L220">			insertStatement.setInt(5, accessedImplementation.getImplPosition());</span>
<span class="nc" id="L221">			insertStatement.setObject(6, accessedImplementation.getImplementationID().getId());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L223" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L224">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L226">			insertStatement.executeUpdate();</span>

<span class="nc" id="L228">		} catch (final Exception e) {</span>
<span class="nc" id="L229">			logger.debug(&quot;SQL Exception in storeAccessedImplementation&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L232" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L233">					conn.close();</span>
				}
<span class="nc" id="L235">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L236">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L237">			}</span>
		}
<span class="nc" id="L239">		return uuid;</span>
	}

	/**
	 * Store accessedProperty into database
	 * @param accessedProperty
	 *            accessedProperty
	 * @return UUID of stored object
	 */
	public UUID storeAccessedProperty(final AccessedProperty accessedProperty) {
<span class="fc" id="L249">		Connection conn = null;</span>
<span class="fc" id="L250">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="fc" id="L252">			conn = dataSource.getConnection();</span>
<span class="fc" id="L253">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_ACCESSED_PROP.getSqlStatement());</span>
<span class="fc" id="L254">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L256">			insertStatement.setString(2, accessedProperty.getNamespace());</span>
<span class="fc" id="L257">			insertStatement.setString(3, accessedProperty.getClassName());</span>
<span class="fc" id="L258">			insertStatement.setString(4, accessedProperty.getName());</span>
<span class="fc" id="L259">			insertStatement.setObject(5, accessedProperty.getPropertyID().getId());</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L261" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L262">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L264">			insertStatement.executeUpdate();</span>

<span class="nc" id="L266">		} catch (final Exception e) {</span>
<span class="nc" id="L267">			logger.debug(&quot;SQL Exception in storeAccessedProperty&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L270" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L271">					conn.close();</span>
				}
<span class="nc" id="L273">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L274">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L275">			}</span>
		}
<span class="fc" id="L277">		return uuid;</span>

	}

	/**
	 * Store type into database
	 * @param type
	 *            type
	 * @return UUID of stored object
	 */
	public UUID storeType(final Type type) {
<span class="fc" id="L288">		Connection conn = null;</span>
<span class="fc" id="L289">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="fc" id="L291">			UUID[] includesArray = null;</span>
<span class="pc bpc" id="L292" title="1 of 2 branches missed.">			if (type.getIncludes() != null) {</span>
<span class="nc" id="L293">				includesArray = new UUID[type.getIncludes().size()];</span>
<span class="nc" id="L294">				int j = 0;</span>
<span class="nc bnc" id="L295" title="All 2 branches missed.">				for (final Type include : type.getIncludes()) {</span>
<span class="nc" id="L296">					includesArray[j] = storeType(include);</span>
<span class="nc" id="L297">					j++;</span>
<span class="nc" id="L298">				}</span>
			}

<span class="fc" id="L301">			String[] extensionsTypeArray = null;</span>
<span class="fc" id="L302">			UUID[] extensionsArray = null;</span>
<span class="pc bpc" id="L303" title="1 of 2 branches missed.">			if (type.getLanguageDepInfos() != null) {</span>

<span class="fc" id="L305">				extensionsTypeArray = new String[type.getLanguageDepInfos().size()];</span>
<span class="fc" id="L306">				extensionsArray = new UUID[type.getLanguageDepInfos().size()];</span>
<span class="fc" id="L307">				int i = 0;</span>
<span class="pc bpc" id="L308" title="1 of 2 branches missed.">				for (final Entry&lt;Langs, LanguageDependantTypeInfo&gt; entry : type.getLanguageDepInfos().entrySet()) {</span>
<span class="nc" id="L309">					extensionsTypeArray[i] = entry.getKey().name();</span>
<span class="nc bnc" id="L310" title="All 2 branches missed.">					if (entry.getKey().equals(Langs.LANG_JAVA)) {</span>
<span class="nc" id="L311">						extensionsArray[i] = storeJavaTypeInfo((JavaTypeInfo) entry.getValue());</span>
<span class="nc bnc" id="L312" title="All 2 branches missed.">					} else if (entry.getKey().equals(Langs.LANG_PYTHON)) {</span>
<span class="nc" id="L313">						extensionsArray[i] = storePythonTypeInfo((PythonTypeInfo) entry.getValue());</span>
					}
<span class="nc" id="L315">					i++;</span>
<span class="nc" id="L316">				}</span>

			}

<span class="fc" id="L320">			conn = dataSource.getConnection();</span>
<span class="fc" id="L321">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_TYPE.getSqlStatement());</span>
<span class="fc" id="L322">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L324">			insertStatement.setString(2, type.getDescriptor());</span>
<span class="fc" id="L325">			insertStatement.setString(3, type.getSignature());</span>
<span class="fc" id="L326">			insertStatement.setString(4, type.getTypeName());</span>

<span class="pc bpc" id="L328" title="1 of 2 branches missed.">			if (includesArray != null) {</span>
<span class="nc" id="L329">				final Array tArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, includesArray);</span>
<span class="nc" id="L330">				insertStatement.setArray(5, tArray);</span>
<span class="nc" id="L331">			} else {</span>
<span class="fc" id="L332">				insertStatement.setArray(5, null);</span>
			}

<span class="fc bfc" id="L335" title="All 2 branches covered.">			if (type instanceof UserType) {</span>
<span class="fc" id="L336">				final UserType utype = (UserType) type;</span>
<span class="fc" id="L337">				insertStatement.setString(6, utype.getNamespace());</span>
<span class="fc" id="L338">				insertStatement.setObject(7, utype.getClassID().getId());</span>
<span class="fc" id="L339">			} else {</span>
<span class="fc" id="L340">				insertStatement.setString(6, null);</span>
<span class="fc" id="L341">				insertStatement.setObject(7, null);</span>
			}

<span class="pc bpc" id="L344" title="1 of 2 branches missed.">			if (extensionsTypeArray != null) {</span>
<span class="fc" id="L345">				final Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, extensionsTypeArray);</span>
<span class="fc" id="L346">				insertStatement.setArray(8, sqlArray);</span>
<span class="fc" id="L347">			} else {</span>
<span class="nc" id="L348">				insertStatement.setArray(8, null);</span>
			}

<span class="pc bpc" id="L351" title="1 of 2 branches missed.">			if (extensionsArray != null) {</span>
<span class="fc" id="L352">				final Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, extensionsArray);</span>
<span class="fc" id="L353">				insertStatement.setArray(9, sqlArray);</span>
<span class="fc" id="L354">			} else {</span>
<span class="nc" id="L355">				insertStatement.setArray(9, null);</span>
			}

			// CHECKSTYLE:ON
<span class="pc bpc" id="L359" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L360">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L362">			insertStatement.executeUpdate();</span>

<span class="nc" id="L364">		} catch (final Exception e) {</span>
<span class="nc" id="L365">			logger.debug(&quot;SQL Exception in storeType&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L368" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L369">					conn.close();</span>
				}
<span class="nc" id="L371">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L372">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L373">			}</span>
		}
<span class="fc" id="L375">		return uuid;</span>

	}

	/**
	 * Store JavaTypeInfo into database
	 * @param type
	 *            JavaTypeInfo
	 * @return UUID of stored object
	 */
	public UUID storeJavaTypeInfo(final JavaTypeInfo type) {
<span class="nc" id="L386">		Connection conn = null;</span>
<span class="nc" id="L387">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="nc" id="L390">			conn = dataSource.getConnection();</span>
<span class="nc" id="L391">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_JAVA_TYPE.getSqlStatement());</span>
<span class="nc" id="L392">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="nc bnc" id="L395" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L396">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L398">			insertStatement.executeUpdate();</span>

<span class="nc" id="L400">		} catch (final Exception e) {</span>
<span class="nc" id="L401">			logger.debug(&quot;SQL Exception in storeJavaTypeInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L404" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L405">					conn.close();</span>
				}
<span class="nc" id="L407">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L408">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L409">			}</span>
		}
<span class="nc" id="L411">		return uuid;</span>

	}

	/**
	 * Store PythonTypeInfo into database
	 * @param type
	 *            PythonTypeInfo
	 * @return UUID of stored object
	 */
	public UUID storePythonTypeInfo(final PythonTypeInfo type) {
<span class="nc" id="L422">		Connection conn = null;</span>
<span class="nc" id="L423">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="nc" id="L426">			conn = dataSource.getConnection();</span>
<span class="nc" id="L427">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_PYTHON_TYPE.getSqlStatement());</span>
<span class="nc" id="L428">			insertStatement.setObject(1, uuid);</span>
<span class="nc" id="L429">			insertStatement.setString(2, type.getSignature());</span>
			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="nc bnc" id="L432" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L433">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L435">			insertStatement.executeUpdate();</span>

<span class="nc" id="L437">		} catch (final Exception e) {</span>
<span class="nc" id="L438">			logger.debug(&quot;SQL Exception in storePythonTypeInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L441" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L442">					conn.close();</span>
				}
<span class="nc" id="L444">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L445">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L446">			}</span>
		}
<span class="nc" id="L448">		return uuid;</span>

	}

	/**
	 * Store MemoryFeature into database
	 * @param memFeature
	 *            MemoryFeature
	 * @return UUID of stored object
	 */
	public UUID storeMemoryFeature(final MemoryFeature memFeature) {
<span class="nc" id="L459">		Connection conn = null;</span>
<span class="nc" id="L460">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="nc" id="L462">			conn = dataSource.getConnection();</span>
<span class="nc" id="L463">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_MEMORY_FEATURE.getSqlStatement());</span>
<span class="nc" id="L464">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L466">			insertStatement.setInt(2, memFeature.getCapacityInMB());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L468" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L469">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L471">			insertStatement.executeUpdate();</span>

<span class="nc" id="L473">		} catch (final Exception e) {</span>
<span class="nc" id="L474">			logger.debug(&quot;SQL Exception in storeMemoryFeature&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L477" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L478">					conn.close();</span>
				}
<span class="nc" id="L480">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L481">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L482">			}</span>
		}
<span class="nc" id="L484">		return uuid;</span>

	}

	/**
	 * Store CPUFeature into database
	 * @param feature
	 *            CPUFeature
	 * @return UUID of stored object
	 */
	public UUID storeCPUFeature(final CPUFeature feature) {
<span class="nc" id="L495">		Connection conn = null;</span>
<span class="nc" id="L496">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="nc" id="L498">			conn = dataSource.getConnection();</span>
<span class="nc" id="L499">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_CPU_FEATURE.getSqlStatement());</span>
<span class="nc" id="L500">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L502">			insertStatement.setInt(2, feature.getAmount());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L504" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L505">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L507">			insertStatement.executeUpdate();</span>

<span class="nc" id="L509">		} catch (final Exception e) {</span>
<span class="nc" id="L510">			logger.debug(&quot;SQL Exception in storeCPUFeature&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L513" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L514">					conn.close();</span>
				}
<span class="nc" id="L516">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L517">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L518">			}</span>
		}
<span class="nc" id="L520">		return uuid;</span>

	}

	/**
	 * Store LanguageFeature into database
	 * @param feature
	 *            LanguageFeature
	 * @return UUID of stored object
	 */
	public UUID storeLanguageFeature(final LanguageFeature feature) {
<span class="fc" id="L531">		Connection conn = null;</span>
<span class="fc" id="L532">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="fc" id="L534">			conn = dataSource.getConnection();</span>
<span class="fc" id="L535">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_LANGUAGE_FEATURE.getSqlStatement());</span>
<span class="fc" id="L536">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L538">			insertStatement.setString(2, feature.getLanguageName());</span>
<span class="fc" id="L539">			insertStatement.setString(3, feature.getVersion());</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L541" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L542">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L544">			insertStatement.executeUpdate();</span>

<span class="nc" id="L546">		} catch (final Exception e) {</span>
<span class="nc" id="L547">			logger.debug(&quot;SQL Exception in storeLanguageFeature&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L550" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L551">					conn.close();</span>
				}
<span class="nc" id="L553">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L554">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L555">			}</span>
		}
<span class="fc" id="L557">		return uuid;</span>

	}

	/**
	 * Store ArchitectureFeature into database
	 * @param feature
	 *            ArchitectureFeature
	 * @return UUID of stored object
	 */
	public UUID storeArchitectureFeature(final ArchitectureFeature feature) {
<span class="nc" id="L568">		Connection conn = null;</span>
<span class="nc" id="L569">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="nc" id="L571">			conn = dataSource.getConnection();</span>
<span class="nc" id="L572">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_ARCH_FEATURE.getSqlStatement());</span>
<span class="nc" id="L573">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L575">			insertStatement.setString(2, feature.getArchitectureName());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L577" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L578">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L580">			insertStatement.executeUpdate();</span>

<span class="nc" id="L582">		} catch (final Exception e) {</span>
<span class="nc" id="L583">			logger.debug(&quot;SQL Exception in storeArchitectureFeature&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L586" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L587">					conn.close();</span>
				}
<span class="nc" id="L589">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L590">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L591">			}</span>
		}
<span class="nc" id="L593">		return uuid;</span>

	}

	/**
	 * Store prefetchingInfo into database
	 * @param prefetchingInfo
	 *            prefetchingInfo
	 * @return UUID of stored object
	 */
	public UUID storePrefecthingInfo(final PrefetchingInformation prefetchingInfo) {
<span class="fc" id="L604">		Connection conn = null;</span>
<span class="fc" id="L605">		final UUID uuid = UUID.randomUUID();</span>
		try {
<span class="fc" id="L607">			conn = dataSource.getConnection();</span>
<span class="fc" id="L608">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_PREFETCHING_INFO.getSqlStatement());</span>
<span class="fc" id="L609">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L611">			insertStatement.setBoolean(2, prefetchingInfo.getDisableDynamicPrefetching());</span>
<span class="fc" id="L612">			insertStatement.setBoolean(3, prefetchingInfo.getInjectPrefetchingCall());</span>
<span class="fc" id="L613">			insertStatement.setString(4, prefetchingInfo.getPrefetchingNameSpace());</span>
<span class="fc" id="L614">			insertStatement.setString(5, prefetchingInfo.getPrefetchingClassName());</span>
<span class="fc" id="L615">			insertStatement.setString(6, prefetchingInfo.getPrefetchingMethodSignature());</span>
<span class="pc bpc" id="L616" title="1 of 2 branches missed.">			if (prefetchingInfo.getPrefetchingImplementationID() != null) {</span>
<span class="nc" id="L617">				insertStatement.setObject(7, prefetchingInfo.getPrefetchingImplementationID().getId());</span>
			} else {
<span class="fc" id="L619">				insertStatement.setObject(7, null);</span>
			}
<span class="pc bpc" id="L621" title="1 of 2 branches missed.">			if (prefetchingInfo.getPrefetchingClassID() != null) {</span>
<span class="nc" id="L622">				insertStatement.setObject(8, prefetchingInfo.getPrefetchingClassID().getId());</span>
			} else {
<span class="fc" id="L624">				insertStatement.setObject(8, null);</span>
			}
<span class="pc bpc" id="L626" title="1 of 2 branches missed.">			if (prefetchingInfo.getPropertiesToPrefetch() != null) {</span>
<span class="fc" id="L627">				final UUID[][] accProps = new UUID[prefetchingInfo.getPropertiesToPrefetch().size()][];</span>
<span class="fc" id="L628">				int i = 0;</span>
<span class="pc bpc" id="L629" title="1 of 2 branches missed.">				for (final List&lt;Property&gt; accPropsList : prefetchingInfo.getPropertiesToPrefetch()) {</span>
<span class="nc" id="L630">					int j = 0;</span>
<span class="nc" id="L631">					accProps[i] = new UUID[accPropsList.size()];</span>
<span class="nc bnc" id="L632" title="All 2 branches missed.">					for (final Property prop : accPropsList) {</span>
<span class="nc" id="L633">						accProps[i][j] = prop.getDataClayID().getId();</span>
<span class="nc" id="L634">						j++;</span>
<span class="nc" id="L635">					}</span>
<span class="nc" id="L636">					i++;</span>
<span class="nc" id="L637">				}</span>

<span class="pc bpc" id="L639" title="1 of 2 branches missed.">				if (accProps.length &gt; 0) {</span>
<span class="nc" id="L640">					final Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, accProps);</span>
<span class="nc" id="L641">					insertStatement.setArray(9, sqlArray);</span>
<span class="nc" id="L642">				} else {</span>
<span class="fc" id="L643">					insertStatement.setArray(9, null);</span>
				}
<span class="fc" id="L645">			} else {</span>
<span class="nc" id="L646">				insertStatement.setArray(9, null);</span>
			}

			// CHECKSTYLE:ON
<span class="pc bpc" id="L650" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L651">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L653">			insertStatement.executeUpdate();</span>

<span class="nc" id="L655">		} catch (final Exception e) {</span>
<span class="nc" id="L656">			logger.debug(&quot;SQL Exception in storePrefetchingInfo&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L659" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L660">					conn.close();</span>
				}
<span class="nc" id="L662">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L663">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L664">			}</span>
		}
<span class="fc" id="L666">		return uuid;</span>

	}

	/**
	 * Store JavaImplementation into database
	 * @param implementation
	 *            implementation
	 * @return UUID of stored object
	 */
	public UUID storeJavaImplementation(final JavaImplementation implementation) {
<span class="fc" id="L677">		Connection conn = null;</span>
<span class="fc" id="L678">		final UUID uuid = implementation.getDataClayID().getId();</span>
		try {

<span class="fc" id="L681">			final UUID[] includes = new UUID[implementation.getIncludes().size()];</span>
<span class="fc" id="L682">			int i = 0;</span>
<span class="fc bfc" id="L683" title="All 2 branches covered.">			for (final Type include : implementation.getIncludes()) {</span>
<span class="fc" id="L684">				includes[i] = this.storeType(include);</span>
<span class="fc" id="L685">				i++;</span>
<span class="fc" id="L686">			}</span>

<span class="fc" id="L688">			final UUID[] accessedProps = new UUID[implementation.getAccessedProperties().size()];</span>
<span class="fc" id="L689">			i = 0;</span>
<span class="fc bfc" id="L690" title="All 2 branches covered.">			for (final AccessedProperty accProp : implementation.getAccessedProperties()) {</span>
<span class="fc" id="L691">				accessedProps[i] = this.storeAccessedProperty(accProp);</span>
<span class="fc" id="L692">				i++;</span>
<span class="fc" id="L693">			}</span>

<span class="fc" id="L695">			final UUID[] accessedImpls = new UUID[implementation.getAccessedImplementations().size()];</span>
<span class="fc" id="L696">			i = 0;</span>
<span class="pc bpc" id="L697" title="1 of 2 branches missed.">			for (final AccessedImplementation accImpl : implementation.getAccessedImplementations()) {</span>
<span class="nc" id="L698">				accessedImpls[i] = this.storeAccessedImplementation(accImpl);</span>
<span class="nc" id="L699">				i++;</span>
<span class="nc" id="L700">			}</span>

<span class="fc" id="L702">			final String[] featureTypes = new String[implementation.getRequiredQualitativeFeatures().size()</span>
<span class="fc" id="L703">					+ implementation.getRequiredQuantitativeFeatures().size()];</span>
<span class="fc" id="L704">			final UUID[] features = new UUID[featureTypes.length];</span>
<span class="fc" id="L705">			i = 0;</span>
<span class="fc bfc" id="L706" title="All 2 branches covered.">			for (final Entry&lt;FeatureType, QualitativeFeature&gt; entry : implementation.getRequiredQualitativeFeatures().entrySet()) {</span>
<span class="fc" id="L707">				featureTypes[i] = entry.getKey().name();</span>
<span class="pc bpc" id="L708" title="2 of 3 branches missed.">				switch (entry.getKey()) {</span>
				case ARCHITECTURE:
<span class="nc" id="L710">					features[i] = this.storeArchitectureFeature((ArchitectureFeature) entry.getValue());</span>
<span class="nc" id="L711">					break;</span>
				case LANGUAGE:
<span class="fc" id="L713">					features[i] = this.storeLanguageFeature((LanguageFeature) entry.getValue());</span>
<span class="fc" id="L714">					break;</span>
				default:
					break;

				}
<span class="fc" id="L719">				i++;</span>
<span class="fc" id="L720">			}</span>
<span class="pc bpc" id="L721" title="1 of 2 branches missed.">			for (final Entry&lt;FeatureType, QuantitativeFeature&gt; entry : implementation.getRequiredQuantitativeFeatures().entrySet()) {</span>
<span class="nc" id="L722">				featureTypes[i] = entry.getKey().name();</span>
<span class="nc bnc" id="L723" title="All 3 branches missed.">				switch (entry.getKey()) {</span>
				case CPU:
<span class="nc" id="L725">					features[i] = this.storeCPUFeature((CPUFeature) entry.getValue());</span>
<span class="nc" id="L726">					break;</span>
				case MEMORY:
<span class="nc" id="L728">					features[i] = this.storeMemoryFeature((MemoryFeature) entry.getValue());</span>
<span class="nc" id="L729">					break;</span>
				default:
					break;

				}
<span class="nc" id="L734">				i++;</span>
<span class="nc" id="L735">			}</span>

<span class="fc" id="L737">			UUID prefetchingInfoUUID = null;</span>
<span class="fc bfc" id="L738" title="All 2 branches covered.">			if (implementation.getPrefetchingInfo() != null) {</span>
<span class="fc" id="L739">				prefetchingInfoUUID = this.storePrefecthingInfo(implementation.getPrefetchingInfo());</span>
			}

<span class="fc" id="L742">			conn = dataSource.getConnection();</span>
<span class="fc" id="L743">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_JAVA_IMPLEMENTATION.getSqlStatement());</span>
<span class="fc" id="L744">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L746">			insertStatement.setString(2, implementation.getResponsibleAccountName());</span>
<span class="fc" id="L747">			insertStatement.setString(3, implementation.getNamespace());</span>
<span class="fc" id="L748">			insertStatement.setString(4, implementation.getClassName());</span>
<span class="fc" id="L749">			insertStatement.setString(5, implementation.getOpNameAndDescriptor());</span>
<span class="fc" id="L750">			insertStatement.setInt(6, implementation.getPosition());</span>

<span class="fc" id="L752">			Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, includes);</span>
<span class="fc" id="L753">			insertStatement.setArray(7, sqlArray);</span>
<span class="fc" id="L754">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, accessedProps);</span>
<span class="fc" id="L755">			insertStatement.setArray(8, sqlArray);</span>
<span class="fc" id="L756">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, accessedImpls);</span>
<span class="fc" id="L757">			insertStatement.setArray(9, sqlArray);</span>
<span class="fc" id="L758">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, featureTypes);</span>
<span class="fc" id="L759">			insertStatement.setArray(10, sqlArray);</span>
<span class="fc" id="L760">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, features);</span>
<span class="fc" id="L761">			insertStatement.setArray(11, sqlArray);</span>

<span class="fc" id="L763">			insertStatement.setObject(12, implementation.getOperationID().getId());</span>
<span class="fc" id="L764">			insertStatement.setObject(13, implementation.getMetaClassID().getId());</span>
<span class="fc" id="L765">			insertStatement.setObject(14, implementation.getResponsibleAccountID().getId());</span>
<span class="fc" id="L766">			insertStatement.setObject(15, implementation.getNamespaceID().getId());</span>
<span class="fc" id="L767">			insertStatement.setObject(16, prefetchingInfoUUID);</span>

			// CHECKSTYLE:ON
<span class="pc bpc" id="L770" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L771">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L773">			insertStatement.executeUpdate();</span>

<span class="nc" id="L775">		} catch (final Exception e) {</span>
<span class="nc" id="L776">			logger.debug(&quot;SQL Exception in storeJavaImplementation&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L779" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L780">					conn.close();</span>
				}
<span class="nc" id="L782">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L783">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L784">			}</span>
		}
<span class="fc" id="L786">		return uuid;</span>

	}

	/**
	 * Store PythonImplementation into database
	 * @param implementation
	 *            implementation
	 * @return UUID of stored object
	 */
	public UUID storePythonImplementation(final PythonImplementation implementation) {
<span class="nc" id="L797">		Connection conn = null;</span>
<span class="nc" id="L798">		final UUID uuid = implementation.getDataClayID().getId();</span>
		try {

<span class="nc" id="L801">			final UUID[] includes = new UUID[implementation.getIncludes().size()];</span>
<span class="nc" id="L802">			int i = 0;</span>
<span class="nc bnc" id="L803" title="All 2 branches missed.">			for (final Type include : implementation.getIncludes()) {</span>
<span class="nc" id="L804">				includes[i] = this.storeType(include);</span>
<span class="nc" id="L805">				i++;</span>
<span class="nc" id="L806">			}</span>

<span class="nc" id="L808">			final UUID[] accessedProps = new UUID[implementation.getAccessedProperties().size()];</span>
<span class="nc" id="L809">			i = 0;</span>
<span class="nc bnc" id="L810" title="All 2 branches missed.">			for (final AccessedProperty accProp : implementation.getAccessedProperties()) {</span>
<span class="nc" id="L811">				accessedProps[i] = this.storeAccessedProperty(accProp);</span>
<span class="nc" id="L812">				i++;</span>
<span class="nc" id="L813">			}</span>

<span class="nc" id="L815">			final UUID[] accessedImpls = new UUID[implementation.getAccessedImplementations().size()];</span>
<span class="nc" id="L816">			i = 0;</span>
<span class="nc bnc" id="L817" title="All 2 branches missed.">			for (final AccessedImplementation accImpl : implementation.getAccessedImplementations()) {</span>
<span class="nc" id="L818">				accessedImpls[i] = this.storeAccessedImplementation(accImpl);</span>
<span class="nc" id="L819">				i++;</span>
<span class="nc" id="L820">			}</span>

<span class="nc" id="L822">			final String[] featureTypes = new String[implementation.getRequiredQualitativeFeatures().size()</span>
<span class="nc" id="L823">					+ implementation.getRequiredQuantitativeFeatures().size()];</span>
<span class="nc" id="L824">			final UUID[] features = new UUID[featureTypes.length];</span>
<span class="nc" id="L825">			i = 0;</span>
<span class="nc bnc" id="L826" title="All 2 branches missed.">			for (final Entry&lt;FeatureType, QualitativeFeature&gt; entry : implementation.getRequiredQualitativeFeatures().entrySet()) {</span>
<span class="nc" id="L827">				featureTypes[i] = entry.getKey().name();</span>
<span class="nc bnc" id="L828" title="All 3 branches missed.">				switch (entry.getKey()) {</span>
				case ARCHITECTURE:
<span class="nc" id="L830">					features[i] = this.storeArchitectureFeature((ArchitectureFeature) entry.getValue());</span>
<span class="nc" id="L831">					break;</span>
				case LANGUAGE:
<span class="nc" id="L833">					features[i] = this.storeLanguageFeature((LanguageFeature) entry.getValue());</span>
<span class="nc" id="L834">					break;</span>
				default:
					break;

				}
<span class="nc" id="L839">				i++;</span>
<span class="nc" id="L840">			}</span>
<span class="nc bnc" id="L841" title="All 2 branches missed.">			for (final Entry&lt;FeatureType, QuantitativeFeature&gt; entry : implementation.getRequiredQuantitativeFeatures().entrySet()) {</span>
<span class="nc" id="L842">				featureTypes[i] = entry.getKey().name();</span>
<span class="nc bnc" id="L843" title="All 3 branches missed.">				switch (entry.getKey()) {</span>
				case CPU:
<span class="nc" id="L845">					features[i] = this.storeCPUFeature((CPUFeature) entry.getValue());</span>
<span class="nc" id="L846">					break;</span>
				case MEMORY:
<span class="nc" id="L848">					features[i] = this.storeMemoryFeature((MemoryFeature) entry.getValue());</span>
<span class="nc" id="L849">					break;</span>
				default:
					break;

				}
<span class="nc" id="L854">				i++;</span>
<span class="nc" id="L855">			}</span>

<span class="nc" id="L857">			UUID prefetchingInfoUUID = null;</span>
<span class="nc bnc" id="L858" title="All 2 branches missed.">			if (implementation.getPrefetchingInfo() != null) {</span>
<span class="nc" id="L859">				prefetchingInfoUUID = this.storePrefecthingInfo(implementation.getPrefetchingInfo());</span>
			}

<span class="nc" id="L862">			conn = dataSource.getConnection();</span>
<span class="nc" id="L863">			final PreparedStatement insertStatement = conn.prepareStatement(</span>
<span class="nc" id="L864">					ClassManagerSQLStatements.SqlStatements.INSERT_PYTHON_IMPLEMENTATION.getSqlStatement());</span>
<span class="nc" id="L865">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L867">			insertStatement.setString(2, implementation.getResponsibleAccountName());</span>
<span class="nc" id="L868">			insertStatement.setString(3, implementation.getNamespace());</span>
<span class="nc" id="L869">			insertStatement.setString(4, implementation.getClassName());</span>
<span class="nc" id="L870">			insertStatement.setString(5, implementation.getOpNameAndDescriptor());</span>
<span class="nc" id="L871">			insertStatement.setInt(6, implementation.getPosition());</span>

<span class="nc" id="L873">			Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, includes);</span>
<span class="nc" id="L874">			insertStatement.setArray(7, sqlArray);</span>
<span class="nc" id="L875">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, accessedProps);</span>
<span class="nc" id="L876">			insertStatement.setArray(8, sqlArray);</span>
<span class="nc" id="L877">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, accessedImpls);</span>
<span class="nc" id="L878">			insertStatement.setArray(9, sqlArray);</span>
<span class="nc" id="L879">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, featureTypes);</span>
<span class="nc" id="L880">			insertStatement.setArray(10, sqlArray);</span>
<span class="nc" id="L881">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, features);</span>
<span class="nc" id="L882">			insertStatement.setArray(11, sqlArray);</span>

<span class="nc" id="L884">			insertStatement.setObject(12, implementation.getOperationID().getId());</span>
<span class="nc" id="L885">			insertStatement.setObject(13, implementation.getMetaClassID().getId());</span>
<span class="nc" id="L886">			insertStatement.setObject(14, implementation.getResponsibleAccountID().getId());</span>
<span class="nc" id="L887">			insertStatement.setObject(15, implementation.getNamespaceID().getId());</span>
<span class="nc" id="L888">			insertStatement.setObject(16, prefetchingInfoUUID);</span>
<span class="nc" id="L889">			insertStatement.setString(17, implementation.getCode());</span>

			// CHECKSTYLE:ON
<span class="nc bnc" id="L892" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L893">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L895">			insertStatement.executeUpdate();</span>

<span class="nc" id="L897">		} catch (final Exception e) {</span>
<span class="nc" id="L898">			logger.debug(&quot;SQL Exception in storePythonImplementation&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L901" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L902">					conn.close();</span>
				}
<span class="nc" id="L904">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L905">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L906">			}</span>
		}
<span class="nc" id="L908">		return uuid;</span>

	}

	/**
	 * Store Property into database
	 * @param property
	 *            property
	 * @return UUID of stored object
	 */
	public UUID storeProperty(final Property property) {
<span class="fc" id="L919">		Connection conn = null;</span>
<span class="fc" id="L920">		final UUID uuid = property.getDataClayID().getId();</span>
		try {

<span class="fc" id="L923">			final UUID typeID = this.storeType(property.getType());</span>

<span class="fc" id="L925">			conn = dataSource.getConnection();</span>
<span class="fc" id="L926">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_PROPERTY.getSqlStatement());</span>
<span class="fc" id="L927">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L929">			insertStatement.setString(2, property.getNamespace());</span>
<span class="fc" id="L930">			insertStatement.setString(3, property.getClassName());</span>
<span class="fc" id="L931">			insertStatement.setString(4, property.getName());</span>
<span class="fc" id="L932">			insertStatement.setInt(5, property.getPosition());</span>

<span class="fc" id="L934">			insertStatement.setObject(6, typeID);</span>
<span class="pc bpc" id="L935" title="1 of 2 branches missed.">			if (property.getGetterOperationID() != null) {</span>
<span class="fc" id="L936">				insertStatement.setObject(7, property.getGetterOperationID().getId());</span>
			} else {
<span class="nc" id="L938">				insertStatement.setObject(7, null);</span>
			}
<span class="pc bpc" id="L940" title="1 of 2 branches missed.">			if (property.getGetterImplementationID() != null) {</span>
<span class="fc" id="L941">				insertStatement.setObject(8, property.getGetterImplementationID().getId());</span>
			} else {
<span class="nc" id="L943">				insertStatement.setObject(8, null);</span>
			}
<span class="pc bpc" id="L945" title="1 of 2 branches missed.">			if (property.getSetterOperationID() != null) {</span>
<span class="fc" id="L946">				insertStatement.setObject(9, property.getSetterOperationID().getId());</span>
			} else {
<span class="nc" id="L948">				insertStatement.setObject(9, null);</span>
			}
<span class="pc bpc" id="L950" title="1 of 2 branches missed.">			if (property.getSetterImplementationID() != null) {</span>
<span class="fc" id="L951">				insertStatement.setObject(10, property.getSetterImplementationID().getId());</span>
			} else {
<span class="nc" id="L953">				insertStatement.setObject(10, null);</span>
			}

<span class="fc" id="L956">			insertStatement.setObject(11, property.getNamespaceID().getId());</span>
<span class="fc" id="L957">			insertStatement.setObject(12, property.getMetaClassID().getId());</span>

<span class="pc bpc" id="L959" title="1 of 2 branches missed.">			if (property.getLanguageDepInfos() != null) {</span>
<span class="fc" id="L960">				final String[] extensionsTypeArray = new String[property.getLanguageDepInfos().size()];</span>
<span class="fc" id="L961">				final UUID[] extensionsArray = new UUID[property.getLanguageDepInfos().size()];</span>
<span class="fc" id="L962">				int i = 0;</span>
<span class="fc bfc" id="L963" title="All 2 branches covered.">				for (final Entry&lt;Langs, LanguageDependantPropertyInfo&gt; entry : property.getLanguageDepInfos().entrySet()) {</span>
<span class="fc" id="L964">					extensionsTypeArray[i] = entry.getKey().name();</span>
<span class="pc bpc" id="L965" title="1 of 2 branches missed.">					if (entry.getKey().equals(Langs.LANG_JAVA)) {</span>
<span class="fc" id="L966">						extensionsArray[i] = storeJavaPropertyInfo((JavaPropertyInfo) entry.getValue());</span>
<span class="nc bnc" id="L967" title="All 2 branches missed.">					} else if (entry.getKey().equals(Langs.LANG_PYTHON)) {</span>
<span class="nc" id="L968">						extensionsArray[i] = storePythonPropertyInfo((PythonPropertyInfo) entry.getValue());</span>
					}
<span class="fc" id="L970">					i++;</span>
<span class="fc" id="L971">				}</span>

<span class="fc" id="L973">				Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, extensionsTypeArray);</span>
<span class="fc" id="L974">				insertStatement.setArray(13, sqlArray);</span>
<span class="fc" id="L975">				sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, extensionsArray);</span>
<span class="fc" id="L976">				insertStatement.setArray(14, sqlArray);</span>
<span class="fc" id="L977">			} else {</span>
<span class="nc" id="L978">				insertStatement.setArray(13, null);</span>
<span class="nc" id="L979">				insertStatement.setArray(14, null);</span>
			}

<span class="fc" id="L982">			final List&lt;Annotation&gt; annotations = property.getAnnotations();</span>
<span class="pc bpc" id="L983" title="2 of 4 branches missed.">			if (annotations != null &amp;&amp; annotations.size() &gt; 0) {</span>
<span class="nc" id="L984">				final UUID[] annotationsUUIDArray = new UUID[annotations.size()];</span>
<span class="nc bnc" id="L985" title="All 2 branches missed.">				for (int i = 0; i &lt; annotations.size(); i++) {</span>
<span class="nc" id="L986">					annotationsUUIDArray[i] = storeAnnotation(annotations.get(i));</span>
				}
<span class="nc" id="L988">				final Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, annotationsUUIDArray);</span>
<span class="nc" id="L989">				insertStatement.setArray(15, sqlArray);</span>
<span class="nc" id="L990">			} else {</span>
<span class="fc" id="L991">				insertStatement.setArray(15, null);</span>
			}

<span class="fc bfc" id="L994" title="All 2 branches covered.">			if (property.getUpdateImplementationID() != null) {</span>
<span class="fc" id="L995">				insertStatement.setObject(16, property.getUpdateImplementationID().getId());</span>
			} else {
<span class="fc" id="L997">				insertStatement.setObject(16, null);</span>
			}
<span class="fc bfc" id="L999" title="All 2 branches covered.">			if (property.getUpdateOperationID() != null) {</span>
<span class="fc" id="L1000">				insertStatement.setObject(17, property.getUpdateOperationID().getId());</span>
			} else {
<span class="fc" id="L1002">				insertStatement.setObject(17, null);</span>
			}

<span class="fc" id="L1005">			insertStatement.setString(18, property.getBeforeUpdate());</span>
<span class="fc" id="L1006">			insertStatement.setString(19, property.getAfterUpdate());</span>
<span class="fc" id="L1007">			insertStatement.setBoolean(20, property.getInMaster());</span>

			// CHECKSTYLE:ON
<span class="pc bpc" id="L1010" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1011">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L1013">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1015">		} catch (final Exception e) {</span>
<span class="nc" id="L1016">			logger.debug(&quot;SQL Exception in storeProperty&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L1019" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L1020">					conn.close();</span>
				}
<span class="nc" id="L1022">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1023">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L1024">			}</span>
		}
<span class="fc" id="L1026">		return uuid;</span>

	}

	/**
	 * Store JavaPropertyInfo into database
	 * @param type
	 *            JavaPropertyInfo
	 * @return UUID of stored object
	 */
	public UUID storeJavaPropertyInfo(final JavaPropertyInfo type) {
<span class="fc" id="L1037">		Connection conn = null;</span>
<span class="fc" id="L1038">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="fc" id="L1041">			conn = dataSource.getConnection();</span>
<span class="fc" id="L1042">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_JAVA_PROPERTY.getSqlStatement());</span>
<span class="fc" id="L1043">			insertStatement.setObject(1, uuid);</span>
<span class="fc" id="L1044">			insertStatement.setInt(2, type.getModifier());</span>
			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="pc bpc" id="L1047" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1048">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L1050">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1052">		} catch (final Exception e) {</span>
<span class="nc" id="L1053">			logger.debug(&quot;SQL Exception in storeJavaPropertyInfo&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L1056" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L1057">					conn.close();</span>
				}
<span class="nc" id="L1059">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1060">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L1061">			}</span>
		}
<span class="fc" id="L1063">		return uuid;</span>

	}

	/**
	 * Store Annotation into database
	 * @param annotation
	 *            Annotation
	 * @return UUID of stored object
	 */
	public UUID storeAnnotation(final Annotation annotation) {
<span class="nc" id="L1074">		Connection conn = null;</span>
<span class="nc" id="L1075">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="nc" id="L1078">			conn = dataSource.getConnection();</span>
<span class="nc" id="L1079">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_ANNOTATION.getSqlStatement());</span>
<span class="nc" id="L1080">			insertStatement.setObject(1, uuid);</span>
<span class="nc" id="L1081">			insertStatement.setString(2, annotation.getDescr());</span>

<span class="nc" id="L1083">			Array sqlKeys = null, sqlValues = null;</span>
<span class="nc" id="L1084">			final Map&lt;String, String&gt; parameters = annotation.getParameters();</span>
<span class="nc bnc" id="L1085" title="All 4 branches missed.">			if (parameters != null &amp;&amp; parameters.size() &gt; 0) {</span>
<span class="nc" id="L1086">				final String[] keys = new String[parameters.size()];</span>
<span class="nc" id="L1087">				final String[] values = new String[parameters.size()];</span>
<span class="nc" id="L1088">				int i = 0;</span>
<span class="nc" id="L1089">				final Iterator&lt;String&gt; iterator = annotation.getParameters().keySet().iterator();</span>
<span class="nc bnc" id="L1090" title="All 2 branches missed.">				while (iterator.hasNext()) {</span>
<span class="nc" id="L1091">					keys[i] = iterator.next();</span>
<span class="nc" id="L1092">					values[i] = parameters.get(keys[i]);</span>
<span class="nc" id="L1093">					i++;</span>
				}
<span class="nc" id="L1095">				sqlKeys = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, keys);</span>
<span class="nc" id="L1096">				sqlValues = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, values);</span>
			}
<span class="nc" id="L1098">			insertStatement.setArray(3, sqlKeys);</span>
<span class="nc" id="L1099">			insertStatement.setArray(4, sqlValues);</span>

			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="nc bnc" id="L1103" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1104">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L1106">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1108">		} catch (final Exception e) {</span>
<span class="nc" id="L1109">			logger.debug(&quot;SQL Exception in storeAnnotation&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L1112" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L1113">					conn.close();</span>
				}
<span class="nc" id="L1115">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1116">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L1117">			}</span>
		}
<span class="nc" id="L1119">		return uuid;</span>
	}

	/**
	 * Store PythonPropertyInfo into database
	 * @param type
	 *            PythonPropertyInfo
	 * @return UUID of stored object
	 */
	public UUID storePythonPropertyInfo(final PythonPropertyInfo type) {
<span class="nc" id="L1129">		Connection conn = null;</span>
<span class="nc" id="L1130">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="nc" id="L1133">			conn = dataSource.getConnection();</span>
<span class="nc" id="L1134">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_PYTHON_PROPERTY.getSqlStatement());</span>
<span class="nc" id="L1135">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="nc bnc" id="L1138" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1139">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L1141">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1143">		} catch (final Exception e) {</span>
<span class="nc" id="L1144">			logger.debug(&quot;SQL Exception in storePythonPropertyInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L1147" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L1148">					conn.close();</span>
				}
<span class="nc" id="L1150">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1151">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L1152">			}</span>
		}
<span class="nc" id="L1154">		return uuid;</span>

	}

	/**
	 * Store Operation into database
	 * @param operation
	 *            operation
	 * @return UUID of stored object
	 */
	public UUID storeOperation(final Operation operation) {
<span class="fc" id="L1165">		Connection conn = null;</span>
<span class="fc" id="L1166">		final UUID uuid = operation.getDataClayID().getId();</span>
		try {
			// Params
<span class="fc" id="L1169">			final UUID[] paramsTypes = new UUID[operation.getParams().size()];</span>
<span class="fc" id="L1170">			int i = 0;</span>
<span class="fc bfc" id="L1171" title="All 2 branches covered.">			for (final Type paramType : operation.getParams().values()) {</span>
<span class="fc" id="L1172">				paramsTypes[i] = this.storeType(paramType);</span>
<span class="fc" id="L1173">				i++;</span>
<span class="fc" id="L1174">			}</span>
			// Return
<span class="fc" id="L1176">			final UUID returnTypeID = this.storeType(operation.getReturnType());</span>

			// Implementations
<span class="fc" id="L1179">			final UUID[] implementationsIDs = new UUID[operation.getImplementations().size()];</span>
<span class="fc" id="L1180">			i = 0;</span>
<span class="fc bfc" id="L1181" title="All 2 branches covered.">			for (final Implementation impl : operation.getImplementations()) {</span>
<span class="pc bpc" id="L1182" title="1 of 2 branches missed.">				if (impl instanceof JavaImplementation) {</span>
<span class="fc" id="L1183">					implementationsIDs[i] = this.storeJavaImplementation((JavaImplementation) impl);</span>
<span class="nc bnc" id="L1184" title="All 2 branches missed.">				} else if (impl instanceof PythonImplementation) {</span>
<span class="nc" id="L1185">					implementationsIDs[i] = this.storePythonImplementation((PythonImplementation) impl);</span>
				}
<span class="fc" id="L1187">				i++;</span>
<span class="fc" id="L1188">			}</span>

<span class="fc" id="L1190">			conn = dataSource.getConnection();</span>
<span class="fc" id="L1191">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_OPERATION.getSqlStatement());</span>
<span class="fc" id="L1192">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L1194">			insertStatement.setString(2, operation.getNamespace());</span>
<span class="fc" id="L1195">			insertStatement.setString(3, operation.getClassName());</span>
<span class="fc" id="L1196">			insertStatement.setString(4, operation.getDescriptor());</span>
<span class="fc" id="L1197">			insertStatement.setString(5, operation.getSignature());</span>
<span class="fc" id="L1198">			insertStatement.setString(6, operation.getName());</span>
<span class="fc" id="L1199">			insertStatement.setString(7, operation.getNameAndDescriptor());</span>

<span class="fc" id="L1201">			final String[] paramsNames = operation.getParams().keySet().toArray(new String[] {});</span>
<span class="fc" id="L1202">			Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, paramsNames);</span>
<span class="fc" id="L1203">			insertStatement.setArray(8, sqlArray);</span>

<span class="fc" id="L1205">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, paramsTypes);</span>
<span class="fc" id="L1206">			insertStatement.setArray(9, sqlArray);</span>

<span class="fc" id="L1208">			final String[] paramsOrder = operation.getParamsOrder().toArray(new String[] {});</span>
<span class="fc" id="L1209">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, paramsOrder);</span>
<span class="fc" id="L1210">			insertStatement.setArray(10, sqlArray);</span>

<span class="fc" id="L1212">			insertStatement.setObject(11, returnTypeID);</span>

<span class="fc" id="L1214">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, implementationsIDs);</span>
<span class="fc" id="L1215">			insertStatement.setArray(12, sqlArray);</span>

<span class="fc" id="L1217">			insertStatement.setBoolean(13, operation.getIsAbstract());</span>
<span class="fc" id="L1218">			insertStatement.setBoolean(14, operation.getIsStaticConstructor());</span>

<span class="fc" id="L1220">			insertStatement.setObject(15, operation.getMetaClassID().getId());</span>
<span class="fc" id="L1221">			insertStatement.setObject(16, operation.getNamespaceID().getId());</span>

<span class="pc bpc" id="L1223" title="1 of 2 branches missed.">			if (operation.getLanguageDepInfos() != null) {</span>
<span class="fc" id="L1224">				final String[] extensionsTypeArray = new String[operation.getLanguageDepInfos().size()];</span>
<span class="fc" id="L1225">				final UUID[] extensionsArray = new UUID[operation.getLanguageDepInfos().size()];</span>
<span class="fc" id="L1226">				i = 0;</span>
<span class="fc bfc" id="L1227" title="All 2 branches covered.">				for (final Entry&lt;Langs, LanguageDependantOperationInfo&gt; entry : operation.getLanguageDepInfos().entrySet()) {</span>
<span class="fc" id="L1228">					extensionsTypeArray[i] = entry.getKey().name();</span>
<span class="pc bpc" id="L1229" title="1 of 2 branches missed.">					if (entry.getKey().equals(Langs.LANG_JAVA)) {</span>
<span class="fc" id="L1230">						extensionsArray[i] = storeJavaOperationInfo((JavaOperationInfo) entry.getValue());</span>
<span class="nc bnc" id="L1231" title="All 2 branches missed.">					} else if (entry.getKey().equals(Langs.LANG_PYTHON)) {</span>
<span class="nc" id="L1232">						extensionsArray[i] = storePythonOperationInfo((PythonOperationInfo) entry.getValue());</span>
					}
<span class="fc" id="L1234">					i++;</span>
<span class="fc" id="L1235">				}</span>

<span class="fc" id="L1237">				sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, extensionsTypeArray);</span>
<span class="fc" id="L1238">				insertStatement.setArray(17, sqlArray);</span>

<span class="fc" id="L1240">				sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, extensionsArray);</span>
<span class="fc" id="L1241">				insertStatement.setArray(18, sqlArray);</span>
<span class="fc" id="L1242">			} else {</span>
<span class="nc" id="L1243">				insertStatement.setArray(17, null);</span>
<span class="nc" id="L1244">				insertStatement.setArray(18, null);</span>
			}

			// CHECKSTYLE:ON
<span class="pc bpc" id="L1248" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1249">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement + &quot;(&quot; + uuid + &quot;)&quot;);</span>
			}
<span class="fc" id="L1251">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1253">		} catch (final Exception e) {</span>
<span class="nc" id="L1254">			logger.debug(&quot;SQL Exception in storeOperation&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L1257" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L1258">					conn.close();</span>
				}
<span class="nc" id="L1260">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1261">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L1262">			}</span>
		}
<span class="fc" id="L1264">		return uuid;</span>

	}

	/**
	 * Store JavaOperationInfo into database
	 * @param type
	 *            JavaOperationInfo
	 * @return UUID of stored object
	 */
	public UUID storeJavaOperationInfo(final JavaOperationInfo type) {
<span class="fc" id="L1275">		Connection conn = null;</span>
<span class="fc" id="L1276">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="fc" id="L1279">			conn = dataSource.getConnection();</span>
<span class="fc" id="L1280">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_JAVA_OPERATION.getSqlStatement());</span>
<span class="fc" id="L1281">			insertStatement.setObject(1, uuid);</span>
<span class="fc" id="L1282">			insertStatement.setInt(2, type.getModifier());</span>
			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="pc bpc" id="L1285" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1286">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L1288">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1290">		} catch (final Exception e) {</span>
<span class="nc" id="L1291">			logger.debug(&quot;SQL Exception in storeJavaOperationInfo&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L1294" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L1295">					conn.close();</span>
				}
<span class="nc" id="L1297">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1298">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L1299">			}</span>
		}
<span class="fc" id="L1301">		return uuid;</span>

	}

	/**
	 * Store PythonOperationInfo into database
	 * @param type
	 *            PythonOperationInfo
	 * @return UUID of stored object
	 */
	public UUID storePythonOperationInfo(final PythonOperationInfo type) {
<span class="nc" id="L1312">		Connection conn = null;</span>
<span class="nc" id="L1313">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="nc" id="L1316">			conn = dataSource.getConnection();</span>
<span class="nc" id="L1317">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_PYTHON_OPERATION.getSqlStatement());</span>
<span class="nc" id="L1318">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
			// CHECKSTYLE:ON
<span class="nc bnc" id="L1321" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1322">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L1324">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1326">		} catch (final Exception e) {</span>
<span class="nc" id="L1327">			logger.debug(&quot;SQL Exception in storePythonOperationInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L1330" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L1331">					conn.close();</span>
				}
<span class="nc" id="L1333">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1334">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L1335">			}</span>
		}
<span class="nc" id="L1337">		return uuid;</span>

	}

	/**
	 * Store MetaClass into database
	 * @param metaclass
	 *            metaclass
	 * @return UUID of stored object
	 */
	public UUID storeMetaClass(final MetaClass metaclass) {
<span class="fc" id="L1348">		Connection conn = null;</span>
<span class="fc" id="L1349">		final UUID uuid = metaclass.getDataClayID().getId();</span>
		try {

<span class="fc" id="L1352">			final UUID[] properties = new UUID[metaclass.getProperties().size()];</span>
<span class="fc" id="L1353">			int i = 0;</span>
<span class="fc bfc" id="L1354" title="All 2 branches covered.">			for (final Property prop : metaclass.getProperties()) {</span>
<span class="fc" id="L1355">				properties[i] = this.storeProperty(prop);</span>
<span class="fc" id="L1356">				i++;</span>
<span class="fc" id="L1357">			}</span>

<span class="fc" id="L1359">			final UUID[] operations = new UUID[metaclass.getOperations().size()];</span>
<span class="fc" id="L1360">			i = 0;</span>
<span class="fc bfc" id="L1361" title="All 2 branches covered.">			for (final Operation op : metaclass.getOperations()) {</span>
<span class="fc" id="L1362">				operations[i] = this.storeOperation(op);</span>
<span class="fc" id="L1363">				i++;</span>
<span class="fc" id="L1364">			}</span>

<span class="fc" id="L1366">			UUID parentTypeID = null;</span>
<span class="pc bpc" id="L1367" title="1 of 2 branches missed.">			if (metaclass.getParentType() != null) {</span>
<span class="nc" id="L1368">				parentTypeID = this.storeType(metaclass.getParentType());</span>
			}
<span class="fc" id="L1370">			conn = dataSource.getConnection();</span>
<span class="fc" id="L1371">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_METACLASS.getSqlStatement());</span>
<span class="fc" id="L1372">			insertStatement.setObject(1, uuid);</span>
			// CHECKSTYLE:OFF
<span class="fc" id="L1374">			insertStatement.setString(2, metaclass.getNamespace());</span>
<span class="fc" id="L1375">			insertStatement.setString(3, metaclass.getName());</span>
<span class="fc" id="L1376">			insertStatement.setObject(4, parentTypeID);</span>

<span class="fc" id="L1378">			Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, properties);</span>
<span class="fc" id="L1379">			insertStatement.setArray(5, sqlArray);</span>

<span class="fc" id="L1381">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, operations);</span>
<span class="fc" id="L1382">			insertStatement.setArray(6, sqlArray);</span>

<span class="fc" id="L1384">			insertStatement.setBoolean(7, metaclass.getIsAbstract());</span>
<span class="fc" id="L1385">			insertStatement.setObject(8, metaclass.getNamespaceID().getId());</span>

<span class="fc" id="L1387">			final String[] extensionsTypeArray = new String[metaclass.getLanguageDepInfos().size()];</span>
<span class="fc" id="L1388">			final UUID[] extensionsArray = new UUID[metaclass.getLanguageDepInfos().size()];</span>
<span class="fc" id="L1389">			i = 0;</span>
<span class="fc bfc" id="L1390" title="All 2 branches covered.">			for (final Entry&lt;Langs, LanguageDependantClassInfo&gt; entry : metaclass.getLanguageDepInfos().entrySet()) {</span>
<span class="fc" id="L1391">				extensionsTypeArray[i] = entry.getKey().name();</span>
<span class="pc bpc" id="L1392" title="1 of 2 branches missed.">				if (entry.getKey().equals(Langs.LANG_JAVA)) {</span>
<span class="fc" id="L1393">					extensionsArray[i] = storeJavaClassInfo((JavaClassInfo) entry.getValue());</span>
<span class="nc bnc" id="L1394" title="All 2 branches missed.">				} else if (entry.getKey().equals(Langs.LANG_PYTHON)) {</span>
<span class="nc" id="L1395">					extensionsArray[i] = storePythonClassInfo((PythonClassInfo) entry.getValue());</span>
				}
<span class="fc" id="L1397">				i++;</span>
<span class="fc" id="L1398">			}</span>

<span class="fc" id="L1400">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, extensionsTypeArray);</span>
<span class="fc" id="L1401">			insertStatement.setArray(9, sqlArray);</span>

<span class="fc" id="L1403">			sqlArray = insertStatement.getConnection().createArrayOf(&quot;uuid&quot;, extensionsArray);</span>
<span class="fc" id="L1404">			insertStatement.setArray(10, sqlArray);</span>

			// CHECKSTYLE:ON
<span class="pc bpc" id="L1407" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1408">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L1410">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1412">		} catch (final Exception e) {</span>
<span class="nc" id="L1413">			logger.debug(&quot;SQL Exception in storeMetaClass&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L1416" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L1417">					conn.close();</span>
				}
<span class="nc" id="L1419">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1420">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L1421">			}</span>
		}
<span class="fc" id="L1423">		return uuid;</span>

	}

	/**
	 * Store JavaClassInfo into database
	 * @param info
	 *            JavaClassInfo
	 * @return UUID of stored object
	 */
	public UUID storeJavaClassInfo(final JavaClassInfo info) {
<span class="fc" id="L1434">		Connection conn = null;</span>
<span class="fc" id="L1435">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="fc" id="L1438">			conn = dataSource.getConnection();</span>
<span class="fc" id="L1439">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_JAVA_METACLASS.getSqlStatement());</span>
			// CHECKSTYLE:OFF

<span class="fc" id="L1442">			insertStatement.setObject(1, uuid);</span>
<span class="fc" id="L1443">			insertStatement.setString(2, info.getSignature());</span>
<span class="fc bfc" id="L1444" title="All 2 branches covered.">			if (info.getJavaParentInterfaces() != null) {</span>
<span class="fc" id="L1445">				final Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, info.getJavaParentInterfaces());</span>
<span class="fc" id="L1446">				insertStatement.setArray(3, sqlArray);</span>
<span class="fc" id="L1447">			} else {</span>
<span class="fc" id="L1448">				insertStatement.setArray(3, null);</span>
			}

<span class="fc" id="L1451">			insertStatement.setBytes(4, info.getClassByteCode());</span>

			// CHECKSTYLE:ON
<span class="pc bpc" id="L1454" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1455">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="fc" id="L1457">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1459">		} catch (final Exception e) {</span>
<span class="nc" id="L1460">			logger.debug(&quot;SQL Exception in storeJavaClassInfo&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L1463" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L1464">					conn.close();</span>
				}
<span class="nc" id="L1466">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1467">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L1468">			}</span>
		}
<span class="fc" id="L1470">		return uuid;</span>

	}

	/**
	 * Store PythonClassInfo into database
	 * @param info
	 *            PythonClassInfo
	 * @return UUID of stored object
	 */
	public UUID storePythonClassInfo(final PythonClassInfo info) {
<span class="nc" id="L1481">		Connection conn = null;</span>
<span class="nc" id="L1482">		final UUID uuid = UUID.randomUUID();</span>
		try {

<span class="nc" id="L1485">			conn = dataSource.getConnection();</span>
<span class="nc" id="L1486">			final PreparedStatement insertStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.INSERT_PYTHON_METACLASS.getSqlStatement());</span>
<span class="nc" id="L1487">			insertStatement.setObject(1, uuid);</span>

<span class="nc" id="L1489">			final String[] importx = new String[info.getImports().size()];</span>

<span class="nc" id="L1491">			int i = 0;</span>
<span class="nc bnc" id="L1492" title="All 2 branches missed.">			for (final String entry : info.getImports()) {</span>
<span class="nc" id="L1493">				importx[i] = entry;</span>
<span class="nc" id="L1494">				i++;</span>
<span class="nc" id="L1495">			}</span>

<span class="nc" id="L1497">			final Array sqlArray = insertStatement.getConnection().createArrayOf(&quot;varchar&quot;, importx);</span>
<span class="nc" id="L1498">			insertStatement.setArray(2, sqlArray);</span>
			// CHECKSTYLE:OFF

			// CHECKSTYLE:ON
<span class="nc bnc" id="L1502" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L1503">				logger.debug(&quot;[==DB==] Executing &quot; + insertStatement);</span>
			}
<span class="nc" id="L1505">			insertStatement.executeUpdate();</span>

<span class="nc" id="L1507">		} catch (final Exception e) {</span>
<span class="nc" id="L1508">			logger.debug(&quot;SQL Exception in storePythonClassInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L1511" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L1512">					conn.close();</span>
				}
<span class="nc" id="L1514">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L1515">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L1516">			}</span>
		}
<span class="nc" id="L1518">		return uuid;</span>

	}

	/**
	 * Deserialize type
	 * @param rs
	 *            Result set
	 * @return Type
	 */
	private Type deserializeType(final ResultSet rs) {
<span class="fc" id="L1529">		Type type = null;</span>
		try {
<span class="fc" id="L1531">			boolean isUserType = false;</span>

<span class="fc" id="L1533">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>

<span class="fc" id="L1535">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="fc" id="L1536">			MetaClassID classID = null;</span>
<span class="fc bfc" id="L1537" title="All 2 branches covered.">			if (namespace != null) {</span>
				// it's user type
<span class="fc" id="L1539">				isUserType = true;</span>
<span class="fc" id="L1540">				classID = new MetaClassID((UUID)rs.getObject(&quot;classID&quot;));</span>
			}
<span class="fc" id="L1542">			final String descriptor = rs.getString(&quot;descriptor&quot;);</span>
<span class="fc" id="L1543">			final String signature = rs.getString(&quot;signature&quot;);</span>
<span class="fc" id="L1544">			final String typeName = rs.getString(&quot;typeName&quot;);</span>
<span class="fc" id="L1545">			Array sqlArray = rs.getArray(&quot;includes&quot;);</span>
<span class="fc" id="L1546">			final List&lt;Type&gt; includes = new ArrayList&lt;&gt;();</span>
<span class="pc bpc" id="L1547" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="nc" id="L1548">				final UUID[] uuidArray = (UUID[]) sqlArray.getArray();</span>
<span class="nc bnc" id="L1549" title="All 2 branches missed.">				for (final UUID includedUUID : uuidArray) {</span>
<span class="nc" id="L1550">					final Type include = getTypeByID(includedUUID);</span>
<span class="nc" id="L1551">					includes.add(include);</span>
				}
			}

<span class="fc" id="L1555">			final Map&lt;Langs, LanguageDependantTypeInfo&gt; extensions = new HashMap&lt;&gt;();</span>
<span class="fc" id="L1556">			sqlArray = rs.getArray(&quot;extendedtypes&quot;);</span>
<span class="pc bpc" id="L1557" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L1558">				final Array extensionsArray = rs.getArray(&quot;extensions&quot;);</span>
<span class="fc" id="L1559">				final String[] typesNames = (String[]) sqlArray.getArray();</span>
<span class="fc" id="L1560">				final UUID[] uuidArray = (UUID[]) extensionsArray.getArray();</span>
<span class="pc bpc" id="L1561" title="1 of 2 branches missed.">				for (int i = 0; i &lt; typesNames.length; ++i) {</span>
<span class="nc bnc" id="L1562" title="All 2 branches missed.">					if (typesNames[i].equals(Langs.LANG_JAVA.name())) {</span>
<span class="nc" id="L1563">						final JavaTypeInfo info = this.getJavaTypeByID(uuidArray[i]);</span>
<span class="nc" id="L1564">						extensions.put(Langs.LANG_JAVA, info);</span>
<span class="nc bnc" id="L1565" title="All 2 branches missed.">					} else if (typesNames[i].equals(Langs.LANG_PYTHON.name())) {</span>
<span class="nc" id="L1566">						final PythonTypeInfo info = this.getPythonTypeByID(uuidArray[i]);</span>
<span class="nc" id="L1567">						extensions.put(Langs.LANG_PYTHON, info);</span>
					}
				}
			}

<span class="fc bfc" id="L1572" title="All 2 branches covered.">			if (isUserType) {</span>
<span class="fc" id="L1573">				final UserType utype = new UserType(namespace,</span>
						typeName, descriptor, signature, includes);
<span class="fc" id="L1575">				utype.setClassID(classID);</span>
<span class="fc" id="L1576">				type = utype;</span>
<span class="fc" id="L1577">			} else {</span>
<span class="fc" id="L1578">				type = new Type(descriptor, signature, typeName, includes);</span>
			}

<span class="fc" id="L1581">			type.setId(id);</span>
<span class="fc" id="L1582">			type.setLanguageDepInfos(extensions);</span>

<span class="nc" id="L1584">		} catch (final SQLException e) {</span>
<span class="nc" id="L1585">			logger.debug(&quot;SQL Exception in deserializeType&quot;, e);</span>
<span class="fc" id="L1586">		}</span>
<span class="fc" id="L1587">		return type;</span>
	}

	/**
	 * Deserialize JavaTypeInfo
	 * @param rs
	 *            Result set
	 * @return JavaTypeInfo
	 */
	private JavaTypeInfo deserializeJavaType(final ResultSet rs) {
<span class="nc" id="L1597">		final JavaTypeInfo type = new JavaTypeInfo(); // no fields</span>
		try {
<span class="nc" id="L1599">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1600">			type.setId(id);</span>
<span class="nc" id="L1601">		} catch (final SQLException e) {</span>
<span class="nc" id="L1602">			logger.debug(&quot;SQL Exception in deserializeJavaType&quot;, e);</span>
<span class="nc" id="L1603">		}</span>
<span class="nc" id="L1604">		return type;</span>
	}

	/**
	 * Deserialize PythonTypeInfo
	 * @param rs
	 *            Result set
	 * @return PythonTypeInfo
	 */
	private PythonTypeInfo deserializePythonType(final ResultSet rs) {
<span class="nc" id="L1614">		PythonTypeInfo type = null;</span>
		try {
<span class="nc" id="L1616">			final String signature = rs.getString(&quot;signature&quot;);</span>
<span class="nc" id="L1617">			type = new PythonTypeInfo(signature);</span>
<span class="nc" id="L1618">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1619">			type.setId(id);</span>
<span class="nc" id="L1620">		} catch (final SQLException e) {</span>
<span class="nc" id="L1621">			logger.debug(&quot;SQL Exception in deserializePythonType&quot;, e);</span>
<span class="nc" id="L1622">		}</span>
<span class="nc" id="L1623">		return type;</span>
	}

	/**
	 * Deserialize property
	 * @param rs
	 *            Result set
	 * @return Property
	 */
	private Property deserializeProperty(final ResultSet rs) {
<span class="fc" id="L1633">		Property property = null;</span>
		try {

<span class="fc" id="L1636">			final PropertyID id = new PropertyID((UUID)rs.getObject(&quot;id&quot;));</span>
<span class="fc" id="L1637">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="fc" id="L1638">			final String className = rs.getString(&quot;className&quot;);</span>
<span class="fc" id="L1639">			final String name = rs.getString(&quot;name&quot;);</span>
<span class="fc" id="L1640">			final int position = rs.getInt(&quot;position&quot;);</span>
<span class="fc" id="L1641">			final Type propType = getTypeByID((UUID)rs.getObject(&quot;type&quot;));</span>

<span class="fc" id="L1643">			OperationID getterOperationID = null;</span>
<span class="fc" id="L1644">			final UUID getterUUID = (UUID)rs.getObject(&quot;getterOperationID&quot;);</span>
<span class="pc bpc" id="L1645" title="1 of 2 branches missed.">			if (getterUUID != null) {</span>
<span class="fc" id="L1646">				getterOperationID = new OperationID(getterUUID);</span>
			}

<span class="fc" id="L1649">			ImplementationID getterImplementationID = null;</span>
<span class="fc" id="L1650">			final UUID getterImplementationUUID = (UUID)rs.getObject(&quot;getterImplementationID&quot;);</span>
<span class="pc bpc" id="L1651" title="1 of 2 branches missed.">			if (getterImplementationUUID != null) {</span>
<span class="fc" id="L1652">				getterImplementationID = new ImplementationID(getterImplementationUUID);</span>
			}

<span class="fc" id="L1655">			OperationID setterOperationID = null;</span>
<span class="fc" id="L1656">			final UUID setterUUID = (UUID)rs.getObject(&quot;setterOperationID&quot;);</span>
<span class="pc bpc" id="L1657" title="1 of 2 branches missed.">			if (setterUUID != null) {</span>
<span class="fc" id="L1658">				setterOperationID = new OperationID(setterUUID);</span>
			}

<span class="fc" id="L1661">			ImplementationID setterImplementationID = null;</span>
<span class="fc" id="L1662">			final UUID setterImplementationUUID = (UUID)rs.getObject(&quot;setterImplementationID&quot;);</span>
<span class="pc bpc" id="L1663" title="1 of 2 branches missed.">			if (setterImplementationUUID != null) {</span>
<span class="fc" id="L1664">				setterImplementationID = new ImplementationID(setterImplementationUUID);</span>
			}

<span class="fc" id="L1667">			ImplementationID updateImplementationID = null;</span>
<span class="pc bpc" id="L1668" title="1 of 2 branches missed.">			if (rs.getObject(&quot;updateImplementationID&quot;) != null) {</span>
<span class="nc" id="L1669">				updateImplementationID = new ImplementationID((UUID)rs.getObject(&quot;updateImplementationID&quot;));</span>
			}

<span class="fc" id="L1672">			OperationID updateOperationID = null;</span>
<span class="pc bpc" id="L1673" title="1 of 2 branches missed.">			if (rs.getObject(&quot;updateOperationID&quot;) != null) {</span>
<span class="nc" id="L1674">				updateOperationID = new OperationID((UUID)rs.getObject(&quot;updateOperationID&quot;));</span>
			}

<span class="fc" id="L1677">			final NamespaceID namespaceID = new NamespaceID((UUID)rs.getObject(&quot;namespaceID&quot;));</span>
<span class="fc" id="L1678">			final MetaClassID metaClassID = new MetaClassID((UUID)rs.getObject(&quot;metaClassID&quot;));</span>

<span class="fc" id="L1680">			final Map&lt;Langs, LanguageDependantPropertyInfo&gt; extensions = new HashMap&lt;&gt;();</span>
<span class="fc" id="L1681">			final Array sqlArray = rs.getArray(&quot;extendedtypes&quot;);</span>
<span class="pc bpc" id="L1682" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L1683">				final Array extensionsArray = rs.getArray(&quot;extensions&quot;);</span>
<span class="fc" id="L1684">				final String[] typesNames = (String[]) sqlArray.getArray();</span>
<span class="fc" id="L1685">				final UUID[] uuidArray = (UUID[]) extensionsArray.getArray();</span>
<span class="fc bfc" id="L1686" title="All 2 branches covered.">				for (int i = 0; i &lt; typesNames.length; ++i) {</span>
<span class="pc bpc" id="L1687" title="1 of 2 branches missed.">					if (typesNames[i].equals(Langs.LANG_JAVA.name())) {</span>
<span class="fc" id="L1688">						final JavaPropertyInfo info = this.getJavaPropertyByID(uuidArray[i]);</span>
<span class="fc" id="L1689">						extensions.put(Langs.LANG_JAVA, info);</span>
<span class="pc bnc" id="L1690" title="All 2 branches missed.">					} else if (typesNames[i].equals(Langs.LANG_PYTHON.name())) {</span>
<span class="nc" id="L1691">						final PythonPropertyInfo info = this.getPythonPropertyByID(uuidArray[i]);</span>
<span class="nc" id="L1692">						extensions.put(Langs.LANG_PYTHON, info);</span>
					}
				}
			}

<span class="fc" id="L1697">			property = new Property(position, name, propType, namespace, className);</span>
<span class="fc" id="L1698">			property.setDataClayID(id);</span>
<span class="fc" id="L1699">			property.setGetterImplementationID(getterImplementationID);</span>
<span class="fc" id="L1700">			property.setGetterOperationID(getterOperationID);</span>
<span class="fc" id="L1701">			property.setMetaClassID(metaClassID);</span>
<span class="fc" id="L1702">			property.setNamespaceID(namespaceID);</span>
<span class="fc" id="L1703">			property.setSetterImplementationID(setterImplementationID);</span>
<span class="fc" id="L1704">			property.setSetterOperationID(setterOperationID);</span>
<span class="fc" id="L1705">			property.setUpdateImplementationID(updateImplementationID);</span>
<span class="fc" id="L1706">			property.setUpdateOperationID(updateOperationID);</span>
<span class="fc" id="L1707">			property.setType(propType);</span>
<span class="fc" id="L1708">			property.setLanguageDepInfos(extensions);</span>
<span class="fc" id="L1709">			property.setBeforeUpdate(rs.getString(&quot;beforeUpdate&quot;));</span>
<span class="fc" id="L1710">			property.setAfterUpdate(rs.getString(&quot;afterUpdate&quot;));</span>
<span class="fc" id="L1711">			property.setInMaster(rs.getBoolean(&quot;inMaster&quot;));</span>

<span class="fc" id="L1713">			final Array annotationsUUIDArray = rs.getArray(&quot;annotations&quot;);</span>
<span class="pc bpc" id="L1714" title="1 of 2 branches missed.">			if (annotationsUUIDArray != null) {</span>
<span class="nc" id="L1715">				final UUID[] uuidArray = (UUID[]) annotationsUUIDArray.getArray();</span>
<span class="nc bnc" id="L1716" title="All 2 branches missed.">				for (int i = 0; i &lt; uuidArray.length; i++) {</span>
<span class="nc" id="L1717">					property.addAnnotation(this.getAnnotationByID(uuidArray[i]));</span>
				}
			}
<span class="nc" id="L1720">		} catch (final SQLException e) {</span>
<span class="nc" id="L1721">			logger.debug(&quot;SQL Exception in deserializeProperty&quot;, e);</span>
<span class="fc" id="L1722">		}</span>
<span class="fc" id="L1723">		return property;</span>
	}

	/**
	 * Deserialize Annotation
	 * @param rs
	 *            Result set
	 * @return Annotation
	 */
	private Annotation deserializeAnnotation(final ResultSet rs) {
<span class="nc" id="L1733">		Annotation annotation = null;</span>
		try {
<span class="nc" id="L1735">			annotation = new Annotation(rs.getString(&quot;descr&quot;));</span>
<span class="nc" id="L1736">			annotation.setId((UUID)rs.getObject(&quot;id&quot;));</span>

<span class="nc" id="L1738">			final Array keysArray = rs.getArray(3);</span>
<span class="nc" id="L1739">			final Array valuesArray = rs.getArray(4);</span>
<span class="nc bnc" id="L1740" title="All 4 branches missed.">			if(keysArray != null &amp;&amp; valuesArray != null) {</span>
<span class="nc" id="L1741">				final String[] keys = (String[]) keysArray.getArray(), values = (String[]) valuesArray.getArray();</span>
<span class="nc bnc" id="L1742" title="All 2 branches missed.">				for (int i = 0; i &lt; keys.length; i++) {</span>
<span class="nc" id="L1743">					annotation.addParameter(keys[i], values[i]);</span>
				}
			}
<span class="nc" id="L1746">		} catch (final SQLException e) {</span>
<span class="nc" id="L1747">			logger.debug(&quot;SQL Exception in deserializeAnnotation&quot;, e);</span>
<span class="nc" id="L1748">		}</span>
<span class="nc" id="L1749">		return annotation;</span>
	}

	/**
	 * Deserialize JavaPropertyInfo
	 * @param rs
	 *            Result set
	 * @return JavaPropertyInfo
	 */
	private JavaPropertyInfo deserializeJavaProperty(final ResultSet rs) {
<span class="fc" id="L1759">		JavaPropertyInfo info = null;</span>
		try {
<span class="fc" id="L1761">			final int modifier = rs.getInt(&quot;modifier&quot;);</span>
<span class="fc" id="L1762">			info = new JavaPropertyInfo(modifier);</span>
<span class="fc" id="L1763">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="fc" id="L1764">			info.setId(id);</span>
<span class="nc" id="L1765">		} catch (final SQLException e) {</span>
<span class="nc" id="L1766">			logger.debug(&quot;SQL Exception in deserializeJavaProperty&quot;, e);</span>
<span class="fc" id="L1767">		}</span>
<span class="fc" id="L1768">		return info;</span>
	}

	/**
	 * Deserialize PythonPropertyInfo
	 * @param rs
	 *            Result set
	 * @return PythonPropertyInfo
	 */
	private PythonPropertyInfo deserializePythonProperty(final ResultSet rs) {
<span class="nc" id="L1778">		final PythonPropertyInfo info = new PythonPropertyInfo(); // no fields</span>
		try {
<span class="nc" id="L1780">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1781">			info.setId(id);</span>
<span class="nc" id="L1782">		} catch (final SQLException e) {</span>
<span class="nc" id="L1783">			logger.debug(&quot;SQL Exception in deserializePythonProperty&quot;, e);</span>
<span class="nc" id="L1784">		}</span>
<span class="nc" id="L1785">		return info;</span>
	}

	/**
	 * Deserialize AccessedImplementation
	 * @param rs
	 *            Result set
	 * @return AccessedImplementation
	 */
	private AccessedImplementation deserializeAccessedImplementation(final ResultSet rs) {
<span class="nc" id="L1795">		AccessedImplementation accImpl = null;</span>
		try {

<span class="nc" id="L1798">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="nc" id="L1799">			final String className = rs.getString(&quot;className&quot;);</span>
<span class="nc" id="L1800">			final String opSignature = rs.getString(&quot;opSignature&quot;);</span>
<span class="nc" id="L1801">			final int position = rs.getInt(&quot;position&quot;);</span>
<span class="nc" id="L1802">			final ImplementationID implID = new ImplementationID((UUID)rs.getObject(&quot;implid&quot;));</span>
<span class="nc" id="L1803">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1804">			accImpl = new AccessedImplementation(namespace, className, opSignature, position);</span>
<span class="nc" id="L1805">			accImpl.setImplementationID(implID);</span>
<span class="nc" id="L1806">			accImpl.setId(id);</span>

<span class="nc" id="L1808">		} catch (final SQLException e) {</span>
<span class="nc" id="L1809">			logger.debug(&quot;SQL Exception in deserializeAccessedImplementation&quot;, e);</span>
<span class="nc" id="L1810">		}</span>
<span class="nc" id="L1811">		return accImpl;</span>
	}

	/**
	 * Deserialize AccessedProperty
	 * @param rs
	 *            Result set
	 * @return AccessedProperty
	 */
	private AccessedProperty deserializeAccessedProperty(final ResultSet rs) {
<span class="fc" id="L1821">		AccessedProperty accProp = null;</span>
		try {

<span class="fc" id="L1824">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="fc" id="L1825">			final String className = rs.getString(&quot;className&quot;);</span>
<span class="fc" id="L1826">			final String name = rs.getString(&quot;name&quot;);</span>
<span class="fc" id="L1827">			final PropertyID propID = new PropertyID((UUID)rs.getObject(&quot;propid&quot;));</span>
<span class="fc" id="L1828">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>

<span class="fc" id="L1830">			accProp = new AccessedProperty(namespace, className, name);</span>
<span class="fc" id="L1831">			accProp.setPropertyID(propID);</span>
<span class="fc" id="L1832">			accProp.setId(id);</span>

<span class="nc" id="L1834">		} catch (final SQLException e) {</span>
<span class="nc" id="L1835">			logger.debug(&quot;SQL Exception in deserializeAccessedProperty&quot;, e);</span>
<span class="fc" id="L1836">		}</span>
<span class="fc" id="L1837">		return accProp;</span>
	}

	/**
	 * Deserialize MemoryFeature
	 * @param rs
	 *            Result set
	 * @return MemoryFeature
	 */
	private MemoryFeature deserializeMemoryFeature(final ResultSet rs) {
<span class="nc" id="L1847">		MemoryFeature feature = null;</span>
		try {

<span class="nc" id="L1850">			final int capacity = rs.getInt(&quot;capacityInMB&quot;);</span>
<span class="nc" id="L1851">			feature = new MemoryFeature(capacity);</span>
<span class="nc" id="L1852">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1853">			feature.setId(id);</span>
<span class="nc" id="L1854">		} catch (final SQLException e) {</span>
<span class="nc" id="L1855">			logger.debug(&quot;SQL Exception in deserializeMemoryFeature&quot;, e);</span>
<span class="nc" id="L1856">		}</span>
<span class="nc" id="L1857">		return feature;</span>
	}

	/**
	 * Deserialize CPUFeature
	 * @param rs
	 *            Result set
	 * @return CPUFeature
	 */
	private CPUFeature deserializeCPUFeature(final ResultSet rs) {
<span class="nc" id="L1867">		CPUFeature feature = null;</span>
		try {

<span class="nc" id="L1870">			final int amount = rs.getInt(&quot;amount&quot;);</span>
<span class="nc" id="L1871">			feature = new CPUFeature(amount);</span>
<span class="nc" id="L1872">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1873">			feature.setId(id);</span>
<span class="nc" id="L1874">		} catch (final SQLException e) {</span>
<span class="nc" id="L1875">			logger.debug(&quot;SQL Exception in deserializeCPUFeature&quot;, e);</span>
<span class="nc" id="L1876">		}</span>
<span class="nc" id="L1877">		return feature;</span>
	}

	/**
	 * Deserialize LanguageFeature
	 * @param rs
	 *            Result set
	 * @return LanguageFeature
	 */
	private LanguageFeature deserializeLanguageFeature(final ResultSet rs) {
<span class="fc" id="L1887">		LanguageFeature feature = null;</span>
		try {

<span class="fc" id="L1890">			final String languageName = rs.getString(&quot;languageName&quot;);</span>
<span class="fc" id="L1891">			final String version = rs.getString(&quot;version&quot;);</span>
<span class="fc" id="L1892">			feature = new LanguageFeature(languageName, version);</span>
<span class="fc" id="L1893">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="fc" id="L1894">			feature.setId(id);</span>
<span class="nc" id="L1895">		} catch (final SQLException e) {</span>
<span class="nc" id="L1896">			logger.debug(&quot;SQL Exception in deserializeLanguageFeature&quot;, e);</span>
<span class="fc" id="L1897">		}</span>
<span class="fc" id="L1898">		return feature;</span>
	}

	/**
	 * Deserialize ArchitectureFeature
	 * @param rs
	 *            Result set
	 * @return ArchitectureFeature
	 */
	private ArchitectureFeature deserializeArchitectureFeature(final ResultSet rs) {
<span class="nc" id="L1908">		ArchitectureFeature feature = null;</span>
		try {

<span class="nc" id="L1911">			final String architectureName = rs.getString(&quot;architectureName&quot;);</span>
<span class="nc" id="L1912">			feature = new ArchitectureFeature(architectureName);</span>
<span class="nc" id="L1913">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L1914">			feature.setId(id);</span>
<span class="nc" id="L1915">		} catch (final SQLException e) {</span>
<span class="nc" id="L1916">			logger.debug(&quot;SQL Exception in deserializeArchitectureFeature&quot;, e);</span>
<span class="nc" id="L1917">		}</span>
<span class="nc" id="L1918">		return feature;</span>
	}

	/**
	 * Deserialize PrefetchingInfo
	 * @param rs
	 *            Result set
	 * @return PrefetchingInfo
	 */
	private PrefetchingInformation deserializePrefetchingInfo(final ResultSet rs) {
<span class="fc" id="L1928">		PrefetchingInformation prefetchingInfo = null;</span>
		try {

<span class="fc" id="L1931">			final boolean disableDynamicPrefetching = rs.getBoolean(&quot;disableDynamicPrefetching&quot;);</span>
<span class="fc" id="L1932">			final boolean injectPrefetchingCall = rs.getBoolean(&quot;injectPrefetchingCall&quot;);</span>
<span class="fc" id="L1933">			final String prefetchingNamespace = rs.getString(&quot;prefetchingNamespace&quot;);</span>
<span class="fc" id="L1934">			final String prefetchingClassName = rs.getString(&quot;prefetchingClassName&quot;);</span>
<span class="fc" id="L1935">			final String prefetchingMethodSignature = rs.getString(&quot;prefetchingMethodSignature&quot;);</span>

<span class="fc" id="L1937">			final UUID uuidImplID = (UUID)rs.getObject(&quot;implID&quot;);</span>
<span class="fc" id="L1938">			ImplementationID implId = null;</span>
<span class="pc bpc" id="L1939" title="1 of 2 branches missed.">			if (uuidImplID != null) {</span>
<span class="nc" id="L1940">				implId = new ImplementationID((UUID)rs.getObject(&quot;implID&quot;));</span>
			}

<span class="fc" id="L1943">			final UUID uuidPFID = (UUID)rs.getObject(&quot;classID&quot;);</span>
<span class="fc" id="L1944">			MetaClassID classId = null;</span>
<span class="pc bpc" id="L1945" title="1 of 2 branches missed.">			if (uuidPFID != null) {</span>
<span class="nc" id="L1946">				classId = new MetaClassID((UUID)rs.getObject(&quot;classID&quot;));</span>
			}

<span class="fc" id="L1949">			final Array sqlArray = rs.getArray(&quot;propertiesToPrefetch&quot;);</span>
<span class="fc" id="L1950">			final List&lt;List&lt;Property&gt;&gt; properties = new ArrayList&lt;&gt;();</span>
			try {
<span class="pc bpc" id="L1952" title="1 of 2 branches missed.">				if (sqlArray != null) {</span>
<span class="nc" id="L1953">					final UUID[][] uuidArray = (UUID[][]) sqlArray.getArray();</span>
<span class="nc bnc" id="L1954" title="All 2 branches missed.">					for (final UUID[] subArray : uuidArray) {</span>
<span class="nc" id="L1955">						final List&lt;Property&gt; subList = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L1956" title="All 2 branches missed.">						for (final UUID propUUID : subArray) {</span>
<span class="nc" id="L1957">							final Property prop = getPropertyByID(propUUID);</span>
<span class="nc" id="L1958">							subList.add(prop);</span>
						}
<span class="nc" id="L1960">						properties.add(subList);</span>
					}
				}
<span class="nc" id="L1963">			} catch (final Exception e) {</span>
				// Class cast exception if array is empty
<span class="fc" id="L1965">			}</span>
<span class="fc" id="L1966">			prefetchingInfo = new PrefetchingInformation();</span>
<span class="fc" id="L1967">			prefetchingInfo.setDisableDynamicPrefetching(disableDynamicPrefetching);</span>
<span class="fc" id="L1968">			prefetchingInfo.setInjectPrefetchingCall(injectPrefetchingCall);</span>
<span class="fc" id="L1969">			prefetchingInfo.setPrefetchingNameSpace(prefetchingNamespace);</span>
<span class="fc" id="L1970">			prefetchingInfo.setPrefetchingClassName(prefetchingClassName);</span>
<span class="fc" id="L1971">			prefetchingInfo.setPrefetchingMethodSignature(prefetchingMethodSignature);</span>
<span class="fc" id="L1972">			prefetchingInfo.setPrefetchingImplementationID(implId);</span>
<span class="fc" id="L1973">			prefetchingInfo.setPrefetchingClassID(classId);</span>
<span class="fc" id="L1974">			prefetchingInfo.setPropertiesToPrefetch(properties);</span>
<span class="fc" id="L1975">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="fc" id="L1976">			prefetchingInfo.setId(id);</span>
<span class="nc" id="L1977">		} catch (final SQLException e) {</span>
<span class="nc" id="L1978">			logger.debug(&quot;SQL Exception in deserializePrefetchingInfo&quot;, e);</span>
<span class="fc" id="L1979">		}</span>
<span class="fc" id="L1980">		return prefetchingInfo;</span>
	}

	/**
	 * Deserialize Implementation
	 * @param rs
	 *            Result set
	 * @return Implementation
	 */
	private Implementation deserializeImplementation(final String tableName, final ResultSet rs) {
<span class="fc" id="L1990">		Implementation impl = null;</span>
		try {
<span class="fc" id="L1992">			final ImplementationID id = new ImplementationID((UUID)rs.getObject(&quot;id&quot;));</span>
<span class="fc" id="L1993">			final String responsibleaccountname = rs.getString(&quot;responsibleaccountname&quot;);</span>

<span class="fc" id="L1995">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="fc" id="L1996">			final String className = rs.getString(&quot;className&quot;);</span>
<span class="fc" id="L1997">			final String opNameAndDescriptor = rs.getString(&quot;opNameAndDescriptor&quot;);</span>
<span class="fc" id="L1998">			final int position = rs.getInt(&quot;position&quot;);</span>

<span class="fc" id="L2000">			Array sqlArray = rs.getArray(&quot;includes&quot;);</span>
<span class="fc" id="L2001">			final List&lt;Type&gt; includes = new ArrayList&lt;&gt;();</span>
<span class="pc bpc" id="L2002" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L2003">				final UUID[] uuidArray = (UUID[]) sqlArray.getArray();</span>
<span class="fc bfc" id="L2004" title="All 2 branches covered.">				for (final UUID includedUUID : uuidArray) {</span>
<span class="fc" id="L2005">					final Type include = getTypeByID(includedUUID);</span>
<span class="fc" id="L2006">					includes.add(include);</span>
				}
			}

<span class="fc" id="L2010">			sqlArray = rs.getArray(&quot;accessedProperties&quot;);</span>
<span class="fc" id="L2011">			final List&lt;AccessedProperty&gt; accessedProperties = new ArrayList&lt;&gt;();</span>
<span class="pc bpc" id="L2012" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L2013">				final UUID[] uuidArray = (UUID[]) sqlArray.getArray();</span>
<span class="fc bfc" id="L2014" title="All 2 branches covered.">				for (final UUID includedUUID : uuidArray) {</span>
<span class="fc" id="L2015">					final AccessedProperty accProp = getAccessedPropertyByID(includedUUID);</span>
<span class="fc" id="L2016">					accessedProperties.add(accProp);</span>
				}
			}

<span class="fc" id="L2020">			sqlArray = rs.getArray(&quot;accessedImplementations&quot;);</span>
<span class="fc" id="L2021">			final List&lt;AccessedImplementation&gt; accessedImplementations = new ArrayList&lt;&gt;();</span>
<span class="pc bpc" id="L2022" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L2023">				final UUID[] uuidArray = (UUID[]) sqlArray.getArray();</span>
<span class="pc bpc" id="L2024" title="1 of 2 branches missed.">				for (final UUID includedUUID : uuidArray) {</span>
<span class="nc" id="L2025">					final AccessedImplementation accImpl = getAccessedImplementationByID(includedUUID);</span>
<span class="nc" id="L2026">					accessedImplementations.add(accImpl);</span>
				}
			}

<span class="fc" id="L2030">			sqlArray = rs.getArray(&quot;featurestypes&quot;);</span>
<span class="fc" id="L2031">			final Array reqfeaturesArray = rs.getArray(&quot;reqfeatures&quot;);</span>
<span class="fc" id="L2032">			final Map&lt;FeatureType, QuantitativeFeature&gt; requiredQuantitativeFeatures = new HashMap&lt;&gt;();</span>
<span class="fc" id="L2033">			final Map&lt;FeatureType, QualitativeFeature&gt; requiredQualitativeFeatures = new HashMap&lt;&gt;();</span>
<span class="pc bpc" id="L2034" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L2035">				final String[] strArray = (String[]) sqlArray.getArray();</span>
<span class="fc" id="L2036">				final UUID[] uuidArray = (UUID[]) reqfeaturesArray.getArray();</span>
<span class="fc bfc" id="L2037" title="All 2 branches covered.">				for (int i = 0; i &lt; strArray.length; ++i) {</span>
<span class="fc" id="L2038">					final FeatureType fType = FeatureType.valueOf(strArray[i]);</span>

<span class="fc" id="L2040">					Feature feature = null;</span>
<span class="pc bpc" id="L2041" title="4 of 5 branches missed.">					switch (fType) {</span>
					case ARCHITECTURE:
<span class="nc" id="L2043">						feature = getArchitectureFeatureByID(uuidArray[i]);</span>

<span class="nc" id="L2045">						break;</span>
					case CPU:
<span class="nc" id="L2047">						feature = getCPUFeatureByID(uuidArray[i]);</span>
<span class="nc" id="L2048">						break;</span>
					case LANGUAGE:
<span class="fc" id="L2050">						feature = getLanguageFeatureByID(uuidArray[i]);</span>
<span class="fc" id="L2051">						break;</span>
					case MEMORY:
<span class="nc" id="L2053">						feature = getMemoryFeatureByID(uuidArray[i]);</span>
<span class="nc" id="L2054">						break;</span>
					default:
<span class="nc" id="L2056">						logger.error(&quot;wrong deserialization of feature type&quot;);</span>
						break;
					}

<span class="pc bpc" id="L2060" title="2 of 3 branches missed.">					switch (feature.getType().getParent()) {</span>
					case QUALITATIVE:
<span class="fc" id="L2062">						requiredQualitativeFeatures.put(fType, (QualitativeFeature) feature);</span>
<span class="fc" id="L2063">						break;</span>
					case QUANTITATIVE:
<span class="nc" id="L2065">						requiredQuantitativeFeatures.put(fType, (QuantitativeFeature) feature);</span>
<span class="nc" id="L2066">						break;</span>
					default:
<span class="nc" id="L2068">						logger.error(&quot;wrong deserialization of feature type&quot;);</span>
						break;

					}
				}
			}

<span class="fc" id="L2075">			final OperationID operationID = new OperationID((UUID)rs.getObject(&quot;operationID&quot;));</span>
<span class="fc" id="L2076">			final MetaClassID metaClassID = new MetaClassID((UUID)rs.getObject(&quot;metaClassID&quot;));</span>
<span class="fc" id="L2077">			final AccountID responsibleAccountID = new AccountID((UUID)rs.getObject(&quot;responsibleAccountID&quot;));</span>
<span class="fc" id="L2078">			final NamespaceID namespaceID = new NamespaceID((UUID)rs.getObject(&quot;namespaceID&quot;));</span>
<span class="fc" id="L2079">			final UUID prefetchingInfoUUID = (UUID)rs.getObject(&quot;prefetchingInfo&quot;);</span>
<span class="fc" id="L2080">			PrefetchingInformation prefetchingInfo = null;</span>
<span class="fc bfc" id="L2081" title="All 2 branches covered.">			if (prefetchingInfoUUID != null) {</span>
<span class="fc" id="L2082">				prefetchingInfo = getPrefetchingInfoByID(prefetchingInfoUUID);</span>
			}

<span class="pc bpc" id="L2085" title="1 of 2 branches missed.">			if (tableName.equals(&quot;java_implementation&quot;)) {</span>

<span class="fc" id="L2087">				impl = new JavaImplementation(position, accessedProperties,</span>
						accessedImplementations, includes,
						prefetchingInfo, requiredQuantitativeFeatures,
						requiredQualitativeFeatures,
						namespace, className, opNameAndDescriptor);
<span class="fc" id="L2092">				impl.setDataClayID(id);</span>
<span class="fc" id="L2093">				impl.setResponsibleAccountName(responsibleaccountname);</span>
<span class="fc" id="L2094">				impl.setResponsibleAccountID(responsibleAccountID);</span>
<span class="fc" id="L2095">				impl.setOperationID(operationID);</span>
<span class="fc" id="L2096">				impl.setMetaClassID(metaClassID);</span>
<span class="fc" id="L2097">				impl.setNamespaceID(namespaceID);</span>

<span class="nc bnc" id="L2099" title="All 2 branches missed.">			} else if (tableName.equals(&quot;python_implementation&quot;)) {</span>
<span class="nc" id="L2100">				impl = new PythonImplementation(position, accessedProperties,</span>
						accessedImplementations, includes,
						prefetchingInfo, requiredQuantitativeFeatures,
						requiredQualitativeFeatures,
						namespace, className, opNameAndDescriptor,
<span class="nc" id="L2105">						getPythonCodeByImplementationID(id.getId()));</span>
<span class="nc" id="L2106">				impl.setDataClayID(id);</span>
<span class="nc" id="L2107">				impl.setResponsibleAccountName(responsibleaccountname);</span>
<span class="nc" id="L2108">				impl.setResponsibleAccountID(responsibleAccountID);</span>
<span class="nc" id="L2109">				impl.setOperationID(operationID);</span>
<span class="nc" id="L2110">				impl.setMetaClassID(metaClassID);</span>
<span class="nc" id="L2111">				impl.setNamespaceID(namespaceID);</span>

			} else {
<span class="nc" id="L2114">				throw new RuntimeException(&quot;Implementation of language not supported&quot;);</span>
			}

<span class="nc" id="L2117">		} catch (final SQLException e) {</span>
<span class="nc" id="L2118">			logger.debug(&quot;SQL Exception in deserializeImplementation&quot;, e);</span>
<span class="fc" id="L2119">		}</span>
<span class="fc" id="L2120">		return impl;</span>
	}

	/**
	 * Deserialize operation
	 * @param rs
	 *            Result set
	 * @return operation
	 */
	private Operation deserializeOperation(final ResultSet rs) {
<span class="fc" id="L2130">		Operation operation = null;</span>
		try {

<span class="fc" id="L2133">			final OperationID id = new OperationID((UUID)rs.getObject(&quot;id&quot;));</span>
<span class="fc" id="L2134">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="fc" id="L2135">			final String className = rs.getString(&quot;className&quot;);</span>
<span class="fc" id="L2136">			final String descriptor = rs.getString(&quot;descriptor&quot;);</span>
<span class="fc" id="L2137">			final String signature = rs.getString(&quot;signature&quot;);</span>
<span class="fc" id="L2138">			final String name = rs.getString(&quot;name&quot;);</span>
<span class="fc" id="L2139">			final String nameAndDescriptor = rs.getString(&quot;nameAndDescriptor&quot;);</span>

<span class="fc" id="L2141">			final Array namesArray = rs.getArray(&quot;paramsNames&quot;);</span>
<span class="fc" id="L2142">			final Array typesArray = rs.getArray(&quot;paramsTypes&quot;);</span>
<span class="fc" id="L2143">			final Map&lt;String, Type&gt; params = new HashMap&lt;&gt;();</span>
<span class="pc bpc" id="L2144" title="1 of 2 branches missed.">			if (namesArray != null) {</span>
<span class="fc" id="L2145">				final String[] paramsNames = (String[]) namesArray.getArray();</span>
<span class="fc" id="L2146">				final UUID[] paramsTypesUUIDs = (UUID[]) typesArray.getArray();</span>
<span class="fc bfc" id="L2147" title="All 2 branches covered.">				for (int i = 0; i &lt; paramsNames.length; ++i) {</span>
<span class="fc" id="L2148">					final Type paramType = this.getTypeByID(paramsTypesUUIDs[i]);</span>
<span class="fc" id="L2149">					params.put(paramsNames[i], paramType);</span>
				}
			}

<span class="fc" id="L2153">			final Array namesOrderArray = rs.getArray(&quot;paramOrder&quot;);</span>
<span class="fc" id="L2154">			final List&lt;String&gt; paramsOrder = new ArrayList&lt;&gt;();</span>
<span class="pc bpc" id="L2155" title="1 of 2 branches missed.">			if (namesOrderArray != null) {</span>
<span class="fc" id="L2156">				final String[] namesOrder = (String[]) namesOrderArray.getArray();</span>
<span class="fc bfc" id="L2157" title="All 2 branches covered.">				for (final String paramName : namesOrder) {</span>
<span class="fc" id="L2158">					paramsOrder.add(paramName);</span>
				}

			}

<span class="fc" id="L2163">			final UUID returnTypeUUID = (UUID)rs.getObject(&quot;returnType&quot;);</span>
<span class="fc" id="L2164">			final Type returnType = getTypeByID(returnTypeUUID);</span>

<span class="fc" id="L2166">			final Array implsArray = rs.getArray(&quot;implementations&quot;);</span>
<span class="fc" id="L2167">			final SortedSet&lt;Implementation&gt; implementations = new TreeSet&lt;&gt;();</span>
<span class="pc bpc" id="L2168" title="1 of 2 branches missed.">			if (implsArray != null) {</span>
<span class="fc" id="L2169">				final UUID[] implsArrayUUIDs = (UUID[]) implsArray.getArray();</span>
<span class="fc bfc" id="L2170" title="All 2 branches covered.">				for (final UUID implUUID : implsArrayUUIDs) {</span>
<span class="fc" id="L2171">					implementations.add(this.getImplementationByID(implUUID));</span>
				}

			}

<span class="fc" id="L2176">			final boolean isAbstract = rs.getBoolean(&quot;isAbstract&quot;);</span>
<span class="fc" id="L2177">			final boolean isStaticConstructor = rs.getBoolean(&quot;isStaticConstructor&quot;);</span>

<span class="fc" id="L2179">			final MetaClassID metaClassID = new MetaClassID((UUID)rs.getObject(&quot;metaClassID&quot;));</span>
<span class="fc" id="L2180">			final NamespaceID namespaceID = new NamespaceID((UUID)rs.getObject(&quot;namespaceID&quot;));</span>

<span class="fc" id="L2182">			final Array sqlArray = rs.getArray(&quot;extendedtypes&quot;);</span>

			final String[] typesNames;
<span class="pc bpc" id="L2185" title="1 of 2 branches missed.">			if (sqlArray == null) {</span>
<span class="nc" id="L2186">				typesNames = new String[0];</span>
			} else {
<span class="fc" id="L2188">				typesNames = (String[]) sqlArray.getArray();</span>
			}

<span class="fc" id="L2191">			final Array extensionsArray = rs.getArray(&quot;extensions&quot;);</span>
			final UUID[] uuidArray;
<span class="pc bpc" id="L2193" title="1 of 2 branches missed.">			if (extensionsArray == null) {</span>
<span class="nc" id="L2194">				uuidArray = new UUID[0];</span>
			} else {
<span class="fc" id="L2196">				uuidArray = (UUID[]) extensionsArray.getArray();</span>
			}

<span class="fc" id="L2199">			final Map&lt;Langs, LanguageDependantOperationInfo&gt; extensions = new HashMap&lt;&gt;();</span>
<span class="fc bfc" id="L2200" title="All 2 branches covered.">			for (int i = 0; i &lt; typesNames.length; ++i) {</span>
<span class="pc bpc" id="L2201" title="1 of 2 branches missed.">				if (typesNames[i].equals(Langs.LANG_JAVA.name())) {</span>
<span class="fc" id="L2202">					final JavaOperationInfo info = this.getJavaOperationByID(uuidArray[i]);</span>
<span class="fc" id="L2203">					extensions.put(Langs.LANG_JAVA, info);</span>
<span class="pc bnc" id="L2204" title="All 2 branches missed.">				} else if (typesNames[i].equals(Langs.LANG_PYTHON.name())) {</span>
<span class="nc" id="L2205">					final PythonOperationInfo info = this.getPythonOperationByID(uuidArray[i]);</span>
<span class="nc" id="L2206">					extensions.put(Langs.LANG_PYTHON, info);</span>
				}
			}

<span class="fc" id="L2210">			operation = new Operation(name, descriptor, signature,</span>
					nameAndDescriptor,
					namespace, className,
					isAbstract);
<span class="fc" id="L2214">			operation.setDataClayID(id);</span>
<span class="fc" id="L2215">			operation.setImplementations(implementations);</span>
<span class="fc" id="L2216">			operation.setLanguageDepInfos(extensions);</span>
<span class="fc" id="L2217">			operation.setMetaClassID(metaClassID);</span>
<span class="fc" id="L2218">			operation.setNamespaceID(namespaceID);</span>
<span class="fc" id="L2219">			operation.setParamsOrder(paramsOrder);</span>
<span class="fc" id="L2220">			operation.setParams(params);</span>
<span class="fc" id="L2221">			operation.setReturnType(returnType);</span>
<span class="fc" id="L2222">			operation.setIsStaticConstructor(isStaticConstructor);</span>

<span class="nc" id="L2224">		} catch (final SQLException e) {</span>
<span class="nc" id="L2225">			logger.debug(&quot;SQL Exception in deserializeOperation&quot;, e);</span>
<span class="fc" id="L2226">		}</span>
<span class="fc" id="L2227">		return operation;</span>
	}

	/**
	 * Deserialize JavaOperationInfo
	 * @param rs
	 *            Result set
	 * @return JavaOperationInfo
	 */
	private JavaOperationInfo deserializeJavaOperation(final ResultSet rs) {
<span class="fc" id="L2237">		JavaOperationInfo info = null;</span>
		try {
<span class="fc" id="L2239">			final int modifier = rs.getInt(&quot;modifier&quot;);</span>
<span class="fc" id="L2240">			info = new JavaOperationInfo(modifier);</span>
<span class="fc" id="L2241">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="fc" id="L2242">			info.setId(id);</span>
<span class="nc" id="L2243">		} catch (final SQLException e) {</span>
<span class="nc" id="L2244">			logger.debug(&quot;SQL Exception in deserializeJavaOperation&quot;, e);</span>
<span class="fc" id="L2245">		}</span>
<span class="fc" id="L2246">		return info;</span>
	}

	/**
	 * Deserialize PythonOperationInfo
	 * @param rs
	 *            Result set
	 * @return PythonOperationInfo
	 */
	private PythonOperationInfo deserializePythonOperation(final ResultSet rs) {
<span class="nc" id="L2256">		final PythonOperationInfo info = new PythonOperationInfo(); // no fields</span>
		try {
<span class="nc" id="L2258">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L2259">			info.setId(id);</span>
<span class="nc" id="L2260">		} catch (final SQLException e) {</span>
<span class="nc" id="L2261">			logger.debug(&quot;SQL Exception in deserializePythonOperation&quot;, e);</span>
<span class="nc" id="L2262">		}</span>
<span class="nc" id="L2263">		return info;</span>
	}

	/**
	 * Deserialize metaclass
	 * @param rs
	 *            Result set
	 * @return MetaClass
	 */
	private MetaClass deserializeMetaClass(
			final ResultSet rs) {
<span class="fc" id="L2274">		MetaClass metaClass = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="fc" id="L2277">			final MetaClassID classID = new MetaClassID((UUID)rs.getObject(&quot;id&quot;));</span>
<span class="fc" id="L2278">			final String namespace = rs.getString(&quot;namespace&quot;);</span>
<span class="fc" id="L2279">			final String name = rs.getString(&quot;name&quot;);</span>
<span class="fc" id="L2280">			final UUID parentTypeID = (UUID)rs.getObject(&quot;parentType&quot;);</span>
<span class="fc" id="L2281">			UserType parentType = null;</span>
<span class="pc bpc" id="L2282" title="1 of 2 branches missed.">			if (parentTypeID != null) {</span>
<span class="nc" id="L2283">				parentType = (UserType) getTypeByID(parentTypeID);</span>
			}

<span class="fc" id="L2286">			Array sqlArray = rs.getArray(&quot;properties&quot;);</span>
<span class="fc" id="L2287">			final SortedSet&lt;Property&gt; properties = new TreeSet&lt;&gt;();</span>
<span class="pc bpc" id="L2288" title="1 of 2 branches missed.">			if (sqlArray != null) {</span>
<span class="fc" id="L2289">				final UUID[] uuidArray = (UUID[]) sqlArray.getArray();</span>
<span class="fc bfc" id="L2290" title="All 2 branches covered.">				for (final UUID propUUID : uuidArray) {</span>
<span class="fc" id="L2291">					final Property prop = getPropertyByID(propUUID);</span>
<span class="fc" id="L2292">					properties.add(prop);</span>
				}
			}

<span class="fc" id="L2296">			sqlArray = rs.getArray(&quot;operations&quot;);</span>
<span class="fc" id="L2297">			final Set&lt;Operation&gt; operations = new HashSet&lt;&gt;();</span>
<span class="fc bfc" id="L2298" title="All 2 branches covered.">			if (sqlArray != null) {</span>
<span class="fc" id="L2299">				final UUID[] uuidArray = (UUID[]) sqlArray.getArray();</span>
<span class="fc bfc" id="L2300" title="All 2 branches covered.">				for (final UUID propUUID : uuidArray) {</span>
<span class="fc" id="L2301">					final Operation op = getOperationByID(propUUID);</span>
<span class="fc" id="L2302">					operations.add(op);</span>
				}
			}

<span class="fc" id="L2306">			final boolean isAbstract = rs.getBoolean(&quot;isAbstract&quot;);</span>
<span class="fc" id="L2307">			final NamespaceID namespaceID = new NamespaceID((UUID)rs.getObject(&quot;namespaceID&quot;));</span>

<span class="fc" id="L2309">			sqlArray = rs.getArray(&quot;extendedtypes&quot;);</span>
<span class="fc" id="L2310">			final Array extensionsArray = rs.getArray(&quot;extensions&quot;);</span>
<span class="fc" id="L2311">			final String[] typesNames = (String[]) sqlArray.getArray();</span>
<span class="fc" id="L2312">			final UUID[] uuidArray = (UUID[]) extensionsArray.getArray();</span>
<span class="fc" id="L2313">			final Map&lt;Langs, LanguageDependantClassInfo&gt; extensions = new HashMap&lt;&gt;();</span>
<span class="fc bfc" id="L2314" title="All 2 branches covered.">			for (int i = 0; i &lt; typesNames.length; ++i) {</span>
<span class="pc bpc" id="L2315" title="1 of 2 branches missed.">				if (typesNames[i].equals(Langs.LANG_JAVA.name())) {</span>
<span class="fc" id="L2316">					final JavaClassInfo info = this.getJavaClassByID(uuidArray[i]);</span>
<span class="fc" id="L2317">					extensions.put(Langs.LANG_JAVA, info);</span>
<span class="pc bnc" id="L2318" title="All 2 branches missed.">				} else if (typesNames[i].equals(Langs.LANG_PYTHON.name())) {</span>
<span class="nc" id="L2319">					final PythonClassInfo info = this.getPythonClassByID(uuidArray[i]);</span>
<span class="nc" id="L2320">					extensions.put(Langs.LANG_PYTHON, info);</span>
				}
			}

<span class="fc" id="L2324">			metaClass = new MetaClass(namespace, name,</span>
					parentType, isAbstract);

<span class="fc" id="L2327">			metaClass.setDataClayID(classID);</span>
<span class="fc" id="L2328">			metaClass.setLanguageDepInfos(extensions);</span>
<span class="fc" id="L2329">			metaClass.setNamespaceID(namespaceID);</span>
<span class="fc" id="L2330">			metaClass.setOperations(operations);</span>
<span class="fc" id="L2331">			metaClass.setProperties(properties);</span>

<span class="nc" id="L2333">		} catch (final SQLException e) {</span>
<span class="nc" id="L2334">			logger.debug(&quot;SQL Exception in deserializeMetaClass&quot;, e);</span>
<span class="fc" id="L2335">		}</span>
<span class="fc" id="L2336">		return metaClass;</span>
	}

	/**
	 * Deserialize JavaClassInfo
	 * @param rs
	 *            Result set
	 * @return JavaClassInfo
	 */
	private JavaClassInfo deserializeJavaClass(final ResultSet rs) {
<span class="fc" id="L2346">		JavaClassInfo info = null;</span>
		try {
<span class="fc" id="L2348">			final String signature = rs.getString(&quot;signature&quot;);</span>
<span class="fc" id="L2349">			final Array sqlArray = rs.getArray(&quot;javaParentInterfaces&quot;);</span>
<span class="fc" id="L2350">			String[] javaParentInterfaces = null;</span>
<span class="fc bfc" id="L2351" title="All 2 branches covered.">			if (sqlArray != null) {</span>
<span class="fc" id="L2352">				javaParentInterfaces = (String[]) sqlArray.getArray();</span>
			}
<span class="fc" id="L2354">			final byte[] bytecode = rs.getBytes(&quot;classByteCode&quot;);</span>

<span class="fc" id="L2356">			info = new JavaClassInfo(signature, bytecode);</span>
<span class="fc" id="L2357">			info.setJavaParentInterfaces(javaParentInterfaces);</span>
<span class="fc" id="L2358">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="fc" id="L2359">			info.setId(id);</span>
<span class="nc" id="L2360">		} catch (final SQLException e) {</span>

<span class="nc" id="L2362">			logger.debug(&quot;SQL Exception in deserializeJavaClass&quot;, e);</span>
<span class="fc" id="L2363">		}</span>
<span class="fc" id="L2364">		return info;</span>
	}

	/**
	 * Deserialize PythonClassInfo
	 * @param rs
	 *            Result set
	 * @return PythonClassInfo
	 */
	private PythonClassInfo deserializePythonClass(final ResultSet rs) {
<span class="nc" id="L2374">		PythonClassInfo info = null;</span>
		try {
<span class="nc" id="L2376">			final Array sqlArray = rs.getArray(&quot;importx&quot;);</span>
<span class="nc" id="L2377">			final List&lt;String&gt; importx = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L2378" title="All 2 branches missed.">			if (sqlArray != null) {</span>
<span class="nc bnc" id="L2379" title="All 2 branches missed.">				for (final String str : (String[]) sqlArray.getArray()) {</span>
<span class="nc" id="L2380">					importx.add(str);</span>
				}
			}

<span class="nc" id="L2384">			info = new PythonClassInfo(importx);</span>
<span class="nc" id="L2385">			final UUID id = (UUID)rs.getObject(&quot;id&quot;);</span>
<span class="nc" id="L2386">			info.setId(id);</span>
<span class="nc" id="L2387">		} catch (final SQLException e) {</span>
<span class="nc" id="L2388">			logger.debug(&quot;SQL Exception in deserializePythonClass&quot;, e);</span>
<span class="nc" id="L2389">		}</span>
<span class="nc" id="L2390">		return info;</span>
	}

	/**
	 * Get Type by ID
	 * @param typeID
	 *            ID of the type
	 * @return The type
	 * @throws SQLException
	 *             if type not found
	 */
	public Type getTypeByID(final UUID typeID) throws SQLException {
<span class="fc" id="L2402">		ResultSet rs = null;</span>
<span class="fc" id="L2403">		Type type = null;</span>
<span class="fc" id="L2404">		Connection conn = null;</span>
		try {
<span class="fc" id="L2406">			conn = dataSource.getConnection();</span>
<span class="fc" id="L2407">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_TYPE_BY_ID.getSqlStatement());</span>

<span class="fc" id="L2409">			selectStatement.setObject(1, typeID);</span>
<span class="pc bpc" id="L2410" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2411">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement + &quot;(&quot; + typeID + &quot;)&quot;);</span>
			}
<span class="fc" id="L2413">			rs = selectStatement.executeQuery();</span>
<span class="fc bfc" id="L2414" title="All 2 branches covered.">			if (rs.next()) {</span>
<span class="fc" id="L2415">				type = deserializeType(rs);</span>
			}
<span class="nc" id="L2417">		} catch (final SQLException e) {</span>
<span class="nc" id="L2418">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L2421">				rs.close();</span>
<span class="pc bpc" id="L2422" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L2423">					conn.close();</span>
				}
<span class="nc" id="L2425">			} catch (final SQLException e) {</span>
<span class="nc" id="L2426">				logger.debug(&quot;SQL Exception in getTypeByID&quot;, e);</span>
<span class="fc" id="L2427">			}</span>
		}

<span class="fc" id="L2430">		return type;</span>
	}

	/**
	 * Get JavaTypeInfo by ID
	 * @param uuid
	 *            ID
	 * @return The JavaTypeInfo
	 * @throws SQLException
	 *             if type not found
	 */
	private JavaTypeInfo getJavaTypeByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2442">		ResultSet rs = null;</span>
<span class="nc" id="L2443">		JavaTypeInfo type = null;</span>
<span class="nc" id="L2444">		Connection conn = null;</span>
		try {
<span class="nc" id="L2446">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2447">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_JAVA_TYPE_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2449">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2450" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2451">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2453">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2454" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2455">				type = deserializeJavaType(rs);</span>
			}
<span class="nc" id="L2457">		} catch (final SQLException e) {</span>
<span class="nc" id="L2458">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2461">				rs.close();</span>
<span class="nc bnc" id="L2462" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2463">					conn.close();</span>
				}
<span class="nc" id="L2465">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2466">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2467">			}</span>
		}

<span class="nc" id="L2470">		return type;</span>
	}

	/**
	 * Get PythonTypeInfo by ID
	 * @param uuid
	 *            ID
	 * @return The PythonTypeInfo
	 * @throws SQLException
	 *             if type not found
	 */
	private PythonTypeInfo getPythonTypeByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2482">		ResultSet rs = null;</span>
<span class="nc" id="L2483">		PythonTypeInfo type = null;</span>
<span class="nc" id="L2484">		Connection conn = null;</span>
		try {
<span class="nc" id="L2486">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2487">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PYTHON_TYPE_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2489">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2490" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2491">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2493">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2494" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2495">				type = deserializePythonType(rs);</span>
			}
<span class="nc" id="L2497">		} catch (final SQLException e) {</span>
<span class="nc" id="L2498">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2501">				rs.close();</span>
<span class="nc bnc" id="L2502" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2503">					conn.close();</span>
				}
<span class="nc" id="L2505">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2506">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2507">			}</span>
		}

<span class="nc" id="L2510">		return type;</span>
	}

	/**
	 * Get Property by ID
	 * @param typeID
	 *            ID of the Property
	 * @return The Property
	 * @throws SQLException
	 *             if type not found
	 */
	private Property getPropertyByID(final UUID propertyID) throws SQLException {
<span class="fc" id="L2522">		ResultSet rs = null;</span>
<span class="fc" id="L2523">		Property property = null;</span>
<span class="fc" id="L2524">		Connection conn = null;</span>
		try {
<span class="fc" id="L2526">			conn = dataSource.getConnection();</span>
<span class="fc" id="L2527">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PROPERTY_BY_ID.getSqlStatement());</span>

<span class="fc" id="L2529">			selectStatement.setObject(1, propertyID);</span>
<span class="pc bpc" id="L2530" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2531">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L2533">			rs = selectStatement.executeQuery();</span>
<span class="fc bfc" id="L2534" title="All 2 branches covered.">			if (rs.next()) {</span>
<span class="fc" id="L2535">				property = deserializeProperty(rs);</span>
			}
<span class="nc" id="L2537">		} catch (final SQLException e) {</span>
<span class="nc" id="L2538">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L2541">				rs.close();</span>
<span class="pc bpc" id="L2542" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L2543">					conn.close();</span>
				}
<span class="nc" id="L2545">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2546">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L2547">			}</span>
		}
<span class="fc" id="L2549">		return property;</span>
	}

	/**
	 * Get Annotation by ID
	 * @param annotationID
	 *            ID of the Property
	 * @return The annotation
	 * @throws SQLException
	 *             if annotation not found
	 */
	private Annotation getAnnotationByID(final UUID annotationID) throws SQLException {
<span class="nc" id="L2561">		ResultSet rs = null;</span>
<span class="nc" id="L2562">		Annotation annotation = null;</span>
<span class="nc" id="L2563">		Connection conn = null;</span>
		try {
<span class="nc" id="L2565">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2566">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_ANNOTATION_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2568">			selectStatement.setObject(1, annotationID);</span>
<span class="nc bnc" id="L2569" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2570">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2572">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2573" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2574">				annotation = deserializeAnnotation(rs);</span>
			}
<span class="nc" id="L2576">		} catch (final SQLException e) {</span>
<span class="nc" id="L2577">			logger.debug(&quot;SQL Exception in getAnnotationByID&quot;, e);</span>
<span class="nc" id="L2578">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2581">				rs.close();</span>
<span class="nc bnc" id="L2582" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2583">					conn.close();</span>
				}
<span class="nc" id="L2585">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2586">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2587">			}</span>
		}

<span class="nc" id="L2590">		return annotation;</span>
	}

	/**
	 * Get JavaPropertyInfo by ID
	 * @param uuid
	 *            ID of the JavaPropertyInfo
	 * @return The JavaPropertyInfo
	 * @throws SQLException
	 *             if JavaPropertyInfo not found
	 */
	private JavaPropertyInfo getJavaPropertyByID(final UUID uuid) throws SQLException {
<span class="fc" id="L2602">		ResultSet rs = null;</span>
<span class="fc" id="L2603">		JavaPropertyInfo property = null;</span>
<span class="fc" id="L2604">		Connection conn = null;</span>
		try {
<span class="fc" id="L2606">			conn = dataSource.getConnection();</span>
<span class="fc" id="L2607">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_JAVA_PROPERTY_BY_ID.getSqlStatement());</span>

<span class="fc" id="L2609">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L2610" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2611">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L2613">			rs = selectStatement.executeQuery();</span>

<span class="pc bpc" id="L2615" title="1 of 2 branches missed.">			if (rs.next()) {</span>
<span class="fc" id="L2616">				property = deserializeJavaProperty(rs);</span>
			}
<span class="nc" id="L2618">		} catch (final SQLException e) {</span>
<span class="nc" id="L2619">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L2622">				rs.close();</span>
<span class="pc bpc" id="L2623" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L2624">					conn.close();</span>
				}
<span class="nc" id="L2626">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2627">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L2628">			}</span>
		}

<span class="fc" id="L2631">		return property;</span>
	}

	/**
	 * Get PythonPropertyInfo by ID
	 * @param uuid
	 *            ID of the PythonPropertyInfo
	 * @return The PythonPropertyInfo
	 * @throws SQLException
	 *             if PythonPropertyInfo not found
	 */
	private PythonPropertyInfo getPythonPropertyByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2643">		ResultSet rs = null;</span>
<span class="nc" id="L2644">		PythonPropertyInfo property = null;</span>
<span class="nc" id="L2645">		Connection conn = null;</span>
		try {
<span class="nc" id="L2647">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2648">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PYTHON_PROPERTY_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2650">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2651" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2652">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2654">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2655" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2656">				property = deserializePythonProperty(rs);</span>
			}
<span class="nc" id="L2658">		} catch (final SQLException e) {</span>
<span class="nc" id="L2659">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2662">				rs.close();</span>
<span class="nc bnc" id="L2663" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2664">					conn.close();</span>
				}
<span class="nc" id="L2666">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2667">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2668">			}</span>
		}

<span class="nc" id="L2671">		return property;</span>
	}

	/**
	 * Get AccessedImplementation by ID
	 * @param uuid
	 *            ID of the AccessedImplementation
	 * @return The AccessedImplementation
	 * @throws SQLException
	 *             if type not found
	 */
	private AccessedImplementation getAccessedImplementationByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2683">		ResultSet rs = null;</span>
<span class="nc" id="L2684">		AccessedImplementation result = null;</span>
<span class="nc" id="L2685">		Connection conn = null;</span>
		try {
<span class="nc" id="L2687">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2688">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_ACCESSED_IMPL_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2690">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2691" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2692">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2694">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2695" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2696">				result = deserializeAccessedImplementation(rs);</span>
			}
<span class="nc" id="L2698">		} catch (final SQLException e) {</span>
<span class="nc" id="L2699">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2702">				rs.close();</span>
<span class="nc bnc" id="L2703" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2704">					conn.close();</span>
				}
<span class="nc" id="L2706">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2707">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2708">			}</span>
		}

<span class="nc" id="L2711">		return result;</span>
	}

	/**
	 * Get AccessedProperty by ID
	 * @param uuid
	 *            ID of the AccessedProperty
	 * @return The AccessedProperty
	 * @throws SQLException
	 *             if type not found
	 */
	private AccessedProperty getAccessedPropertyByID(final UUID uuid) throws SQLException {
<span class="fc" id="L2723">		ResultSet rs = null;</span>
<span class="fc" id="L2724">		AccessedProperty result = null;</span>
<span class="fc" id="L2725">		Connection conn = null;</span>
		try {
<span class="fc" id="L2727">			conn = dataSource.getConnection();</span>
<span class="fc" id="L2728">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_ACCESSED_PROP_BY_ID.getSqlStatement());</span>

<span class="fc" id="L2730">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L2731" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2732">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L2734">			rs = selectStatement.executeQuery();</span>
<span class="pc bpc" id="L2735" title="1 of 2 branches missed.">			if (rs.next()) {</span>
<span class="fc" id="L2736">				result = deserializeAccessedProperty(rs);</span>
			}
<span class="nc" id="L2738">		} catch (final SQLException e) {</span>
<span class="nc" id="L2739">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L2742">				rs.close();</span>
<span class="pc bpc" id="L2743" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L2744">					conn.close();</span>
				}
<span class="nc" id="L2746">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2747">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L2748">			}</span>
		}

<span class="fc" id="L2751">		return result;</span>
	}

	/**
	 * Get MemoryFeature by ID
	 * @param uuid
	 *            ID of the MemoryFeature
	 * @return The MemoryFeature
	 * @throws SQLException
	 *             if type not found
	 */
	private MemoryFeature getMemoryFeatureByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2763">		ResultSet rs = null;</span>
<span class="nc" id="L2764">		MemoryFeature result = null;</span>
<span class="nc" id="L2765">		Connection conn = null;</span>
		try {
<span class="nc" id="L2767">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2768">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_MEMORY_FEATURE_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2770">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2771" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2772">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2774">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2775" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2776">				result = deserializeMemoryFeature(rs);</span>
			}
<span class="nc" id="L2778">		} catch (final SQLException e) {</span>
<span class="nc" id="L2779">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2782">				rs.close();</span>
<span class="nc bnc" id="L2783" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2784">					conn.close();</span>
				}
<span class="nc" id="L2786">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2787">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2788">			}</span>
		}

<span class="nc" id="L2791">		return result;</span>
	}

	/**
	 * Get CPUFeature by ID
	 * @param uuid
	 *            ID of the CPUFeature
	 * @return The CPUFeature
	 * @throws SQLException
	 *             if type not found
	 */
	private CPUFeature getCPUFeatureByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2803">		ResultSet rs = null;</span>
<span class="nc" id="L2804">		CPUFeature result = null;</span>
<span class="nc" id="L2805">		Connection conn = null;</span>
		try {
<span class="nc" id="L2807">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2808">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_CPU_FEATURE_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2810">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2811" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2812">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2814">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2815" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2816">				result = deserializeCPUFeature(rs);</span>
			}
<span class="nc" id="L2818">		} catch (final SQLException e) {</span>
<span class="nc" id="L2819">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2822">				rs.close();</span>
<span class="nc bnc" id="L2823" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2824">					conn.close();</span>
				}
<span class="nc" id="L2826">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2827">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2828">			}</span>
		}

<span class="nc" id="L2831">		return result;</span>
	}

	/**
	 * Get LanguageFeature by ID
	 * @param uuid
	 *            ID of the LanguageFeature
	 * @return The LanguageFeature
	 * @throws SQLException
	 *             if type not found
	 */
	private LanguageFeature getLanguageFeatureByID(final UUID uuid) throws SQLException {
<span class="fc" id="L2843">		ResultSet rs = null;</span>
<span class="fc" id="L2844">		LanguageFeature result = null;</span>
<span class="fc" id="L2845">		Connection conn = null;</span>
		try {
<span class="fc" id="L2847">			conn = dataSource.getConnection();</span>
<span class="fc" id="L2848">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_LANGUAGE_FEATURE_BY_ID.getSqlStatement());</span>

<span class="fc" id="L2850">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L2851" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2852">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L2854">			rs = selectStatement.executeQuery();</span>
<span class="pc bpc" id="L2855" title="1 of 2 branches missed.">			if (rs.next()) {</span>
<span class="fc" id="L2856">				result = deserializeLanguageFeature(rs);</span>
			}
<span class="nc" id="L2858">		} catch (final SQLException e) {</span>
<span class="nc" id="L2859">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L2862">				rs.close();</span>
<span class="pc bpc" id="L2863" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L2864">					conn.close();</span>
				}
<span class="nc" id="L2866">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2867">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L2868">			}</span>
		}

<span class="fc" id="L2871">		return result;</span>
	}

	/**
	 * Get ArchitectureFeature by ID
	 * @param uuid
	 *            ID of the ArchitectureFeature
	 * @return The ArchitectureFeature
	 * @throws SQLException
	 *             if type not found
	 */
	private ArchitectureFeature getArchitectureFeatureByID(final UUID uuid) throws SQLException {
<span class="nc" id="L2883">		ResultSet rs = null;</span>
<span class="nc" id="L2884">		ArchitectureFeature result = null;</span>
<span class="nc" id="L2885">		Connection conn = null;</span>
		try {
<span class="nc" id="L2887">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2888">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_ARCH_FEATURE_BY_ID.getSqlStatement());</span>

<span class="nc" id="L2890">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2891" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2892">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2894">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2895" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2896">				result = deserializeArchitectureFeature(rs);</span>
			}
<span class="nc" id="L2898">		} catch (final SQLException e) {</span>
<span class="nc" id="L2899">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2902">				rs.close();</span>
<span class="nc bnc" id="L2903" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2904">					conn.close();</span>
				}
<span class="nc" id="L2906">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2907">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2908">			}</span>
		}

<span class="nc" id="L2911">		return result;</span>
	}

	/**
	 * Get PrefetchingInformation by ID
	 * @param uuid
	 *            ID of the PrefetchingInformation
	 * @return The PrefetchingInformation
	 * @throws SQLException
	 *             if type not found
	 */
	private PrefetchingInformation getPrefetchingInfoByID(final UUID uuid) throws SQLException {
<span class="fc" id="L2923">		ResultSet rs = null;</span>
<span class="fc" id="L2924">		PrefetchingInformation result = null;</span>
<span class="fc" id="L2925">		Connection conn = null;</span>
		try {
<span class="fc" id="L2927">			conn = dataSource.getConnection();</span>
<span class="fc" id="L2928">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PREFETCHING_INFO_BY_ID.getSqlStatement());</span>

<span class="fc" id="L2930">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L2931" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2932">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L2934">			rs = selectStatement.executeQuery();</span>
<span class="pc bpc" id="L2935" title="1 of 2 branches missed.">			if (rs.next()) {</span>
<span class="fc" id="L2936">				result = deserializePrefetchingInfo(rs);</span>
			}
<span class="nc" id="L2938">		} catch (final SQLException e) {</span>
<span class="nc" id="L2939">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L2942">				rs.close();</span>
<span class="pc bpc" id="L2943" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L2944">					conn.close();</span>
				}
<span class="nc" id="L2946">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2947">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L2948">			}</span>
		}

<span class="fc" id="L2951">		return result;</span>
	}

	/**
	 * Given a PythonImplementationID, return specifically its code
	 * 
	 * @param uuid
	 *            ID of the PythonImplementation
	 * @return
	 * @throws SQLException
	 */
	private String getPythonCodeByImplementationID(final UUID uuid) throws SQLException {
<span class="nc" id="L2963">		ResultSet rs = null;</span>
<span class="nc" id="L2964">		String res = null;</span>
<span class="nc" id="L2965">		Connection conn = null;</span>
		try {
<span class="nc" id="L2967">			conn = dataSource.getConnection();</span>
<span class="nc" id="L2968">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PYTHON_CODE_BY_IMPLEMENTATION_ID.getSqlStatement());</span>

<span class="nc" id="L2970">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L2971" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L2972">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L2974">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L2975" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L2976">				res = rs.getString(1);</span>
			}
<span class="nc" id="L2978">		} catch (final SQLException e) {</span>
<span class="nc" id="L2979">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L2982">				rs.close();</span>
<span class="nc bnc" id="L2983" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L2984">					conn.close();</span>
				}
<span class="nc" id="L2986">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L2987">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L2988">			}</span>
		}
<span class="nc" id="L2990">		return res;</span>
	}

	/**
	 * Get Implementation by ID
	 * @param uuid
	 *            ID of the Implementation
	 * @return The Implementation
	 * @throws SQLException
	 *             if Operation not found
	 */
	private Implementation getImplementationByID(final UUID uuid) throws SQLException {
<span class="fc" id="L3002">		ResultSet rs = null;</span>
<span class="fc" id="L3003">		Implementation info = null;</span>
<span class="fc" id="L3004">		Connection conn = null;</span>
		// TODO fix this: first tries java and then python
		try {
<span class="fc" id="L3007">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3008">			PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_JAVA_IMPLEMENTATION_BY_ID.getSqlStatement());</span>

<span class="fc" id="L3010">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L3011" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3012">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L3014">			rs = selectStatement.executeQuery();</span>
<span class="fc bfc" id="L3015" title="All 2 branches covered.">			if (rs.next()) {</span>
<span class="fc" id="L3016">				info = deserializeImplementation(&quot;java_implementation&quot;, rs);</span>
			}else {
<span class="fc" id="L3018">				conn = dataSource.getConnection();</span>
<span class="fc" id="L3019">				selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PYTHON_IMPLEMENTATION_BY_ID.getSqlStatement());</span>

<span class="fc" id="L3021">				selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L3022" title="1 of 2 branches missed.">				if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3023">					logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
				}
<span class="fc" id="L3025">				rs = selectStatement.executeQuery();</span>
<span class="pc bpc" id="L3026" title="1 of 2 branches missed.">				if (rs.next()) {</span>
<span class="nc" id="L3027">					info = deserializeImplementation(&quot;python_implementation&quot;, rs);</span>
				}
			}
<span class="nc" id="L3030">		} catch (final SQLException e) {</span>
<span class="nc" id="L3031">			e.printStackTrace();</span>
<span class="nc" id="L3032">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L3035">				rs.close();</span>
<span class="pc bpc" id="L3036" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3037">					conn.close();</span>
				}
<span class="nc" id="L3039">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3040">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3041">			}</span>
		}

<span class="fc" id="L3044">		return info;</span>
	}

	/**
	 * Get Operation by ID
	 * @param uuid
	 *            ID of the Operation
	 * @return The Operation
	 * @throws SQLException
	 *             if Operation not found
	 */
	private Operation getOperationByID(final UUID uuid) throws SQLException {
<span class="fc" id="L3056">		ResultSet rs = null;</span>
<span class="fc" id="L3057">		Operation info = null;</span>
<span class="fc" id="L3058">		Connection conn = null;</span>
		try {
<span class="fc" id="L3060">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3061">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_OPERATION_BY_ID.getSqlStatement());</span>

<span class="fc" id="L3063">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L3064" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3065">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement + &quot;(&quot; + uuid + &quot;)&quot;);</span>
			}
<span class="fc" id="L3067">			rs = selectStatement.executeQuery();</span>
<span class="fc bfc" id="L3068" title="All 2 branches covered.">			if (rs.next()) {</span>
<span class="fc" id="L3069">				info = deserializeOperation(rs);</span>
			}
<span class="nc" id="L3071">		} catch (final SQLException e) {</span>
<span class="nc" id="L3072">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L3075">				rs.close();</span>
<span class="pc bpc" id="L3076" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3077">					conn.close();</span>
				}
<span class="nc" id="L3079">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3080">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3081">			}</span>
		}

<span class="fc" id="L3084">		return info;</span>
	}

	/**
	 * Get JavaOperationInfo by ID
	 * @param uuid
	 *            ID of the JavaOperationInfo
	 * @return The JavaOperationInfo
	 * @throws SQLException
	 *             if JavaOperationInfo not found
	 */
	private JavaOperationInfo getJavaOperationByID(final UUID uuid) throws SQLException {
<span class="fc" id="L3096">		ResultSet rs = null;</span>
<span class="fc" id="L3097">		JavaOperationInfo info = null;</span>
<span class="fc" id="L3098">		Connection conn = null;</span>
		try {
<span class="fc" id="L3100">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3101">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_JAVA_OPERATION_BY_ID.getSqlStatement());</span>

<span class="fc" id="L3103">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L3104" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3105">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L3107">			rs = selectStatement.executeQuery();</span>
<span class="pc bpc" id="L3108" title="1 of 2 branches missed.">			if (rs.next()) {</span>
<span class="fc" id="L3109">				info = deserializeJavaOperation(rs);</span>
			}
<span class="nc" id="L3111">		} catch (final SQLException e) {</span>
<span class="nc" id="L3112">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L3115">				rs.close();</span>
<span class="pc bpc" id="L3116" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3117">					conn.close();</span>
				}
<span class="nc" id="L3119">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3120">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3121">			}</span>
		}

<span class="fc" id="L3124">		return info;</span>
	}

	/**
	 * Get PythonOperationInfo by ID
	 * @param uuid
	 *            ID of the PythonOperationInfo
	 * @return The PythonOperationInfo
	 * @throws SQLException
	 *             if PythonOperationInfo not found
	 */
	private PythonOperationInfo getPythonOperationByID(final UUID uuid) throws SQLException {
<span class="nc" id="L3136">		ResultSet rs = null;</span>
<span class="nc" id="L3137">		PythonOperationInfo info = null;</span>
<span class="nc" id="L3138">		Connection conn = null;</span>
		try {
<span class="nc" id="L3140">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3141">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PYTHON_OPERATION_BY_ID.getSqlStatement());</span>

<span class="nc" id="L3143">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L3144" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3145">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L3147">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L3148" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L3149">				info = deserializePythonOperation(rs);</span>
			}
<span class="nc" id="L3151">		} catch (final SQLException e) {</span>
<span class="nc" id="L3152">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L3155">				rs.close();</span>
<span class="nc bnc" id="L3156" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3157">					conn.close();</span>
				}
<span class="nc" id="L3159">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3160">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3161">			}</span>
		}

<span class="nc" id="L3164">		return info;</span>
	}

	/**
	 * Get MetaClass by ID
	 * @param metaClassID
	 *            ID of the object
	 * @return The MetaClass
	 * @throws SQLException
	 *             if not found
	 */
	private MetaClass getMetaClassByID(final UUID metaClassID) throws SQLException {
<span class="fc" id="L3176">		ResultSet rs = null;</span>
<span class="fc" id="L3177">		MetaClass mClass = null;</span>
<span class="fc" id="L3178">		Connection conn = null;</span>
		try {
<span class="fc" id="L3180">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3181">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_METACLASS_BY_ID.getSqlStatement());</span>

<span class="fc" id="L3183">			selectStatement.setObject(1, metaClassID);</span>
<span class="pc bpc" id="L3184" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3185">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L3187">			rs = selectStatement.executeQuery();</span>
<span class="fc bfc" id="L3188" title="All 2 branches covered.">			if (rs.next()) {</span>
<span class="fc" id="L3189">				mClass = deserializeMetaClass(rs);</span>
			}
<span class="nc" id="L3191">		} catch (final SQLException e) {</span>
<span class="nc" id="L3192">			logger.debug(&quot;SQL Exception in getMetaClassByID&quot;, e);</span>
<span class="nc" id="L3193">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L3196">				rs.close();</span>
<span class="pc bpc" id="L3197" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3198">					conn.close();</span>
				}
<span class="nc" id="L3200">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3201">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3202">			}</span>
		}

<span class="fc" id="L3205">		return mClass;</span>
	}

	/**
	 * Get JavaClassInfo by ID
	 * @param uuid
	 *            ID of the JavaClassInfo
	 * @return The JavaClassInfo
	 * @throws SQLException
	 *             if JavaClassInfo not found
	 */
	private JavaClassInfo getJavaClassByID(final UUID uuid) throws SQLException {
<span class="fc" id="L3217">		ResultSet rs = null;</span>
<span class="fc" id="L3218">		JavaClassInfo info = null;</span>
<span class="fc" id="L3219">		Connection conn = null;</span>
		try {
<span class="fc" id="L3221">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3222">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_JAVA_METACLASS_BY_ID.getSqlStatement());</span>

<span class="fc" id="L3224">			selectStatement.setObject(1, uuid);</span>
<span class="pc bpc" id="L3225" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3226">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="fc" id="L3228">			rs = selectStatement.executeQuery();</span>
<span class="pc bpc" id="L3229" title="1 of 2 branches missed.">			if (rs.next()) {</span>
<span class="fc" id="L3230">				info = deserializeJavaClass(rs);</span>
			}
<span class="nc" id="L3232">		} catch (final SQLException e) {</span>
<span class="nc" id="L3233">			throw e;</span>
		} finally {
			try {
<span class="fc" id="L3236">				rs.close();</span>
<span class="pc bpc" id="L3237" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3238">					conn.close();</span>
				}
<span class="nc" id="L3240">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3241">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3242">			}</span>
		}

<span class="fc" id="L3245">		return info;</span>
	}

	/**
	 * Get PythonClassInfo by ID
	 * @param uuid
	 *            ID of the PythonClassInfo
	 * @return The PythonClassInfo
	 * @throws SQLException
	 *             if PythonClassInfo not found
	 */
	private PythonClassInfo getPythonClassByID(final UUID uuid) throws SQLException {
<span class="nc" id="L3257">		ResultSet rs = null;</span>
<span class="nc" id="L3258">		PythonClassInfo info = null;</span>
<span class="nc" id="L3259">		Connection conn = null;</span>
		try {
<span class="nc" id="L3261">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3262">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PYTHON_METACLASS_BY_ID.getSqlStatement());</span>

<span class="nc" id="L3264">			selectStatement.setObject(1, uuid);</span>
<span class="nc bnc" id="L3265" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3266">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L3268">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L3269" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L3270">				info = deserializePythonClass(rs);</span>
			}
<span class="nc" id="L3272">		} catch (final SQLException e) {</span>
<span class="nc" id="L3273">			throw e;</span>
		} finally {
			try {
<span class="nc" id="L3276">				rs.close();</span>
<span class="nc bnc" id="L3277" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3278">					conn.close();</span>
				}
<span class="nc" id="L3280">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3281">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3282">			}</span>
		}

<span class="nc" id="L3285">		return info;</span>
	}

	/**
	 * Get MetaClass by ID
	 * @param metaClassID
	 *            ID of the object
	 * @return The MetaClass
	 */
	public MetaClass getMetaClassByID(final MetaClassID metaClassID) {
		try {
<span class="fc" id="L3296">			return getMetaClassByID(metaClassID.getId());</span>
<span class="nc" id="L3297">		} catch (final SQLException e) {</span>
<span class="nc" id="L3298">			throw new DbObjectNotExistException(metaClassID);</span>
		}
	}

	/**
	 * Get Operation by ID
	 * @param id
	 *            ID of the object
	 * @return The Operation
	 */
	public Operation getOperationByID(final OperationID id) {
		try {
<span class="fc" id="L3310">			return getOperationByID(id.getId());</span>
<span class="nc" id="L3311">		} catch (final SQLException e) {</span>
<span class="nc" id="L3312">			throw new DbObjectNotExistException(id);</span>
		}
	}

	/**
	 * Get Property by ID
	 * @param id
	 *            ID of the object
	 * @return The Property
	 */
	public Property getPropertyByID(final PropertyID id) {
		try {
<span class="fc" id="L3324">			return getPropertyByID(id.getId());</span>
<span class="nc" id="L3325">		} catch (final SQLException e) {</span>
<span class="nc" id="L3326">			throw new DbObjectNotExistException(id);</span>
		}
	}

	/**
	 * Get Implementation by ID
	 * @param id
	 *            ID of the object
	 * @return The Property
	 */
	public Implementation getImplementationByID(final ImplementationID id) {
		try {
<span class="fc" id="L3338">			return getImplementationByID(id.getId());</span>
<span class="nc" id="L3339">		} catch (final SQLException e) {</span>
<span class="nc" id="L3340">			throw new DbObjectNotExistException(id);</span>
		}
	}

	/**
	 * Delete accessedImplementation
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteAccessedImplementation(final UUID uuid) {
<span class="nc" id="L3350">		Connection conn = null;</span>
		try {
<span class="nc" id="L3352">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3353">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_ACCESSED_IMPL_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3354">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3356" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3357">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3359">			stmt.executeUpdate();</span>

<span class="nc" id="L3361">		} catch (final Exception e) {</span>
<span class="nc" id="L3362">			logger.debug(&quot;SQL Exception in deleteAccessedImplementation&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3365" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3366">					conn.close();</span>
				}
<span class="nc" id="L3368">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3369">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3370">			}</span>
		}
<span class="nc" id="L3372">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteAccessedProperty(final UUID uuid) {
<span class="fc" id="L3380">		Connection conn = null;</span>
		try {
<span class="fc" id="L3382">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3383">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_ACCESSED_PROP_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3384">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3386" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3387">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L3389">			stmt.executeUpdate();</span>

<span class="nc" id="L3391">		} catch (final Exception e) {</span>
<span class="nc" id="L3392">			logger.debug(&quot;SQL Exception in deleteAccessedProperty&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3395" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3396">					conn.close();</span>
				}
<span class="nc" id="L3398">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3399">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3400">			}</span>
		}
<span class="fc" id="L3402">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteJavaTypeInfo(final UUID uuid) {
<span class="nc" id="L3410">		Connection conn = null;</span>
		try {
<span class="nc" id="L3412">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3413">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_TYPE_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3414">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3416" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3417">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3419">			stmt.executeUpdate();</span>

<span class="nc" id="L3421">		} catch (final Exception e) {</span>
<span class="nc" id="L3422">			logger.debug(&quot;SQL Exception in deleteJavaTypeInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3425" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3426">					conn.close();</span>
				}
<span class="nc" id="L3428">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3429">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3430">			}</span>
		}
<span class="nc" id="L3432">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deletePythonTypeInfo(final UUID uuid) {
<span class="nc" id="L3440">		Connection conn = null;</span>
		try {
<span class="nc" id="L3442">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3443">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_PYTHON_TYPE_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3444">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3446" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3447">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3449">			stmt.executeUpdate();</span>

<span class="nc" id="L3451">		} catch (final Exception e) {</span>
<span class="nc" id="L3452">			logger.debug(&quot;SQL Exception in deletePythonTypeInfo&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3455" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3456">					conn.close();</span>
				}
<span class="nc" id="L3458">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3459">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3460">			}</span>
		}
<span class="nc" id="L3462">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteType(final UUID uuid) {

		// Get type
		try {
<span class="fc" id="L3473">			final Type typeToDelete = getTypeByID(uuid);</span>
<span class="fc" id="L3474">			final Map&lt;Langs, LanguageDependantTypeInfo&gt; extensions = typeToDelete.getLanguageDepInfos();</span>
<span class="pc bpc" id="L3475" title="1 of 2 branches missed.">			for (final Entry&lt;Langs, LanguageDependantTypeInfo&gt; curEntry : extensions.entrySet()) {</span>
<span class="nc" id="L3476">				final Langs lang = curEntry.getKey();</span>
<span class="nc bnc" id="L3477" title="All 4 branches missed.">				switch (lang) {</span>
				case LANG_JAVA:
<span class="nc" id="L3479">					final JavaTypeInfo javaInfo = (JavaTypeInfo) curEntry.getValue();</span>
<span class="nc" id="L3480">					this.deleteJavaTypeInfo(javaInfo.getId());</span>
<span class="nc" id="L3481">					break;</span>
				case LANG_NONE:
<span class="nc" id="L3483">					break;</span>
				case LANG_PYTHON:
<span class="nc" id="L3485">					final PythonTypeInfo info = (PythonTypeInfo) curEntry.getValue();</span>
<span class="nc" id="L3486">					this.deletePythonTypeInfo(info.getId());</span>
<span class="nc" id="L3487">					break;</span>
				default:
					break;
				}
<span class="nc" id="L3491">			}</span>

			// Delete includes
<span class="pc bpc" id="L3494" title="1 of 2 branches missed.">			for (final Type included : typeToDelete.getIncludes()) {</span>
<span class="nc" id="L3495">				this.deleteType(included.getId());</span>
<span class="nc" id="L3496">			}</span>

<span class="nc" id="L3498">		} catch (final SQLException e1) {</span>
<span class="nc" id="L3499">			logger.debug(&quot;SQL Exception in deleteType&quot;, e1);</span>
<span class="fc" id="L3500">		}</span>

<span class="fc" id="L3502">		Connection conn = null;</span>
		try {
<span class="fc" id="L3504">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3505">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_TYPE_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3506">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3508" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3509">				logger.debug(&quot;[==DB==] Executing &quot; + stmt + &quot;(&quot; + uuid + &quot;)&quot;);</span>
			}
<span class="fc" id="L3511">			stmt.executeUpdate();</span>

<span class="nc" id="L3513">		} catch (final Exception e) {</span>
<span class="nc" id="L3514">			logger.debug(&quot;SQL Exception in deleteType&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3517" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3518">					conn.close();</span>
				}
<span class="nc" id="L3520">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3521">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3522">			}</span>
		}
<span class="fc" id="L3524">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteMemoryFeature(final UUID uuid) {
<span class="nc" id="L3532">		Connection conn = null;</span>
		try {
<span class="nc" id="L3534">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3535">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_MEMORY_FEATURE_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3536">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3538" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3539">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3541">			stmt.executeUpdate();</span>

<span class="nc" id="L3543">		} catch (final Exception e) {</span>
<span class="nc" id="L3544">			logger.debug(&quot;SQL Exception in deleteMemoryFeature&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3547" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3548">					conn.close();</span>
				}
<span class="nc" id="L3550">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3551">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3552">			}</span>
		}
<span class="nc" id="L3554">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteCPUFeature(final UUID uuid) {
<span class="nc" id="L3562">		Connection conn = null;</span>
		try {
<span class="nc" id="L3564">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3565">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_CPU_FEATURE_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3566">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3568" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3569">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3571">			stmt.executeUpdate();</span>

<span class="nc" id="L3573">		} catch (final Exception e) {</span>
<span class="nc" id="L3574">			logger.debug(&quot;SQL Exception in deleteCPUFeature&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3577" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3578">					conn.close();</span>
				}
<span class="nc" id="L3580">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3581">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3582">			}</span>
		}
<span class="nc" id="L3584">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteLanguageFeature(final UUID uuid) {
<span class="fc" id="L3592">		Connection conn = null;</span>
		try {
<span class="fc" id="L3594">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3595">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_LANGUAGE_FEATURE_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3596">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3598" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3599">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L3601">			stmt.executeUpdate();</span>

<span class="nc" id="L3603">		} catch (final Exception e) {</span>
<span class="nc" id="L3604">			logger.debug(&quot;SQL Exception in deleteLanguageFeature&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3607" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3608">					conn.close();</span>
				}
<span class="nc" id="L3610">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3611">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3612">			}</span>
		}
<span class="fc" id="L3614">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteArchitectureFeature(final UUID uuid) {
<span class="nc" id="L3622">		Connection conn = null;</span>
		try {
<span class="nc" id="L3624">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3625">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_ARCH_FEATURE_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3626">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3628" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3629">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3631">			stmt.executeUpdate();</span>

<span class="nc" id="L3633">		} catch (final Exception e) {</span>
<span class="nc" id="L3634">			logger.debug(&quot;SQL Exception in deleteArchitectureFeature&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3637" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3638">					conn.close();</span>
				}
<span class="nc" id="L3640">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3641">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3642">			}</span>
		}
<span class="nc" id="L3644">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deletePrefetchingInfo(final UUID uuid) {

<span class="fc" id="L3653">		Connection conn = null;</span>
		try {
<span class="fc" id="L3655">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3656">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_PREFETCHING_INFO_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3657">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3659" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3660">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L3662">			stmt.executeUpdate();</span>

<span class="nc" id="L3664">		} catch (final Exception e) {</span>
<span class="nc" id="L3665">			logger.debug(&quot;SQL Exception in deletePrefetchingInfo&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3668" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3669">					conn.close();</span>
				}
<span class="nc" id="L3671">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3672">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3673">			}</span>
		}
<span class="fc" id="L3675">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteJavaImplementation(final UUID uuid) {

		try {
<span class="fc" id="L3685">			final JavaImplementation implementation = (JavaImplementation) this.getImplementationByID(uuid);</span>

			// Includes
<span class="fc bfc" id="L3688" title="All 2 branches covered.">			for (final Type included : implementation.getIncludes()) {</span>
<span class="fc" id="L3689">				this.deleteType(included.getId());</span>
<span class="fc" id="L3690">			}</span>

			// Acc. props
<span class="fc bfc" id="L3693" title="All 2 branches covered.">			for (final AccessedProperty accProp : implementation.getAccessedProperties()) {</span>
<span class="fc" id="L3694">				this.deleteAccessedProperty(accProp.getId());</span>
<span class="fc" id="L3695">			}</span>

			// Acc. impls
<span class="pc bpc" id="L3698" title="1 of 2 branches missed.">			for (final AccessedImplementation accImpl : implementation.getAccessedImplementations()) {</span>
<span class="nc" id="L3699">				this.deleteAccessedImplementation(accImpl.getId());</span>
<span class="nc" id="L3700">			}</span>

			// Features
<span class="pc bpc" id="L3703" title="1 of 2 branches missed.">			for (final Entry&lt;FeatureType, QuantitativeFeature&gt; curEntry : implementation.getRequiredQuantitativeFeatures().entrySet()) {</span>
<span class="nc" id="L3704">				final QuantitativeFeature qfeature = curEntry.getValue();</span>
<span class="nc bnc" id="L3705" title="All 3 branches missed.">				switch (curEntry.getKey()) {</span>
				case CPU:
<span class="nc" id="L3707">					final CPUFeature cpuFeature = (CPUFeature) qfeature;</span>
<span class="nc" id="L3708">					this.deleteCPUFeature(cpuFeature.getId());</span>
<span class="nc" id="L3709">					break;</span>
				case MEMORY:
<span class="nc" id="L3711">					final MemoryFeature memFeature = (MemoryFeature) qfeature;</span>
<span class="nc" id="L3712">					this.deleteMemoryFeature(memFeature.getId());</span>
<span class="nc" id="L3713">					break;</span>
				default:
					break;

				}
<span class="nc" id="L3718">			}</span>

<span class="fc bfc" id="L3720" title="All 2 branches covered.">			for (final Entry&lt;FeatureType, QualitativeFeature&gt; curEntry : implementation.getRequiredQualitativeFeatures().entrySet()) {</span>
<span class="fc" id="L3721">				final QualitativeFeature qfeature = curEntry.getValue();</span>
<span class="pc bpc" id="L3722" title="2 of 3 branches missed.">				switch (curEntry.getKey()) {</span>
				case ARCHITECTURE:
<span class="nc" id="L3724">					final ArchitectureFeature archFeature = (ArchitectureFeature) qfeature;</span>
<span class="nc" id="L3725">					this.deleteArchitectureFeature(archFeature.getId());</span>
<span class="nc" id="L3726">					break;</span>
				case LANGUAGE:
<span class="fc" id="L3728">					final LanguageFeature langFeature = (LanguageFeature) qfeature;</span>
<span class="fc" id="L3729">					this.deleteLanguageFeature(langFeature.getId());</span>
<span class="fc" id="L3730">					break;</span>
				default:
					break;

				}
<span class="fc" id="L3735">			}</span>

			// Prefetching info
<span class="fc bfc" id="L3738" title="All 2 branches covered.">			if (implementation.getPrefetchingInfo() != null) {</span>
<span class="fc" id="L3739">				this.deletePrefetchingInfo(implementation.getPrefetchingInfo().getId());</span>
			}

<span class="nc" id="L3742">		} catch (final SQLException e1) {</span>
<span class="nc" id="L3743">			logger.debug(&quot;SQL Exception in deleteJavaImplementation (first step)&quot;, e1);</span>
<span class="fc" id="L3744">		}</span>

<span class="fc" id="L3746">		Connection conn = null;</span>
		try {
<span class="fc" id="L3748">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3749">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_IMPLEMENTATION_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3750">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3752" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3753">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L3755">			stmt.executeUpdate();</span>

<span class="nc" id="L3757">		} catch (final Exception e) {</span>
<span class="nc" id="L3758">			logger.debug(&quot;SQL Exception in deleteJavaImplementation (second step)&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3761" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3762">					conn.close();</span>
				}
<span class="nc" id="L3764">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3765">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3766">			}</span>
		}
<span class="fc" id="L3768">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deletePythonImplementation(final UUID uuid) {

		try {
<span class="nc" id="L3778">			final PythonImplementation implementation = (PythonImplementation) this.getImplementationByID(uuid);</span>

			// Includes
<span class="nc bnc" id="L3781" title="All 2 branches missed.">			for (final Type included : implementation.getIncludes()) {</span>
<span class="nc" id="L3782">				this.deleteType(included.getId());</span>
<span class="nc" id="L3783">			}</span>

			// Acc. props
<span class="nc bnc" id="L3786" title="All 2 branches missed.">			for (final AccessedProperty accProp : implementation.getAccessedProperties()) {</span>
<span class="nc" id="L3787">				this.deleteAccessedProperty(accProp.getId());</span>
<span class="nc" id="L3788">			}</span>

			// Acc. impls
<span class="nc bnc" id="L3791" title="All 2 branches missed.">			for (final AccessedImplementation accImpl : implementation.getAccessedImplementations()) {</span>
<span class="nc" id="L3792">				this.deleteAccessedImplementation(accImpl.getId());</span>
<span class="nc" id="L3793">			}</span>

			// Features
<span class="nc bnc" id="L3796" title="All 2 branches missed.">			for (final Entry&lt;FeatureType, QuantitativeFeature&gt; curEntry : implementation.getRequiredQuantitativeFeatures().entrySet()) {</span>
<span class="nc" id="L3797">				final QuantitativeFeature qfeature = curEntry.getValue();</span>
<span class="nc bnc" id="L3798" title="All 3 branches missed.">				switch (curEntry.getKey()) {</span>
				case CPU:
<span class="nc" id="L3800">					final CPUFeature cpuFeature = (CPUFeature) qfeature;</span>
<span class="nc" id="L3801">					this.deleteCPUFeature(cpuFeature.getId());</span>
<span class="nc" id="L3802">					break;</span>
				case MEMORY:
<span class="nc" id="L3804">					final MemoryFeature memFeature = (MemoryFeature) qfeature;</span>
<span class="nc" id="L3805">					this.deleteMemoryFeature(memFeature.getId());</span>
<span class="nc" id="L3806">					break;</span>
				default:
					break;

				}
<span class="nc" id="L3811">			}</span>

<span class="nc bnc" id="L3813" title="All 2 branches missed.">			for (final Entry&lt;FeatureType, QualitativeFeature&gt; curEntry : implementation.getRequiredQualitativeFeatures().entrySet()) {</span>
<span class="nc" id="L3814">				final QualitativeFeature qfeature = curEntry.getValue();</span>
<span class="nc bnc" id="L3815" title="All 3 branches missed.">				switch (curEntry.getKey()) {</span>
				case ARCHITECTURE:
<span class="nc" id="L3817">					final ArchitectureFeature archFeature = (ArchitectureFeature) qfeature;</span>
<span class="nc" id="L3818">					this.deleteArchitectureFeature(archFeature.getId());</span>
<span class="nc" id="L3819">					break;</span>
				case LANGUAGE:
<span class="nc" id="L3821">					final LanguageFeature langFeature = (LanguageFeature) qfeature;</span>
<span class="nc" id="L3822">					this.deleteLanguageFeature(langFeature.getId());</span>
<span class="nc" id="L3823">					break;</span>
				default:
					break;

				}
<span class="nc" id="L3828">			}</span>

			// Prefetching info
<span class="nc bnc" id="L3831" title="All 2 branches missed.">			if (implementation.getPrefetchingInfo() != null) {</span>
<span class="nc" id="L3832">				this.deletePrefetchingInfo(implementation.getPrefetchingInfo().getId());</span>
			}

<span class="nc" id="L3835">		} catch (final SQLException e1) {</span>
<span class="nc" id="L3836">			logger.debug(&quot;SQL Exception in deletePythonImplementation (first step)&quot;, e1);</span>
<span class="nc" id="L3837">		}</span>

<span class="nc" id="L3839">		Connection conn = null;</span>
		try {
<span class="nc" id="L3841">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3842">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_IMPLEMENTATION_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3843">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3845" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3846">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3848">			stmt.executeUpdate();</span>

<span class="nc" id="L3850">		} catch (final Exception e) {</span>
<span class="nc" id="L3851">			logger.debug(&quot;SQL Exception in deletePythonImplementation (second step)&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3854" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3855">					conn.close();</span>
				}
<span class="nc" id="L3857">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3858">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3859">			}</span>
		}
<span class="nc" id="L3861">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteJavaProperty(final UUID uuid) {
<span class="fc" id="L3869">		Connection conn = null;</span>
		try {
<span class="fc" id="L3871">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3872">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_PROPERTY_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3873">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3875" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3876">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L3878">			stmt.executeUpdate();</span>

<span class="nc" id="L3880">		} catch (final Exception e) {</span>
<span class="nc" id="L3881">			logger.debug(&quot;SQL Exception in deleteJavaProperty&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3884" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3885">					conn.close();</span>
				}
<span class="nc" id="L3887">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3888">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3889">			}</span>
		}
<span class="fc" id="L3891">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deletePythonProperty(final UUID uuid) {
<span class="nc" id="L3899">		Connection conn = null;</span>
		try {
<span class="nc" id="L3901">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3902">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_PROPERTY_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3903">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L3905" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3906">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L3908">			stmt.executeUpdate();</span>

<span class="nc" id="L3910">		} catch (final Exception e) {</span>
<span class="nc" id="L3911">			logger.debug(&quot;SQL Exception in deletePythonProperty&quot;, e);</span>
		} finally {
			try {
<span class="nc bnc" id="L3914" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L3915">					conn.close();</span>
				}
<span class="nc" id="L3917">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3918">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L3919">			}</span>
		}
<span class="nc" id="L3921">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteProperty(final UUID uuid) {

		try {
<span class="fc" id="L3931">			final Property prop = this.getPropertyByID(uuid);</span>

			// Type
<span class="fc" id="L3934">			this.deleteType(prop.getType().getId());</span>

			// Extensions
<span class="fc" id="L3937">			final Map&lt;Langs, LanguageDependantPropertyInfo&gt; extensions = prop.getLanguageDepInfos();</span>
<span class="fc bfc" id="L3938" title="All 2 branches covered.">			for (final Entry&lt;Langs, LanguageDependantPropertyInfo&gt; curEntry : extensions.entrySet()) {</span>
<span class="fc" id="L3939">				final Langs lang = curEntry.getKey();</span>
<span class="pc bpc" id="L3940" title="3 of 4 branches missed.">				switch (lang) {</span>
				case LANG_JAVA:
<span class="fc" id="L3942">					final JavaPropertyInfo javaInfo = (JavaPropertyInfo) curEntry.getValue();</span>
<span class="fc" id="L3943">					this.deleteJavaProperty(javaInfo.getId());</span>
<span class="fc" id="L3944">					break;</span>
				case LANG_NONE:
<span class="nc" id="L3946">					break;</span>
				case LANG_PYTHON:
<span class="nc" id="L3948">					final PythonPropertyInfo info = (PythonPropertyInfo) curEntry.getValue();</span>
<span class="nc" id="L3949">					this.deletePythonProperty(info.getId());</span>
<span class="nc" id="L3950">					break;</span>
				default:
					break;
				}
<span class="fc" id="L3954">			}</span>

			// Annotations
<span class="pc bpc" id="L3957" title="1 of 2 branches missed.">			for (final Annotation annotation : prop.getAnnotations()) {</span>
<span class="nc" id="L3958">				this.deleteAnnotation(annotation.getId());</span>
<span class="nc" id="L3959">			}</span>

<span class="nc" id="L3961">		} catch (final SQLException e1) {</span>
<span class="nc" id="L3962">			logger.debug(&quot;SQL Exception in deleteProperty (first step)&quot;, e1);</span>
<span class="fc" id="L3963">		}</span>

<span class="fc" id="L3965">		Connection conn = null;</span>
		try {
<span class="fc" id="L3967">			conn = dataSource.getConnection();</span>
<span class="fc" id="L3968">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_PROPERTY_BY_ID.getSqlStatement());</span>
<span class="fc" id="L3969">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L3971" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L3972">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L3974">			stmt.executeUpdate();</span>

<span class="nc" id="L3976">		} catch (final Exception e) {</span>
<span class="nc" id="L3977">			logger.debug(&quot;SQL Exception in deleteProperty (second step)&quot;, e);</span>
		} finally {
			try {
<span class="pc bpc" id="L3980" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L3981">					conn.close();</span>
				}
<span class="nc" id="L3983">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L3984">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L3985">			}</span>
		}
<span class="fc" id="L3987">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of annotation to delete
	 */
	private void deleteAnnotation(final UUID uuid) {
<span class="nc" id="L3995">		Connection conn = null;</span>
		try {
<span class="nc" id="L3997">			conn = dataSource.getConnection();</span>
<span class="nc" id="L3998">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_ANNOTATION_BY_ID.getSqlStatement());</span>
<span class="nc" id="L3999">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4001" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4002">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L4004">			stmt.executeUpdate();</span>

<span class="nc" id="L4006">		} catch (final Exception e) {</span>
<span class="nc" id="L4007">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4010" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4011">					conn.close();</span>
				}
<span class="nc" id="L4013">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4014">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4015">			}</span>
		}
<span class="nc" id="L4017">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteJavaOperation(final UUID uuid) {
<span class="fc" id="L4025">		Connection conn = null;</span>
		try {
<span class="fc" id="L4027">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4028">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_OPERATION_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4029">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4031" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4032">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4034">			stmt.executeUpdate();</span>

<span class="nc" id="L4036">		} catch (final Exception e) {</span>
<span class="nc" id="L4037">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4040" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4041">					conn.close();</span>
				}
<span class="nc" id="L4043">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4044">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4045">			}</span>
		}
<span class="fc" id="L4047">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deletePythonOperation(final UUID uuid) {
<span class="nc" id="L4055">		Connection conn = null;</span>
		try {
<span class="nc" id="L4057">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4058">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_PYTHON_OPERATION_BY_ID.getSqlStatement());</span>
<span class="nc" id="L4059">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4061" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4062">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L4064">			stmt.executeUpdate();</span>

<span class="nc" id="L4066">		} catch (final Exception e) {</span>
<span class="nc" id="L4067">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4070" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4071">					conn.close();</span>
				}
<span class="nc" id="L4073">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4074">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4075">			}</span>
		}
<span class="nc" id="L4077">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteOperation(final UUID uuid) {

		try {
<span class="fc" id="L4087">			final Operation operation = this.getOperationByID(uuid);</span>

			// Params
<span class="fc bfc" id="L4090" title="All 2 branches covered.">			for (final Type paramType : operation.getParams().values()) {</span>
<span class="fc" id="L4091">				this.deleteType(paramType.getId());</span>
<span class="fc" id="L4092">			}</span>
			// Return
<span class="fc" id="L4094">			this.deleteType(operation.getReturnType().getId());</span>

			// Implementations
<span class="fc bfc" id="L4097" title="All 2 branches covered.">			for (final Implementation impl : operation.getImplementations()) {</span>
<span class="pc bpc" id="L4098" title="1 of 2 branches missed.">				if (impl instanceof JavaImplementation) {</span>
<span class="fc" id="L4099">					this.deleteJavaImplementation(impl.getDataClayID().getId());</span>
<span class="nc bnc" id="L4100" title="All 2 branches missed.">				} else if (impl instanceof PythonImplementation) {</span>
<span class="nc" id="L4101">					this.deletePythonImplementation(impl.getDataClayID().getId());</span>
				}
<span class="fc" id="L4103">			}</span>

			// Extensions
<span class="fc" id="L4106">			final Map&lt;Langs, LanguageDependantOperationInfo&gt; extensions = operation.getLanguageDepInfos();</span>
<span class="fc bfc" id="L4107" title="All 2 branches covered.">			for (final Entry&lt;Langs, LanguageDependantOperationInfo&gt; curEntry : extensions.entrySet()) {</span>
<span class="fc" id="L4108">				final Langs lang = curEntry.getKey();</span>
<span class="pc bpc" id="L4109" title="3 of 4 branches missed.">				switch (lang) {</span>
				case LANG_JAVA:
<span class="fc" id="L4111">					final JavaOperationInfo javaInfo = (JavaOperationInfo) curEntry.getValue();</span>
<span class="fc" id="L4112">					this.deleteJavaOperation(javaInfo.getId());</span>
<span class="fc" id="L4113">					break;</span>
				case LANG_NONE:
<span class="nc" id="L4115">					break;</span>
				case LANG_PYTHON:
<span class="nc" id="L4117">					final PythonOperationInfo info = (PythonOperationInfo) curEntry.getValue();</span>
<span class="nc" id="L4118">					this.deletePythonOperation(info.getId());</span>
<span class="nc" id="L4119">					break;</span>
				default:
					break;
				}
<span class="fc" id="L4123">			}</span>

<span class="nc" id="L4125">		} catch (final SQLException e1) {</span>
<span class="nc" id="L4126">			e1.printStackTrace();</span>
<span class="fc" id="L4127">		}</span>

<span class="fc" id="L4129">		Connection conn = null;</span>
		try {
<span class="fc" id="L4131">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4132">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_OPERATION_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4133">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4135" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4136">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4138">			stmt.executeUpdate();</span>

<span class="nc" id="L4140">		} catch (final Exception e) {</span>
<span class="nc" id="L4141">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4144" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4145">					conn.close();</span>
				}
<span class="nc" id="L4147">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4148">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4149">			}</span>
		}
<span class="fc" id="L4151">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteJavaClass(final UUID uuid) {
<span class="fc" id="L4159">		Connection conn = null;</span>
		try {
<span class="fc" id="L4161">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4162">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_JAVA_METACLASS_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4163">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4165" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4166">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4168">			stmt.executeUpdate();</span>

<span class="nc" id="L4170">		} catch (final Exception e) {</span>
<span class="nc" id="L4171">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4174" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4175">					conn.close();</span>
				}
<span class="nc" id="L4177">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4178">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4179">			}</span>
		}
<span class="fc" id="L4181">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deletePythonClass(final UUID uuid) {
<span class="nc" id="L4189">		Connection conn = null;</span>
		try {
<span class="nc" id="L4191">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4192">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_PYTHON_METACLASS_BY_ID.getSqlStatement());</span>
<span class="nc" id="L4193">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4195" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4196">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L4198">			stmt.executeUpdate();</span>

<span class="nc" id="L4200">		} catch (final Exception e) {</span>
<span class="nc" id="L4201">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4204" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4205">					conn.close();</span>
				}
<span class="nc" id="L4207">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4208">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4209">			}</span>
		}
<span class="nc" id="L4211">	}</span>

	/**
	 * Delete
	 * @param uuid
	 *            UUID of object to delete
	 */
	private void deleteMetaClass(final UUID uuid) {

		try {
<span class="fc" id="L4221">			final MetaClass clazz = this.getMetaClassByID(uuid);</span>

			// Parent type
<span class="pc bpc" id="L4224" title="1 of 2 branches missed.">			if (clazz.getParentType() != null) {</span>
<span class="nc" id="L4225">				this.deleteType(clazz.getParentType().getId());</span>
			}

			// Properties
<span class="fc bfc" id="L4229" title="All 2 branches covered.">			for (final Property prop : clazz.getProperties()) {</span>
<span class="fc" id="L4230">				this.deleteProperty(prop.getDataClayID().getId());</span>
<span class="fc" id="L4231">			}</span>

			// Operations
<span class="fc bfc" id="L4234" title="All 2 branches covered.">			for (final Operation op : clazz.getOperations()) {</span>
<span class="fc" id="L4235">				this.deleteOperation(op.getDataClayID().getId());</span>
<span class="fc" id="L4236">			}</span>

			// Extensions
<span class="fc" id="L4239">			final Map&lt;Langs, LanguageDependantClassInfo&gt; extensions = clazz.getLanguageDepInfos();</span>
<span class="fc bfc" id="L4240" title="All 2 branches covered.">			for (final Entry&lt;Langs, LanguageDependantClassInfo&gt; curEntry : extensions.entrySet()) {</span>
<span class="fc" id="L4241">				final Langs lang = curEntry.getKey();</span>
<span class="pc bpc" id="L4242" title="3 of 4 branches missed.">				switch (lang) {</span>
				case LANG_JAVA:
<span class="fc" id="L4244">					final JavaClassInfo javaInfo = (JavaClassInfo) curEntry.getValue();</span>
<span class="fc" id="L4245">					this.deleteJavaClass(javaInfo.getId());</span>
<span class="fc" id="L4246">					break;</span>
				case LANG_NONE:
<span class="nc" id="L4248">					break;</span>
				case LANG_PYTHON:
<span class="nc" id="L4250">					final PythonClassInfo info = (PythonClassInfo) curEntry.getValue();</span>
<span class="nc" id="L4251">					this.deletePythonClass(info.getId());</span>
<span class="nc" id="L4252">					break;</span>
				default:
					break;
				}
<span class="fc" id="L4256">			}</span>

<span class="nc" id="L4258">		} catch (final SQLException e1) {</span>
<span class="nc" id="L4259">			e1.printStackTrace();</span>
<span class="fc" id="L4260">		}</span>

<span class="fc" id="L4262">		Connection conn = null;</span>
		try {
<span class="fc" id="L4264">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4265">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.DELETE_METACLASS_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4266">			stmt.setObject(1, uuid);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4268" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4269">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4271">			stmt.executeUpdate();</span>

<span class="nc" id="L4273">		} catch (final Exception e) {</span>
<span class="nc" id="L4274">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4277" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4278">					conn.close();</span>
				}
<span class="nc" id="L4280">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4281">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4282">			}</span>
		}
<span class="fc" id="L4284">	}</span>

	/**
	 * Delete
	 * @param classID
	 *            ID of object to delete
	 */
	public void deleteClass(final MetaClassID classID) {
<span class="fc" id="L4292">		this.deleteMetaClass(classID.getId());</span>
<span class="fc" id="L4293">	}</span>

	/**
	 * Update java bytecode
	 * @param javaClassInfoUUID
	 *            UUID of JavaClassInfo
	 * @param newByteCode
	 *            New bytecode
	 */
	public void updateJavaClassByteCode(final UUID javaClassInfoUUID,
			final byte[] newByteCode) {

<span class="fc" id="L4305">		Connection conn = null;</span>
		try {
<span class="fc" id="L4307">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4308">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_JAVA_CLASS_BYTECODE_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4309">			stmt.setBytes(1, newByteCode);</span>
<span class="fc" id="L4310">			stmt.setObject(2, javaClassInfoUUID);</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4312" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4313">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4315">			stmt.executeUpdate();</span>

<span class="nc" id="L4317">		} catch (final Exception e) {</span>
<span class="nc" id="L4318">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4321" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4322">					conn.close();</span>
				}
<span class="nc" id="L4324">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4325">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4326">			}</span>
		}

<span class="fc" id="L4329">	}</span>

	/**
	 * Check if exists class in namespace
	 * @param namespaceID
	 *            ID of namespace
	 * @return TRUE if exists.
	 */
	public boolean existsClassInNamespace(final NamespaceID namespaceID) {
<span class="fc" id="L4338">		ResultSet rs = null;</span>
<span class="fc" id="L4339">		boolean exists = false;</span>
<span class="fc" id="L4340">		Connection conn = null;</span>
		try {
<span class="fc" id="L4342">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4343">			final PreparedStatement existsStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.EXISTS_CLASS_IN_NAMESPACE.getSqlStatement());</span>

<span class="fc" id="L4345">			existsStatement.setObject(1, namespaceID.getId());</span>
<span class="pc bpc" id="L4346" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4347">				logger.debug(&quot;[==DB==] Executing &quot; + existsStatement);</span>
			}
<span class="fc" id="L4349">			rs = existsStatement.executeQuery();</span>
<span class="fc" id="L4350">			rs.next();</span>
<span class="fc" id="L4351">			exists = rs.getBoolean(1);</span>
<span class="nc" id="L4352">		} catch (final Exception e) {</span>
<span class="nc" id="L4353">			e.printStackTrace();</span>
		} finally {
			try {
<span class="fc" id="L4356">				rs.close();</span>
<span class="pc bpc" id="L4357" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4358">					conn.close();</span>
				}
<span class="nc" id="L4360">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4361">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4362">			}</span>
		}

<span class="fc" id="L4365">		return exists;</span>

	}

	/**
	 * Update class with new properties and operations
	 * @param classID
	 *            ID of class
	 * @param newProperty
	 *            New property
	 * @param newSetter
	 *            New setter operation
	 * @param newGetter
	 *            New getter operation
	 */
	public void updateClassPropertiesAndOperations(final MetaClassID classID,
			final Property newProperty, final Operation newSetter,
			final Operation newGetter, final Operation newUpdate) {

<span class="fc" id="L4384">		final UUID newPropertyUUID = this.storeProperty(newProperty);</span>
<span class="fc" id="L4385">		final UUID setterUUID = this.storeOperation(newSetter);</span>
<span class="fc" id="L4386">		final UUID getterUUID = this.storeOperation(newGetter);</span>

<span class="fc" id="L4388">		UUID updateUUID = null;</span>
<span class="fc bfc" id="L4389" title="All 2 branches covered.">		if (newUpdate != null) {</span>
<span class="fc" id="L4390">			updateUUID = this.storeOperation(newUpdate);</span>
		}
<span class="fc" id="L4392">		Connection conn = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="fc" id="L4395">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4396">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_CLASS_ADD_PROPERTY_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4397">			stmt.setObject(1, newPropertyUUID);</span>
<span class="fc" id="L4398">			stmt.setObject(2, setterUUID);</span>
<span class="fc" id="L4399">			stmt.setObject(3, getterUUID);</span>
<span class="fc bfc" id="L4400" title="All 2 branches covered.">			if (updateUUID != null) {</span>
<span class="fc" id="L4401">				stmt.setObject(4, updateUUID);</span>
			} else {
<span class="fc" id="L4403">				stmt.setObject(4, null);</span>
			}
<span class="fc" id="L4405">			stmt.setObject(5, classID.getId());</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4407" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4408">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4410">			stmt.executeUpdate();</span>

<span class="nc" id="L4412">		} catch (final Exception e) {</span>
<span class="nc" id="L4413">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4416" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4417">					conn.close();</span>
				}
<span class="nc" id="L4419">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4420">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4421">			}</span>
		}

<span class="fc" id="L4424">	}</span>

	/**
	 * Update class with new properties and operations
	 * @param classID
	 *            ID of class
	 * @param newProperty
	 *            New property
	 * @param newSetter
	 *            New setter operation
	 * @param newGetter
	 *            New getter operation
	 */
	public void updateClassPropertiesAndOperations(final MetaClassID classID,
			final Property newProperty, final OperationID newSetter,
			final OperationID newGetter) {

<span class="nc" id="L4441">		final UUID newPropertyUUID = this.storeProperty(newProperty);</span>
<span class="nc" id="L4442">		final UUID setterUUID = newSetter.getId();</span>
<span class="nc" id="L4443">		final UUID getterUUID = newGetter.getId();</span>
<span class="nc" id="L4444">		Connection conn = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="nc" id="L4447">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4448">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_CLASS_ADD_PROPERTY_BY_ID.getSqlStatement());</span>
<span class="nc" id="L4449">			stmt.setObject(1, newPropertyUUID);</span>
<span class="nc" id="L4450">			stmt.setObject(2, setterUUID);</span>
<span class="nc" id="L4451">			stmt.setObject(3, getterUUID);</span>
<span class="nc" id="L4452">			stmt.setObject(4, classID.getId());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4454" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4455">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L4457">			stmt.executeUpdate();</span>

<span class="nc" id="L4459">		} catch (final Exception e) {</span>
<span class="nc" id="L4460">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4463" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4464">					conn.close();</span>
				}
<span class="nc" id="L4466">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4467">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4468">			}</span>
		}

<span class="nc" id="L4471">	}</span>

	/**
	 * Update class with new operation
	 * @param classID
	 *            ID of class
	 * @param newoperation
	 *            New operation
	 */
	public void updateClassAddOperation(final MetaClassID classID,
			final Operation newoperation) {

<span class="fc" id="L4483">		final UUID newOpUUID = this.storeOperation(newoperation);</span>
<span class="fc" id="L4484">		Connection conn = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="fc" id="L4487">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4488">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_CLASS_ADD_OPERATION_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4489">			stmt.setObject(1, newOpUUID);</span>
<span class="fc" id="L4490">			stmt.setObject(2, classID.getId());</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4492" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4493">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4495">			stmt.executeUpdate();</span>

<span class="nc" id="L4497">		} catch (final Exception e) {</span>
<span class="nc" id="L4498">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4501" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4502">					conn.close();</span>
				}
<span class="nc" id="L4504">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4505">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4506">			}</span>
		}

<span class="fc" id="L4509">	}</span>

	/**
	 * Update class removing operation
	 * @param classID
	 *            ID of class
	 * @param opID
	 *            ID of operation
	 */
	public void updateClassRemoveOperation(final MetaClassID classID,
			final OperationID opID) {

<span class="fc" id="L4521">		Connection conn = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="fc" id="L4524">			conn = dataSource.getConnection();</span>
<span class="fc" id="L4525">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_CLASS_REMOVE_OPERATION_BY_ID.getSqlStatement());</span>
<span class="fc" id="L4526">			stmt.setObject(1, opID.getId());</span>
<span class="fc" id="L4527">			stmt.setObject(2, classID.getId());</span>
			// CHECKSTYLE:ON
<span class="pc bpc" id="L4529" title="1 of 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4530">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="fc" id="L4532">			stmt.executeUpdate();</span>

<span class="nc" id="L4534">		} catch (final Exception e) {</span>
<span class="nc" id="L4535">			e.printStackTrace();</span>
		} finally {
			try {
<span class="pc bpc" id="L4538" title="1 of 2 branches missed.">				if (conn != null) {</span>
<span class="fc" id="L4539">					conn.close();</span>
				}
<span class="nc" id="L4541">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4542">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="fc" id="L4543">			}</span>
		}

<span class="fc" id="L4546">	}</span>

	/**
	 * Update operation removing implementation
	 * @param opID
	 *            ID of operation
	 * @param implID
	 *            ID of implementation
	 */
	public void updateOperationRemoveImplementation(final OperationID opID,
			final ImplementationID implID) {

<span class="nc" id="L4558">		Connection conn = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="nc" id="L4561">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4562">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_OPERATION_REMOVE_IMPLEMENTATION_BY_ID.getSqlStatement());</span>
<span class="nc" id="L4563">			stmt.setObject(1, implID.getId());</span>
<span class="nc" id="L4564">			stmt.setObject(2, opID.getId());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4566" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4567">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L4569">			stmt.executeUpdate();</span>

<span class="nc" id="L4571">		} catch (final Exception e) {</span>
<span class="nc" id="L4572">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4575" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4576">					conn.close();</span>
				}
<span class="nc" id="L4578">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4579">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4580">			}</span>
		}

<span class="nc" id="L4583">	}</span>

	/**
	 * Update operation adding implementation
	 * @param opID
	 *            ID of operation
	 * @param impl
	 *            implementation
	 */
	public void updateOperationAddImplementation(final OperationID opID,
			final Implementation impl) {

<span class="nc" id="L4595">		UUID implUUID = null;</span>
<span class="nc bnc" id="L4596" title="All 2 branches missed.">		if (impl instanceof JavaImplementation) {</span>
<span class="nc" id="L4597">			implUUID = this.storeJavaImplementation((JavaImplementation) impl);</span>
<span class="nc bnc" id="L4598" title="All 2 branches missed.">		} else if (impl instanceof PythonImplementation) {</span>
<span class="nc" id="L4599">			implUUID = this.storePythonImplementation((PythonImplementation) impl);</span>
		}

<span class="nc" id="L4602">		Connection conn = null;</span>
		try {
			// CHECKSTYLE:OFF
<span class="nc" id="L4605">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4606">			final PreparedStatement stmt = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.UPDATE_OPERATION_ADD_IMPLEMENTATION_BY_ID.getSqlStatement());</span>
<span class="nc" id="L4607">			stmt.setObject(1, implUUID);</span>
<span class="nc" id="L4608">			stmt.setObject(2, opID.getId());</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4610" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4611">				logger.debug(&quot;[==DB==] Executing &quot; + stmt);</span>
			}
<span class="nc" id="L4613">			stmt.executeUpdate();</span>

<span class="nc" id="L4615">		} catch (final Exception e) {</span>
<span class="nc" id="L4616">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4619" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4620">					conn.close();</span>
				}
<span class="nc" id="L4622">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4623">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4624">			}</span>
		}

<span class="nc" id="L4627">	}</span>

	/**
	 * Delete operation recursively
	 * @param dataClayID
	 *            ID of operation
	 */
	public void deleteOperation(final OperationID dataClayID) {
<span class="fc" id="L4635">		this.deleteOperation(dataClayID.getId());</span>
<span class="fc" id="L4636">	}</span>

	/**
	 * Delete implementation recursively
	 * @param impl
	 *            implementation
	 */
	public void deleteImplementation(final Implementation impl) {
<span class="nc bnc" id="L4644" title="All 2 branches missed.">		if (impl instanceof JavaImplementation) {</span>
<span class="nc" id="L4645">			deleteJavaImplementation(impl.getDataClayID().getId());</span>
<span class="nc bnc" id="L4646" title="All 2 branches missed.">		} else if (impl instanceof PythonImplementation) {</span>
<span class="nc" id="L4647">			deletePythonImplementation(impl.getDataClayID().getId());</span>
		}
<span class="nc" id="L4649">	}</span>

	/**
	 * Check if exists class in some type
	 * @param classID
	 *            ID of class
	 * @return TRUE if exists.
	 */
	public boolean existsClassInSomeType(final MetaClassID classID) {
<span class="nc" id="L4658">		ResultSet rs = null;</span>
<span class="nc" id="L4659">		boolean exists = false;</span>
<span class="nc" id="L4660">		Connection conn = null;</span>
		try {
<span class="nc" id="L4662">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4663">			final PreparedStatement existsStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.EXISTS_TYPE_CLASS_ID.getSqlStatement());</span>

<span class="nc" id="L4665">			existsStatement.setObject(1, classID.getId());</span>
<span class="nc bnc" id="L4666" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4667">				logger.debug(&quot;[==DB==] Executing &quot; + existsStatement);</span>
			}
<span class="nc" id="L4669">			rs = existsStatement.executeQuery();</span>
<span class="nc" id="L4670">			rs.next();</span>
<span class="nc" id="L4671">			exists = rs.getBoolean(1);</span>
<span class="nc" id="L4672">		} catch (final Exception e) {</span>
<span class="nc" id="L4673">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc" id="L4676">				rs.close();</span>
<span class="nc bnc" id="L4677" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4678">					conn.close();</span>
				}
<span class="nc" id="L4680">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4681">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4682">			}</span>
		}

<span class="nc" id="L4685">		return exists;</span>

	}

	/**
	 * Check if exists accessed implementation
	 * @param implID
	 *            ID of implementation
	 * @return TRUE if exists.
	 */
	public boolean existsAccessedImplementationWithID(final ImplementationID implID) {
<span class="nc" id="L4696">		ResultSet rs = null;</span>
<span class="nc" id="L4697">		boolean exists = false;</span>
<span class="nc" id="L4698">		Connection conn = null;</span>
		try {
<span class="nc" id="L4700">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4701">			final PreparedStatement existsStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.EXISTS_ACCESSED_IMPLEMENTATION_ID.getSqlStatement());</span>

<span class="nc" id="L4703">			existsStatement.setObject(1, implID.getId());</span>
<span class="nc bnc" id="L4704" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4705">				logger.debug(&quot;[==DB==] Executing &quot; + existsStatement);</span>
			}
<span class="nc" id="L4707">			rs = existsStatement.executeQuery();</span>
<span class="nc" id="L4708">			rs.next();</span>
<span class="nc" id="L4709">			exists = rs.getBoolean(1);</span>
<span class="nc" id="L4710">		} catch (final Exception e) {</span>
<span class="nc" id="L4711">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc" id="L4714">				rs.close();</span>
<span class="nc bnc" id="L4715" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4716">					conn.close();</span>
				}
<span class="nc" id="L4718">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4719">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4720">			}</span>
		}

<span class="nc" id="L4723">		return exists;</span>

	}

	/**
	 * Get class by name and namespace id
	 * @param className
	 *            Name of class
	 * @param namespaceID
	 *            Namespace ID
	 * @return The class
	 */
	public MetaClass getClassByNameAndNamespaceID(final String className,
			final NamespaceID namespaceID) {
<span class="nc" id="L4737">		ResultSet rs = null;</span>
<span class="nc" id="L4738">		MetaClass result = null;</span>
<span class="nc" id="L4739">		Connection conn = null;</span>
		try {
<span class="nc" id="L4741">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4742">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_CLASS_BY_NAME_AND_NAMESPACEID.getSqlStatement());</span>

<span class="nc" id="L4744">			selectStatement.setString(1, className);</span>
<span class="nc" id="L4745">			selectStatement.setObject(2, namespaceID.getId());</span>
<span class="nc bnc" id="L4746" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4747">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L4749">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L4750" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L4751">				result = deserializeMetaClass(rs);</span>
			}
<span class="nc" id="L4753">		} catch (final SQLException e) {</span>
<span class="nc" id="L4754">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4757" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L4758">					rs.close();</span>
				}
<span class="nc bnc" id="L4760" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4761">					conn.close();</span>
				}
<span class="nc" id="L4763">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4764">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4765">			}</span>
		}

<span class="nc" id="L4768">		return result;</span>
	}

	/**
	 * Get class by name and namespace id
	 * @param className
	 *            Name of class
	 * @param namespace
	 *            Namespace
	 * @return The class
	 */
	public MetaClass getClassByNameAndNamespace(final String className,
			final String namespace) {
<span class="nc" id="L4781">		ResultSet rs = null;</span>
<span class="nc" id="L4782">		MetaClass result = null;</span>
<span class="nc" id="L4783">		Connection conn = null;</span>
		try {
<span class="nc" id="L4785">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4786">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_CLASS_BY_NAME_AND_NAMESPACE.getSqlStatement());</span>

<span class="nc" id="L4788">			selectStatement.setString(1, className);</span>
<span class="nc" id="L4789">			selectStatement.setString(2, namespace);</span>
<span class="nc bnc" id="L4790" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4791">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L4793">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L4794" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L4795">				result = deserializeMetaClass(rs);</span>
			}
<span class="nc" id="L4797">		} catch (final SQLException e) {</span>
<span class="nc" id="L4798">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4801" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L4802">					rs.close();</span>
				}
<span class="nc bnc" id="L4804" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4805">					conn.close();</span>
				}
<span class="nc" id="L4807">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4808">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4809">			}</span>
		}

<span class="nc" id="L4812">		return result;</span>
	}

	/**
	 * Get property by names
	 * @param propertyName
	 *            property name
	 * @param className
	 *            Name of class
	 * @param namespace
	 *            Namespace
	 * @return The property
	 */
	public Property getPropertyByNames(final String propertyName, final String className,
			final String namespace) {
<span class="nc" id="L4827">		ResultSet rs = null;</span>
<span class="nc" id="L4828">		Property result = null;</span>
<span class="nc" id="L4829">		Connection conn = null;</span>
		try {
<span class="nc" id="L4831">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4832">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PROPERTY_BY_NAMES.getSqlStatement());</span>
<span class="nc" id="L4833">			selectStatement.setString(1, propertyName);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L4835">			selectStatement.setString(2, className);</span>
<span class="nc" id="L4836">			selectStatement.setString(3, namespace);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4838" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4839">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L4841">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L4842" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L4843">				result = deserializeProperty(rs);</span>
			}
<span class="nc" id="L4845">		} catch (final SQLException e) {</span>
<span class="nc" id="L4846">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4849" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L4850">					rs.close();</span>
				}
<span class="nc bnc" id="L4852" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4853">					conn.close();</span>
				}
<span class="nc" id="L4855">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4856">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4857">			}</span>
		}

<span class="nc" id="L4860">		return result;</span>
	}

	/**
	 * Get operation by names
	 * @param operationSignature
	 *            signature
	 * @param className
	 *            Name of class
	 * @param namespace
	 *            Namespace
	 * @return The Operation
	 */
	public Operation getOperationByNames(final String operationSignature, final String className,
			final String namespace) {
<span class="nc" id="L4875">		ResultSet rs = null;</span>
<span class="nc" id="L4876">		Operation result = null;</span>
<span class="nc" id="L4877">		Connection conn = null;</span>
		try {
<span class="nc" id="L4879">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4880">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_OPERATION_BY_NAMES.getSqlStatement());</span>
<span class="nc" id="L4881">			selectStatement.setString(1, operationSignature);</span>
<span class="nc" id="L4882">			selectStatement.setString(2, className);</span>
			// CHECKSTYLE:OFF
<span class="nc" id="L4884">			selectStatement.setString(3, namespace);</span>
			// CHECKSTYLE:ON
<span class="nc bnc" id="L4886" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4887">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L4889">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L4890" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L4891">				result = deserializeOperation(rs);</span>
			}
<span class="nc" id="L4893">		} catch (final SQLException e) {</span>
<span class="nc" id="L4894">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4897" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L4898">					rs.close();</span>
				}
<span class="nc bnc" id="L4900" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4901">					conn.close();</span>
				}
<span class="nc" id="L4903">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4904">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4905">			}</span>
		}

<span class="nc" id="L4908">		return result;</span>
	}

	/**
	 * Get properties by class id and namespace id
	 * @param classID
	 *            ID of class
	 * @param namespaceID
	 *            Namespace ID
	 * @return The properties
	 */
	public List&lt;Property&gt; getPropertiesByClassIDAndNamespaceID(final MetaClassID classID,
			final NamespaceID namespaceID) {
<span class="nc" id="L4921">		ResultSet rs = null;</span>
<span class="nc" id="L4922">		final List&lt;Property&gt; result = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L4923">		Connection conn = null;</span>
		try {
<span class="nc" id="L4925">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4926">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_PROPERTY_OF_ENRICHMENT.getSqlStatement());</span>

<span class="nc" id="L4928">			selectStatement.setObject(1, classID.getId());</span>
<span class="nc" id="L4929">			selectStatement.setObject(2, namespaceID.getId());</span>
<span class="nc bnc" id="L4930" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4931">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L4933">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L4934" title="All 2 branches missed.">			while (rs.next()) {</span>
<span class="nc" id="L4935">				result.add(deserializeProperty(rs));</span>
			}
<span class="nc" id="L4937">		} catch (final SQLException e) {</span>
<span class="nc" id="L4938">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4941" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L4942">					rs.close();</span>
				}
<span class="nc bnc" id="L4944" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4945">					conn.close();</span>
				}
<span class="nc" id="L4947">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4948">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4949">			}</span>
		}

<span class="nc" id="L4952">		return result;</span>
	}

	/**
	 * Get operations by class id and namespace id
	 * @param classID
	 *            ID of class
	 * @param namespaceID
	 *            Namespace ID
	 * @return The operations
	 */
	public List&lt;Operation&gt; getOperationsByClassIDAndNamespaceID(final MetaClassID classID,
			final NamespaceID namespaceID) {
<span class="nc" id="L4965">		ResultSet rs = null;</span>
<span class="nc" id="L4966">		final List&lt;Operation&gt; result = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L4967">		Connection conn = null;</span>
		try {
<span class="nc" id="L4969">			conn = dataSource.getConnection();</span>
<span class="nc" id="L4970">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_OPERATION_OF_ENRICHMENT.getSqlStatement());</span>

<span class="nc" id="L4972">			selectStatement.setObject(1, classID.getId());</span>
<span class="nc" id="L4973">			selectStatement.setObject(2, namespaceID.getId());</span>
<span class="nc bnc" id="L4974" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L4975">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L4977">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L4978" title="All 2 branches missed.">			while (rs.next()) {</span>
<span class="nc" id="L4979">				result.add(deserializeOperation(rs));</span>
			}
<span class="nc" id="L4981">		} catch (final SQLException e) {</span>
<span class="nc" id="L4982">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L4985" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L4986">					rs.close();</span>
				}
<span class="nc bnc" id="L4988" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L4989">					conn.close();</span>
				}
<span class="nc" id="L4991">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L4992">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L4993">			}</span>
		}

<span class="nc" id="L4996">		return result;</span>
	}

	/**
	 * Get classes in namespace
	 * @param namespaceID
	 *            Namespace ID
	 * @return The classes
	 */
	public List&lt;MetaClass&gt; getClassesInNamespace(
			final NamespaceID namespaceID) {
<span class="nc" id="L5007">		ResultSet rs = null;</span>
<span class="nc" id="L5008">		final List&lt;MetaClass&gt; result = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L5009">		Connection conn = null;</span>
		try {
<span class="nc" id="L5011">			conn = dataSource.getConnection();</span>
<span class="nc" id="L5012">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_CLASSES_IN_NAMESPACE.getSqlStatement());</span>

<span class="nc" id="L5014">			selectStatement.setObject(1, namespaceID.getId());</span>
<span class="nc bnc" id="L5015" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L5016">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L5018">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L5019" title="All 2 branches missed.">			while (rs.next()) {</span>
<span class="nc" id="L5020">				result.add(deserializeMetaClass(rs));</span>
			}
<span class="nc" id="L5022">		} catch (final SQLException e) {</span>
<span class="nc" id="L5023">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L5026" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L5027">					rs.close();</span>
				}
<span class="nc bnc" id="L5029" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L5030">					conn.close();</span>
				}
<span class="nc" id="L5032">			} catch (final SQLException ex1) {</span>
<span class="nc" id="L5033">				logger.debug(&quot;SQL Exception while closing connection&quot;, ex1);</span>
<span class="nc" id="L5034">			}</span>
		}

<span class="nc" id="L5037">		return result;</span>
	}

	public MetaClassID getClassIDByNameAndNamespaceID(final String className, final NamespaceID nspaceID) {
<span class="nc" id="L5041">		ResultSet rs = null;</span>
<span class="nc" id="L5042">		MetaClassID result = null;</span>
<span class="nc" id="L5043">		Connection conn = null;</span>
		try {
<span class="nc" id="L5045">			conn = dataSource.getConnection();</span>
<span class="nc" id="L5046">			final PreparedStatement selectStatement = conn.prepareStatement(ClassManagerSQLStatements.SqlStatements.SELECT_CLASSID_BY_NAME_AND_NAMESPACEID.getSqlStatement());</span>

<span class="nc" id="L5048">			selectStatement.setString(1, className);</span>
<span class="nc" id="L5049">			selectStatement.setObject(2, nspaceID.getId());</span>
<span class="nc bnc" id="L5050" title="All 2 branches missed.">			if (DEBUG_ENABLED) {</span>
<span class="nc" id="L5051">				logger.debug(&quot;[==DB==] Executing &quot; + selectStatement);</span>
			}
<span class="nc" id="L5053">			rs = selectStatement.executeQuery();</span>
<span class="nc bnc" id="L5054" title="All 2 branches missed.">			if (rs.next()) {</span>
<span class="nc" id="L5055">				result = new MetaClassID((UUID)rs.getObject(&quot;id&quot;));</span>
			}
<span class="nc" id="L5057">		} catch (final SQLException e) {</span>
<span class="nc" id="L5058">			e.printStackTrace();</span>
		} finally {
			try {
<span class="nc bnc" id="L5061" title="All 2 branches missed.">				if (rs != null) {</span>
<span class="nc" id="L5062">					rs.close();</span>
				}
<span class="nc bnc" id="L5064" title="All 2 branches missed.">				if (conn != null) {</span>
<span class="nc" id="L5065">					conn.close();</span>
				}
<span class="nc" id="L5067">			} catch (final SQLException e) {</span>
<span class="nc" id="L5068">				e.printStackTrace();</span>
<span class="nc" id="L5069">			}</span>
		}

<span class="nc" id="L5072">		return result;</span>
	}
	
	/**
	 * Close DB.
	 */
	public void close() {
		try {
<span class="fc" id="L5080">			dataSource.close();</span>
<span class="nc" id="L5081">		} catch (final SQLException e) {</span>
			// TODO Auto-generated catch block
<span class="nc" id="L5083">			e.printStackTrace();</span>
<span class="fc" id="L5084">		}</span>
<span class="fc" id="L5085">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>